(self.modernJsonp=self.modernJsonp||[]).push([["75761"],{894870:function(e,t,s){s.d(t,{q:()=>_});var l=s(667294),r=s(581722),a=s(312048),i=s(322830),o=s(935059),n=s(575820),u=s(966039),c=s(179664),d=s(513504);let _=()=>{let e=(0,a.TH)(),t=(0,o.Z)(),s=(0,r.I0)(),{getNuxSignals:_,selectedUseCases:m,selectedPins:f,shouldUseNewReducerState:p}=(0,c.u)(),g=p?_():(0,u.rQ)(m,f);return(0,l.useCallback)(()=>{let l=t.isAuth&&t.firstHomeFeedRequestAfterNux,r=(0,i.Z)({viewerIsPartner:t.isAuth&&t.isPartner,inNux:(l&&s((0,d.H5)(!1)),l),staticFeed:!!(e&&(e.pathname.includes("pwt_performance_testing")||void 0!==(0,n.mB)(e.search).pwt_performance_testing)),inNewsHub:e?.pathname.includes("news_hub")??!1});return{name:"UserHomefeedResource",options:g.length>0?{...r,nux_signals_map:g}:r}},[s,t,e,g])}},322830:function(e,t,s){s.d(t,{Z:()=>l});let l=({inNux:e,inNewsHub:t,staticFeed:s,viewerIsPartner:l})=>({field_set_key:l?"hf_grid_partner":"hf_grid",in_nux:e,in_news_hub:t,static_feed:s})},400962:function(e,t,s){s.d(t,{aX:()=>_,nK:()=>m,ou:()=>u});var l=s(667294),r=s(312048),a=s(213491),i=s(520803),o=s(785893);let{Provider:n,get:u}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){let s={action:t.type,location:t.location,match:t.match};if(t.location===e.current?.location)return e;switch(t.type){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(s.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:s,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:s};default:return e}}function _(){let{current:e,previous:t}=u();return(0,l.useMemo)(()=>e?t.concat(e):t,[e,t])}function m({children:e}){let t=(0,r.ur)(),s=(0,r.TH)(),a=(0,i.Z)(),[u,c]=(0,l.useReducer)(d,{forward:[],current:{action:t,location:s,match:a},previous:[]}),_=(0,l.useRef)(s),m=(0,l.useRef)(a);return(_.current!==s||m.current!==a)&&(c({type:t,location:s,match:a}),_.current=s,m.current=a),(0,o.jsx)(n,{value:u,children:e})}},343669:function(e,t,s){s.d(t,{G6:()=>a,i7:()=>i,oi:()=>l,u$:()=>r,un:()=>n,vU:()=>o,w1:()=>u});let l=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),r=e=>e?e.includes("Chrome")?l.CHROME:e.includes("Safari")?l.SAFARI:e.includes("Firefox")?l.FIREFOX:e.includes("Opera")?l.OPERA:e.includes("IE")?l.IE:e.includes("Edge")?l.EDGE:l.OTHER:l.OTHER;function a(e){return r(e)===l.SAFARI}function i(e){return r(e)===l.CHROME}function o(e){return r(e)===l.FIREFOX}function n(e){return r(e)===l.EDGE}function u(e){return r(e)===l.IE}},419025:function(e,t,s){s.d(t,{Bx:()=>r,N4:()=>i,is:()=>o,lt:()=>l,oM:()=>a});let l=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),r=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),a=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),i=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),o=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},818244:function(e,t,s){s.d(t,{g:()=>i,t:()=>a});var l=s(667294);let r=(0,l.createContext)(null),a=r,i=()=>(0,l.useContext)(r)},943152:function(e,t,s){s.d(t,{Z:()=>i});var l=s(419025),r=s(24246),a=s(36776);let i=()=>{let{loginForMore:e,viewer:t,limitedLoginModalSubheader:s}=(0,a.m)(),i=(0,r.Z)();return"AUTH"===t.type?null:t=>{e?.setVisible(!0),s?.setText(t?.loginModalHeader||(0,l.lt)(i))}}},995514:function(e,t,s){s.d(t,{Z:()=>i});var l=s(375181),r=s(24246),a=s(216975);function i(){let e=(0,r.Z)();return function(t,s){let r=new Date(t).getTime(),i=Date.now()-r,o=Math.floor(i/l.FS),n=Math.floor(i/l.UK),u=Math.floor(i/l.F4),c=Math.floor(i/l.VL),d=Math.floor(i/l.N9),_=Math.floor(i/l.N1),m=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', o, ' - ', ' -- '),f=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', n, ' - ', ' -- '),p=e.ngettext('{{ days }} day ago', '{{ days }} days ago', u, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),h=e.ngettext('{{ months }} month ago', '{{ months }} months ago', d, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),b=e.ngettext('{{ years }} year ago', '{{ years }} years ago', _, ' - ', ' -- '),A=e.ngettext('{{ minutes }}m', '{{ minutes }}m', o, 'minutes ago abbreviated', 'minutes ago abbreviated'),E=e.ngettext('{{ hours }}h', '{{ hours }}h', n, 'hours ago abbreviated', 'hours ago abbreviated'),P=e.ngettext('{{ days }}d', '{{ days }}d', u, 'days ago abbreviated', 'days ago abbreviated'),y=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),w=e.ngettext('{{ months }}mo', '{{ months }}mo', d, 'months ago abbreviated', 'months ago abbreviated'),v=e.ngettext('{{ years }}y', '{{ years }}y', _, 'years ago abbreviated', 'years ago abbreviated');return _>0?(0,a.nk)(s?v:b,{years:_}).join(""):d>0?(0,a.nk)(s?w:h,{months:d}).join(""):c>0?(0,a.nk)(s?y:g,{weeks:c}).join(""):u>0?(0,a.nk)(s?P:p,{days:u}).join(""):n>0?(0,a.nk)(s?E:f,{hours:n}).join(""):o>0?(0,a.nk)(s?A:m,{minutes:o}).join(""):e._('Just now', ' - ', ' -- ')}}},877904:function(e,t,s){s.d(t,{Z:()=>r});var l=s(767415);function r(e,t){return new Promise((s,r)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)s();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),s()):(e+=1,(0,l.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}else if("GSI"===t)if(window.google)s();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),s()):(e+=1,(0,l.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}else s()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>s()),t.addEventListener("error",r),document.getElementsByTagName("head")[0].appendChild(t)}})}},566431:function(e,t,s){s.d(t,{Mt:()=>E,NK:()=>g,P6:()=>a,UE:()=>y,ZE:()=>f,Zt:()=>p,_J:()=>u,_S:()=>h,cL:()=>_,iR:()=>b,jL:()=>n,oN:()=>r,oU:()=>P,rM:()=>m,sV:()=>c,sY:()=>d,yp:()=>i});var l=s(764682);let r=5e3,a=5e3/l.gJ,i="Pin page",o=["Uploaded by user"],n=(e,t)=>!!t&&!e,u=e=>!!e&&5!==e,c=e=>["email","messages","deep_linking"].includes(e),d=e=>!!e&&"gif"===e,_=({embedSrc:e,embedSubtype:t,embedType:s})=>!!e&&!d(s)&&"pinstory"!==t,m=({link:e,mobileLink:t,trackedLink:s,utmLink:l})=>!t&&!l&&!s&&!e,f=e=>{if(!e)return!1;try{let{hostname:t}=new URL(e),s=t.toLowerCase();return"pin.it"===s||s.endsWith(".pin.it")}catch{return/\bpin\.it\b/i.test(e)}},p=({link:e,mobileLink:t,origImageUrl:s,trackedLink:l,utmLink:r})=>t||r||l||e||s||"",g=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function h(e){for(let t of o)if(e===t)return!1;return!0}function b(e){if(!e)return!1;let{id:t,videos:s}=e;if(t&&s?.id&&s.video_list){let{V_720P:e,V_HLSV4:t,V_HLSV3_MOBILE:l}=s.video_list;if(e&&A(e)||t&&A(t)||l&&A(l))return!0}let l=e.story_pin_data?.pages?.[0]?.blocks;if(l){for(let e of l)if("story_pin_video_block"===e.type&&e?.video)return!0}return!1}function A(e){return!!(e.thumbnail&&e.url&&e.width&&e.height)}function E(e){return e?/(?:v\/|V\/|be\/|(?:\?|&)v=|embed\/|shorts\/)([\w-]+)/.exec(e)?.[1]??null:null}function P({isVideo:e,link:t}){return!!e&&!!t&&!!/(youtu(|.)be)/.exec(t)&&!!E(t)}let y=e=>"button"in e&&1===e.button},890678:function(e,t,s){s.d(t,{Z:()=>a});var l=s(629972),r=s(957547);function a(e){let{enabledRouteRefresh:t,headers:s,name:a,noCache:i,options:o,schema:n}=e??{name:l.fY,options:null},u=!e,{fetchResource:c,ref:d,fetchMore:_,isFetching:m,isLoaded:f,isRefreshing:p,refresh:g}=(0,r.Z)({enabledRouteRefresh:t,headers:s,name:a,noCache:i,options:o,schema:n},u,!1);return u||c(),{ref:d,fetchMore:_,isFetching:m,isLoaded:f,isRefreshing:p,refresh:g}}},233550:function(e,t,s){s.d(t,{l:()=>a,r:()=>i});var l=s(667294);let r=(0,l.createContext)(null),a=()=>(0,l.useContext)(r),i=r},680589:function(e,t,s){s.d(t,{ZP:()=>l});function l(e,t=80,s="…",r=!1){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)a=e.substring(0,t);else{let s=e.lastIndexOf(" ",t);a=e.substring(0,s)}return(a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""))+s}},380938:function(e,t,s){s.d(t,{Z:()=>o});var l=s(686659),r=s(667294),a=s(20256),i=s(785893);function o({ariaHidden:e=!1,color:t,size:s}){return(0,r.useEffect)(()=>{(0,l.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,i.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,i.jsx)(a.xv,{color:t,inline:!0,size:s??"200",children:"·"})})}},49629:function(e,t,s){s.d(t,{Z:()=>r});var l=s(755725);let r=({url:e})=>{let t=(0,l.Z)("/");return 0===e.lastIndexOf(t,0)?e.substr(t.length-1):e}},764682:function(e,t,s){s.d(t,{$f:()=>r,Cy:()=>n,DR:()=>l,Fm:()=>o,bR:()=>i,gJ:()=>a,lG:()=>u});let l=1,r=2,a=1e3,i=1e3,o=1e3,n=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),u=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},190914:function(e,t,s){s.d(t,{r:()=>h,W:()=>g});var l=s(667294),r=s(213491),a=s(935059),i=s(661376),o=s(739258),n=s(15881),u=s(418282),c=s(640200);let d=e=>{let t={};for(let s in e)Object.prototype.hasOwnProperty.call(e,s)&&("object"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?t[(0,c.Z)(s)]=e[s]:t[(0,c.Z)(s)]=d(e[s]));return t},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},m=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}};var f=s(785893);let{Provider:p,getMaybe:g}=(0,r.Z)("RoleBasedAccessControlContext"),h=({children:e})=>{let t=(0,a.Z)(),s=!!(t.isAuth&&t.isPartner),{state:r,actions:c,receiveProfiles:g}=(e=>{let[t,s]=(0,l.useReducer)(m,_),r=(({dispatch:e,isEnabled:t,state:s})=>{let{orbacVisibility:r,disableProfileChanger:a,headerVisible:i}=s,o=(0,l.useCallback)(s=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:s})},[t,e]);return{changeProfile:o,toggleORBACVisibility:(0,l.useCallback)(s=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:s??!r})},[t,e,r]),toggleDisableProfileChanger:(0,l.useCallback)(s=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:s??!a})},[t,e,a]),toggleHeaderVisibility:(0,l.useCallback)(s=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:s??!i})},[t,e,i])}})({dispatch:s,isEnabled:e,state:t}),{activeProfile:a,orbacVisibility:i}=t;return(0,l.useEffect)(()=>{let e=(0,u.Nl)().getItem(n.Zo)||!1;e&&s({type:"SET_ACTIVE_PROFILE",payload:e})},[]),(0,l.useEffect)(()=>{let e=(0,u.Nl)().getItem(n.ig)||!1;e&&s({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})},[]),(0,l.useEffect)(()=>{(0,u.Nl)().setItem(n.ig,i)},[i]),(0,l.useEffect)(()=>{(0,u.Nl)().setItem(n.Zo,a)},[a]),{state:t,actions:r,receiveProfiles:(0,l.useCallback)((e,t)=>{s({type:"LOAD_PROFILES",payload:((e,t)=>{let s=[];for(let l in e)l!==t&&s.push({id:l,...d(e[l])});let l=s.sort(({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t)),r=new Map;for(let e of l)r.set(e.id,e);return r})(e,t)})},[s])}})(s),{activeProfile:h,headerVisible:b,profiles:A}=r,E=(0,l.useMemo)(()=>A?Array.from(A.values()):[],[A]),P=(0,o.Z)(E),y=!!t.isAuth&&E.length>0&&P,w=t.isAuth?t.id:"",v=t.isAuth?t.username:"",{changeProfile:C,toggleORBACVisibility:I,toggleDisableProfileChanger:S,toggleHeaderVisibility:R}=c;(0,l.useEffect)(()=>{if(s){if("string"==typeof P)return void C(P);h||C(w)}},[P,w,s,C,h]),(0,l.useEffect)(()=>{s&&(y&&!b&&R(!0),!y&&b&&R(!1))},[R,y,s,b,A]);let{data:L}=(0,i.Z)(s?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),U=L?.profiles,T=(0,l.useMemo)(()=>t&&t.isAuth&&h===t.id?{id:t.id,permissions:["OWNER"],user:{username:v,businessName:t.fullName,imgUrl:t.imageSmallUrl}}:h&&A?A.get(h):void 0,[h,A,t,v]);(0,l.useEffect)(()=>{U&&g(U,w)},[g,U,w]);let k=(0,l.useMemo)(()=>({profiles:E,headerVisible:b,activeProfile:T,changeProfile:C,toggleORBACVisibility:I,toggleDisableProfileChanger:S,toggleHeaderVisibility:R}),[E,b,T,C,I,S,R]);return(0,f.jsx)(p,{value:k,children:e})}},200619:function(e,t,s){s.d(t,{Z:()=>n});var l=s(667294),r=s(501010),a=s(190914),i=s(739258);let o=Object.freeze({}),n=()=>{let{checkExperiment:e}=(0,r.Z)(),t=(0,a.W)(),{activeProfile:s}=t||{},n=(0,i.Z)(t?.profiles||[]),{anyEnabled:u}=e("useorbacroutematcher_in_useorbacactingas");return(0,l.useMemo)(()=>u&&!n?o:s&&(s.viewerMeetsMfaRequirement||(s.permissions||[]).includes("OWNER"))?s:o,[u,n,s])}},739258:function(e,t,s){s.d(t,{Z:()=>o});var l=s(312048),r=s(935059),a=s(173874),i=s(228612);let o=e=>{let t=(0,l.TH)(),s=(0,r.Z)(),o=(0,i.S6)(),n=(0,l.bS)("/:username"),u=(0,l.bS)("/:username/*"),c=(n||u)?.params?.username,d=(0,l.bS)("/pin/:id"),_=!!d?.params?.id&&o(d.params.id)?.pinner?.id;if((0,a.ej)(t))return!1;if((0,a.RU)(t)||(0,a.mY)(t))return!0;let m=[...e,...s.isAuth?[{user:{username:s.username},id:s.id}]:[]].find(e=>{if(!e)return!1;let{user:t,id:s}=e;return(!!t&&"username"in t&&!!t.username&&!!c||!!_&&!!s)&&(t.username===c||_===s)});return!!m&&m.id}},601871:function(e,t,s){s.d(t,{D3:()=>d,DX:()=>u,Fk:()=>l,KY:()=>_,Ms:()=>r,N1:()=>m,_P:()=>n,gJ:()=>a,lJ:()=>o,nl:()=>i,q6:()=>c});let l=(e,t)=>{let s=e&&e.isAuth?e.fullName:"";return e&&t&&t.user&&t.user.businessName&&(s=t.user.businessName),s},r=(e,t)=>{let s=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(s=t.user.username),s},a=(e,t)=>{let s=e&&e.isAuth?e.imageMediumUrl:"";return e&&t&&t.user&&t.user.imgUrl&&(s=t.user.imgUrl),s},i=(e,t)=>!!(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),o=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",n=(e,t,s)=>s&&s.user&&t&&t.isAuth&&s.id!==t.id?s.user.merchantId:e.advertiser?.merchant_id,u=(e,t,s)=>s&&s.user&&e.isAuth&&s.id!==e.id?s.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,c=(e,t,s)=>!!(e&&e.isAuth&&s&&s.id&&s.id!==e.id&&s.id===t),d=(e,t,s)=>!!(c(e,t,s)||e&&e.isAuth&&t===e.id),_=(e,t,s)=>d(e,t&&t.owner&&t.owner.id||"",s);function m(e,t,s){return d(e,t?t.id:"",s)}},49254:function(e,t,s){s.d(t,{c:()=>r,t:()=>a});var l=s(380108);function r({children:e}){let{height:t}=(0,l.Z)();return e(t)}function a(){let{height:e}=(0,l.Z)();return e}},380108:function(e,t,s){s.d(t,{C:()=>l,Z:()=>a});let{Provider:l,get:r}=(0,s(213491).Z)("Header"),a=r},277455:function(e,t,s){s.d(t,{C:()=>n,R:()=>o});var l=s(667294),r=s(213491),a=s(785893);let{Provider:i,get:o}=(0,r.Z)("MostRecentPin");function n({children:e}){let[t,s]=(0,l.useState)(),[r,o]=(0,l.useState)(),n=(0,l.useCallback)(e=>{o([e].concat((r?r.slice(0,10):[]).filter(t=>t!==e)))},[r]),u=(0,l.useMemo)(()=>({id:t,plpImageSignatures:r,setMostRecentPinId:s,setMostRecentPinImage:n}),[t,r,n]);return(0,a.jsx)(i,{value:u,children:e})}},529312:function(e,t,s){s.d(t,{A:()=>o,w:()=>n});var l=s(667294),r=s(213491),a=s(785893);let{Provider:i,get:o}=(0,r.Z)("Session");function n({children:e}){let[t,s]=(0,l.useState)(void 0),r=(0,l.useCallback)(()=>s(void 0),[]),o=(0,l.useMemo)(()=>({unauthFollowUserId:t,setUnauthFollowUserId:s,removeUnauthFollowUserId:r}),[t,r]);return(0,a.jsx)(i,{value:o,children:e})}},464094:function(e,t,s){s.d(t,{AC:()=>i,FC:()=>c,FP:()=>n,M0:()=>o,SA:()=>_,Xq:()=>d,Y_:()=>a,o2:()=>r,s0:()=>l,z9:()=>u});let l=44,r=40,a=49,i=69,o=236,n=157,u=320,c=213,d=7,_=["US","GB","CA","FR","DE","AT","CH","IT","ES","AU","BR","NL","MX"]},966039:function(e,t,s){s.d(t,{Es:()=>u,HW:()=>n,er:()=>d,rQ:()=>c});var l=s(4533),r=s(34550),a=s(767415);let i=e=>e>=Date.now()-72e5,o=(e,t)=>{let s=[];if(e)for(let l of e)(!t||l.is_shared)&&i(l.ts)&&s.push(l);return s},n=()=>{let e=(0,r.M0)().getItem(l.uc)??[],t=o(e,!1),s=o(e,!0),a=t.map(e=>e.first_pin_image_signature),n=s.map(e=>e.first_pin_image_signature),u=(e=>{let t={};if(e)for(let s of e)s.is_shared&&i(s.ts)&&s.pin_id&&(t[s.pin_id]={inviteCode:s.pin_invite_code});return t})(e);return{extraPlpImages:a,plpImageRenderData:t,extraBlpImages:o((0,r.M0)().getItem(l.hI)??[],!0).map(e=>e.first_pin_image_signature),extraSharedImages:n,sharedPinData:u}},u=(e,t)=>{if(e.length!==t.length)return!1;for(let s=0;s<e.length;s+=1)if(e[s].id!==t[s].id)return!1;return!0},c=(e,t)=>e.map(e=>({1:e,2:(t[e]||[]).map(e=>({1:e,2:"pin"}))})),d=(e,t,s,l)=>{let r={};return e.forEach(e=>{let i=e.id,o=e.pins.length??0;r[i]=o,(0,a.QX)("webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:i,gender:s,age:l,use_case_display_name:e.display_name}}),(0,a.S0)("gauge.webapp.log.nux.pin.picker.step.pin.number.of.pins",o,{sampleRate:1,addHostname:!0,tags:{appType:t,useCaseId:i,gender:s,age:l,use_case_display_name:e.display_name}})}),r}},36776:function(e,t,s){s.d(t,{m:()=>r,o:()=>l});let{Provider:l,get:r}=(0,s(213491).Z)("LimitedLogin")},229127:function(e,t,s){s.d(t,{N4:()=>a,Wh:()=>l,hr:()=>r});let l=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),r=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),a=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},38359:function(e,t,s){s.d(t,{BT:()=>O,Du:()=>x,Fh:()=>U,HY:()=>D,HZ:()=>k,Jw:()=>b,Kp:()=>H,L7:()=>l,LT:()=>d,Lj:()=>Z,Nw:()=>C,Q_:()=>v,Qc:()=>r,R5:()=>S,RA:()=>I,Tt:()=>L,UF:()=>u,UV:()=>i,VB:()=>E,W1:()=>a,Ws:()=>_,X5:()=>R,Yt:()=>z,ZW:()=>n,cK:()=>P,cy:()=>h,fA:()=>N,gm:()=>A,h7:()=>w,k:()=>p,mE:()=>F,o4:()=>f,oL:()=>M,qf:()=>m,tr:()=>c,uD:()=>y,uO:()=>g,vF:()=>o,wJ:()=>T});let l=1,r=2,a="female",i="male",o="unspecified",n="en-US",u="US",c=3,d="Welcome",_="Gender",m="CountryLocale",f="InterestPicker",p="UseCase",g="PinPicker",h="LoadingStep",b="AppInstall",A="NUX_PIN_PICKER_STEP_STATUS",E="NUX_USE_CASE_STEP_STATUS",P={NUX_GENDER_STEP_NAME:_,NUX_COUNTRY_LOCALE_STEP_NAME:m,NUX_INTEREST_PICKER_STEP_NAME:f,NUX_USE_CASE_STEP_NAME:p,NUX_PIN_PICKER_STEP_NAME:g,NUX_LOADING_STEP_NAME:h,NUX_APP_INSTALL_STEP_NAME:b},y=2,w=3,v=6,C=112,I=160,S=60,R=1e3,L=2500,U=1900,T=2e3,k=3,z=1,O=3,D=3,x=5e3,M=250,N=1e10,Z=507641,F=300,H=200},179664:function(e,t,s){s.d(t,{W:()=>d,u:()=>c});var l=s(667294),r=s(213491),a=s(501010),i=s(38359);let o=(e,t)=>{let s=((e,t)=>{switch(t.type){case"SELECT_PIN":{let{pinData:s,pinId:l,useCaseId:r}=t.payload;return function({pinData:e,pinId:t,state:s,useCaseId:l}){let r=new Map(s.selectedUseCases),a=r.get(l)||{selectedPins:[],heroPin:null,backfillPins:[]},i={...e,pinId:t,selectedAt:Date.now()};return r.set(l,{...a,selectedPins:[...a.selectedPins,i]}),{...s,selectedUseCases:r}}({pinData:s,pinId:l,state:e,useCaseId:r})}case"DESELECT_PIN":{let{pinId:s,useCaseId:l}=t.payload;return function({pinId:e,state:t,useCaseId:s}){let l=new Map(t.selectedUseCases),r=l.get(s);return r&&l.set(s,{...r,selectedPins:r.selectedPins.filter(t=>t.pinId!==e)}),{...t,selectedUseCases:l}}({pinId:s,state:e,useCaseId:l})}case"SELECT_USE_CASE":{let{heroPin:s,useCaseId:l}=t.payload;return function({heroPin:e,state:t,useCaseId:s}){let l=new Map(t.selectedUseCases);return l.set(s,{selectedPins:[],heroPin:e,backfillPins:[]}),{...t,selectedUseCases:l}}({heroPin:s,state:e,useCaseId:l})}case"DESELECT_USE_CASE":{let{useCaseId:s}=t.payload;return function({state:e,useCaseId:t}){let s=new Map(e.selectedUseCases);return s.delete(t),{...e,selectedUseCases:s}}({state:e,useCaseId:s})}case"ADD_BACKFILL_PINS":{let{backfillPins:s,useCaseId:l}=t.payload;return function({backfillPins:e,state:t,useCaseId:s}){let l=new Map(t.selectedUseCases),r=l.get(s);return r&&l.set(s,{...r,backfillPins:[...e]}),{...t,selectedUseCases:l}}({backfillPins:s,state:e,useCaseId:l})}default:return e}})(e,t);return{...s,history:[...s.history||[],t]}};var n=s(785893);let{Provider:u,get:c}=(0,r.Z)("Nux");function d({children:e}){let[t,s]=(0,l.useState)([]),[r,c]=(0,l.useState)({}),[d,_]=(0,l.useState)(!1),{checkExperiment:m}=(0,a.Z)(),f=m("ap_dweb_nux_revamp_auto_pin_select",{dangerouslySkipActivation:!0}).anyEnabled,p={selectedUseCases:new Map,history:[]},[g,h]=(0,l.useReducer)(o,p),b=(0,l.useCallback)(()=>Array.from(g.selectedUseCases.values()).reduce((e,t)=>e+t.selectedPins.length,0),[g.selectedUseCases]),A=(0,l.useCallback)(e=>Array.from(g.selectedUseCases.entries()).reduce((t,[s,l])=>e&&s===e?t:t.concat(l.selectedPins),[]),[g.selectedUseCases]),E=(0,l.useCallback)(e=>A(e).map(e=>({url:e.imageMediumUrl,height:e.height,width:e.width})),[A]),P=(0,l.useCallback)(()=>{let e=[];for(let[t,s]of g.selectedUseCases){let l=s.selectedPins.map(e=>({1:e.pinId,2:"pin"}));e.push({1:t,2:l})}return e},[g.selectedUseCases]),y=(0,l.useCallback)(()=>g.selectedUseCases&&b()>=i.HZ,[b,g.selectedUseCases]),w=(0,l.useCallback)(()=>f?g.selectedUseCases.size>=i.BT:g.selectedUseCases.size>=i.Yt,[g.selectedUseCases,f]),v=(0,l.useMemo)(()=>({checkHasMetMinimumPinSelectionRequirement:y,checkHasMetMinimumUseCaseSelectionRequirement:w,getNuxSignals:P,getNumSelectedPins:b,getSelectedPinImageData:E,nuxSelectionsDispatch:h,nuxSelectionsState:g,selectedPins:r,selectedUseCases:t,setSelectedPins:c,setSelectedUseCases:s,setShouldUseNewReducerState:_,shouldUseNewReducerState:d}),[y,w,P,b,E,h,g,r,t,c,s,_,d]);return(0,n.jsx)(u,{value:v,children:e})}},513504:function(e,t,s){s.d(t,{H5:()=>n,Nq:()=>o,Q_:()=>u,bJ:()=>c});var l=s(27399),r=s(236269),a=s(554092),i=s(38359);function o(e){let{updateUserData:t}=e,s={},o=null;if(t.gender&&[i.W1,i.UV].includes(t.gender)?s.gender=t.gender:t.custom_gender&&(s.custom_gender=t.custom_gender,s.customGender=t.custom_gender,s.gender=i.vF),t.age?s.age=t.age:t.birthdate&&(s.birthdate=t.birthdate),t.locale&&(s.locale=t.locale),t.country&&(s.country=t.country),t.business_vertical&&(s.businessVertical=t.business_vertical),t.business_vertical_other&&(s.businessVerticalOther=t.business_vertical_other),t.number_employees&&(s.numberEmployees=t.number_employees),t.first_name&&(s.firstName=t.first_name),t.last_name&&(s.lastName=t.last_name),t.full_name&&(s.fullName=t.full_name),t.parent_email&&(s.parentEmail=t.parent_email),t.website_url&&(s.websiteUrl=t.website_url),t.listed_website_url&&(s.listedWebsiteUrl=t.listed_website_url),void 0!==t.allow_analytic_cookies&&(s.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(s.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(s.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){let{account_type:e,advertising_intent:s,business_name:l,business_goals:r,enable_profile_message:a,enable_profile_address:i,selected_ecommerce_platforms:n}=t;o={...s?{advertising_intent:s}:{},...e?{account_type:e}:{},...l?{business_name:l}:{},...r?{business_goals:r}:{},...a?{enable_profile_message:a}:{},...i?{enable_profile_address:i}:{},...n?{selected_ecommerce_platforms:n}:{}}}o&&(s.partner=o,o.business_name&&(s.firstName=o.business_name));let n=l.Z.create("UserSettingsResource",{...t,surface_tag:a.i.NUX}).callUpdate();return async function(e){try{let t=await n;return e({type:"UPDATE_USER_SET",payload:s}),t}catch(e){return Promise.reject(Error((0,r.Z)(e,"message")))}}}function n(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function u(e,t){return()=>{l.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function c(e,t=""){return()=>l.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/75761-a61382786e66db39.mjs.map