(self.modernJsonp=self.modernJsonp||[]).push([["61131"],{994507:function(e,t,n){n.d(t,{Ak:()=>c,Jr:()=>m,LG:()=>C,MK:()=>r,PW:()=>h,R8:()=>l,UF:()=>s,UO:()=>R,XN:()=>u,ZB:()=>A,_h:()=>f,cH:()=>o,dm:()=>v,fE:()=>g,fu:()=>d,iK:()=>I,iN:()=>a,js:()=>_,nZ:()=>E,ne:()=>i,pn:()=>T,tf:()=>y,vE:()=>p});let r=0,a=0,o=0,l=0,i=0,s="",u="",c="",d="",p="",_="",f="desktop",m=0,E={browserName:"",browserType:null,browserVersion:"",canUseNativeApp:!1,isTablet:!1,isMobile:!1,platform:"",platformVersion:[0,0,0],osName:null,raw:""},h=[],y=[],g=[],I=[],T=[],C=100,R=10,A=28,v=()=>({count:1,time:0,ts:Date.now()})},784548:function(e,t,n){n.d(t,{$y:()=>o,AU:()=>c,VD:()=>p,_d:()=>a,am:()=>u,bj:()=>l,pv:()=>d,tb:()=>s,x1:()=>i});let r="local",a={INIT_CURRENT_USER_TRACKER:"INIT_CURRENT_USER_TRACKER",ADD_VISITED_PAGE:"ADD_VISITED_PAGE",ADD_COMPLETED_SEARCH:"ADD_COMPLETED_SEARCH",REMOVE_COMPLETED_SEARCH:"REMOVE_COMPLETED_SEARCH",ADD_CLICKTHROUGH_PIN:"ADD_CLICKTHROUGH_PIN",UPDATE_DOWNLOAD_COUNT:"UPDATE_DOWNLOAD_COUNT",UPDATE_SAVED_PINS:"UPDATE_SAVED_PINS",UPDATE_REVISITATION:"UPDATE_REVISITATION"},o=e=>({type:a.INIT_CURRENT_USER_TRACKER,payload:e}),l=(e,t)=>({type:a.ADD_VISITED_PAGE,payload:{path:e,pageType:t,storageType:r}}),i=e=>({type:a.ADD_COMPLETED_SEARCH,payload:{search:e,storageType:r}}),s=e=>({type:a.REMOVE_COMPLETED_SEARCH,payload:{query:e,storageType:r}}),u=e=>({type:a.ADD_CLICKTHROUGH_PIN,payload:{pin:e,storageType:r}}),c=()=>({type:a.UPDATE_DOWNLOAD_COUNT,payload:{storageType:r}}),d=e=>({type:a.UPDATE_SAVED_PINS,payload:{pins:e,storageType:r}}),p=e=>({type:a.UPDATE_REVISITATION,payload:{revisitation:e,storageType:r}})},293123:function(e,t,n){n.d(t,{$2:()=>m,EI:()=>_,HY:()=>A,Ku:()=>h,LI:()=>y,V5:()=>I,Vz:()=>p,aJ:()=>g,cn:()=>T,cq:()=>C,eo:()=>E,jo:()=>R,yb:()=>f});var r=n(4533),a=n(994507),o=n(971258),l=n(52433),i=n(34550),s=n(418282),u=n(163691),c=n(767415);function d(e){return"local"===e?(0,i.M0)():(0,s.Nl)()}let p=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.PW;return(t.getItem(r.pm)||a.PW).map(e=>({...e,path:(0,l.Z)(e.path)}))}catch(e){return(0,c.nP)("current_user_tracker.storage.get_visited_pages.error"),a.PW}},_=(e,t,n="local")=>{try{let i=d(n);if(!i.accessAllowed)return;let s=(0,l.Z)(e),u=[...p(n)],c=(0,o.b8)(u,s,t,a.LG);c!==u&&i.setItem(r.pm,c)}catch(e){(0,c.nP)("current_user_tracker.storage.add_visited_page.error")}},f=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.fE;return t.getItem(r.ny)||a.fE}catch(e){return(0,c.nP)("current_user_tracker.storage.get_completed_searches.error"),a.fE}},m=(e,t="local")=>{try{let n=d(t);if(!n.accessAllowed)return;let l=[...f(t)],i=(0,o.aq)(l,e,a.LG);i!==l&&n.setItem(r.ny,i)}catch(e){(0,c.nP)("current_user_tracker.storage.add_completed_search.error")}},E=(e,t="local")=>{try{let n=d(t);if(!n.accessAllowed)return;let a=[...f(t)],l=(0,o.zz)(a,e);n.setItem(r.ny,l)}catch(e){(0,c.nP)("current_user_tracker.storage.remove_completed_search.error")}},h=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.iK;return t.getItem(r.Vb)||a.iK}catch(e){return(0,c.nP)("current_user_tracker.storage.get_clickthrough_pins.error"),a.iK}},y=(e,t="local")=>{try{let n=d(t);if(!n.accessAllowed)return;let l=[...h(t)],i=(0,o.UP)(l,e,a.LG);i!==l&&n.setItem(r.Vb,i)}catch(e){(0,c.nP)("current_user_tracker.storage.add_clickthrough_pin.error")}},g=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.cH;return parseInt(t.getItem(r.rN)||String(a.cH),10)}catch(e){return(0,c.nP)("current_user_tracker.storage.get_download_count.error"),a.cH}},I=(e,t="local")=>{try{let n=d(t);if(!n.accessAllowed)return;n.setItem(r.rN,e.toString())}catch(e){(0,c.nP)("current_user_tracker.storage.set_download_count.error")}},T=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return a.pn;return t.getItem(r.s1)??a.pn}catch(e){return(0,c.nP)("current_user_tracker.storage.get_saved_pins.error"),a.pn}},C=(e,t="local")=>{try{let n=d(t);if(!n.accessAllowed)return;n.setItem(r.s1,e)}catch(e){(0,c.nP)("current_user_tracker.storage.set_saved_pins.error")}},R=(e="local")=>{try{let t=d(e);if(!t.accessAllowed)return(0,a.dm)();let{count:n,time:o,ts:l}=t.getItem(r.SI)??{};if("number"==typeof n&&"number"==typeof o&&"number"==typeof l)return{count:n,time:o,ts:l};return(0,a.dm)()}catch(e){return(0,c.nP)("current_user_tracker.storage.get_revisitation.error"),(0,a.dm)()}},A=(e,t="local")=>{try{let n=d(t);if(!n.accessAllowed)return;n.setItem(r.SI,(0,u.Z)(e))}catch(e){(0,c.nP)("current_user_tracker.storage.set_revisitation.error")}}},971258:function(e,t,n){n.d(t,{UP:()=>s,aq:()=>i,b8:()=>l,zz:()=>u});var r=n(52433),a=n(163691);let o=(e,t,n)=>{let r=[t,...e];return r.length>n?r.slice(0,n):r},l=(e,t,n,l)=>{let i=(0,r.Z)(t);return((e,t)=>{let n=e.length,a=(0,r.Z)(t),o=n?(0,r.Z)(e[0].path):"";return!n||a!==o})(e,i)?o(e,(0,a.Z)({path:i,pageType:n}),l):e},i=(e,t,n)=>((e,t)=>{let n=e.length,r=n?e[0].query:"";return!n||t!==r})(e,t.query)?o(e,(0,a.Z)(t),n):e,s=(e,t,n)=>((e,t)=>{let n=e.length,r=n?e[0].pinId:"";return!n||t!==r})(e,t.pinId)?o(e,(0,a.Z)(t),n):e,u=(e,t)=>e.filter(e=>e.query!==t)},52433:function(e,t,n){n.d(t,{Z:()=>a});var r=n(197908);function a(e){let t=(0,r.Z)(e);return t?`/pin/${t}/`:e}},817468:function(e,t,n){n.d(t,{Z:()=>i});var r=n(667294),a=n(183230),o=n(767415);function l(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends r.Component{constructor(...e){super(...e),l(this,"state",{error:null,info:null}),l(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{let{name:t}=this.props,n=this.props.type||"secondary";(0,a.T)({extraData:e.extraData??{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,o.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,o.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},470205:function(e,t,n){n.d(t,{Z:()=>r});let r=n(817468).Z},147155:function(e,t,n){n.d(t,{$S:()=>r,V$:()=>a,_4:()=>l,iY:()=>i,mR:()=>o});let r="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",l="REFRESH_ALL_EXPERIENCES",i="UPDATE_EXPERIENCE"},681698:function(e,t,n){n.d(t,{Z:()=>a});var r=n(27399);function a({url:e,method:t,data:n,ignoreBookmark:a,callOptions:o,headers:l}){let i={url:e,data:n,...null!=a?{ignore_bookmark:a}:{},..."PATCH"===t?{patchInsteadOfPut:!0}:{}},s=r.Z.create("ApiResource",i);switch(t){case"POST":return s.callCreate(o,l);case"PUT":case"PATCH":return s.callUpdate(o,l);case"DELETE":return s.callDelete(o,l);default:return s.callGet(o,l)}}},24246:function(e,t,n){n.d(t,{Z:()=>o,q:()=>r});let{Provider:r,get:a}=(0,n(213491).Z)("i18n"),o=a},40249:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},501010:function(e,t,n){n.d(t,{Z:()=>a});var r=n(774838);let a=()=>(0,r.Ts)().experimentsClient},867342:function(e,t,n){n.d(t,{Z:()=>_,v:()=>p});var r=n(667294),a=n(774303),o=n(87980),l=n(705460),i=n(591048),s=n(417394),u=n(23641),c=n(767415);let d=(0,a.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,o.VZ)();function _({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:_,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:m,stopwatchContext:E}){let h=(0,s.P9)(),[y,g]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)(()=>{g({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[h]),(0,r.useEffect)(()=>{if(d("new status",y),"LAYOUT"===y.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,u.Xr)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[y.status]),((e,t)=>{let n=(0,r.useRef)(()=>{});(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])})(()=>{let r=(0,s.Ly)(),h=()=>{},I=e=>{(0,s.JG)(e),E&&E?.abort()};"unknown"!==r?h=u.rt:(r=`${E?.name}`,E?.addBinaryAnnotation&&(h=E?.addBinaryAnnotation));let T=(0,o.cQ)(n,p,_);if(f)return void d("bypassing PWT run due to skeleton pin grid");switch(y.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,o.LM)();if(t===e)return d("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,o.F9)())return d("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(y.numOfItemsChecked,e);t.complete?g({status:"TIMING",failedCount:0,pinElements:T}):500*y.failedCount>6e4?((0,l.A9)(`images.${r}.visuallyComplete.maxLayoutAttempt`),I("visuallyComplete_layoutTimeout"),g({status:"DISABLED"})):g({...y,failedCount:y.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,i.Cg)(),n=y.pinElements.length,o=[],u=0,p=0,_=0,f=1/0,E=0;if(y.pinElements.forEach(({element:t,fileName:n})=>{let l=e.find(e=>e.name.endsWith(n));l?l.responseEnd?(o.push(l),(0,a.v5)(t,"green"),"SEARCH_FEED_RENDER"===r&&(f=Math.min(f,l.requestStart),E=Math.max(E,l.responseEnd))):(_+=1,(0,a.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,a.v5)(t,"red")):(u+=1,(0,a.v5)(t,"greenyellow"))}),u||_)100*y.failedCount>6e4?((0,l.A9)(`images.${r}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:u,noTimingCount:p,noTimingResponseEndCount:_}}),I("visuallyComplete_timingTimeout"),g({status:"DISABLED"})):g({...y,failedCount:y.failedCount+1});else{if(d(`All ${o.length} images are fetched`),t&&t.length){var C,R;let e,n,a,o,i,u=(C=t,R=y.pinElements,e=0,n=0,a=0,o=0,i=0,C=C.filter(e=>"pin"===e.type),R.forEach((t,r)=>{let l,s=t.fileName.split(".")[0];l=C[r],s!==l?.image_signature&&(l=C.find(e=>s===e?.image_signature)),void 0===l?i+=1:l.is_promoted||l.recommendation_reason?.reason==="PROMOTED_PIN"||l?.promoter?.length?a+=1:null!==l.story_pin_data_id&&void 0!==l.story_pin_data_id?e+=1:l?.videos?.video_list?n+=1:o+=1}),{storyPinCount:e,videoCount:n,adCount:a,imageCount:o,unknownCount:i});if(Object.entries(u).forEach(([e,t])=>{h(e,t,"I16"),(0,s.XJ)(e,t,"I16")}),(0,l.A9)(`${r}.pinTypes`,{tags:u}),"SEARCH_FEED_RENDER"===r){let e=E-f;t[0].display_options?.num_columns_requested===0?(0,c.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,c.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{m&&m(),(0,s.cB)(e)})({imageTimings:o}),g({status:"DISABLED"}),(0,l.A9)(`images.${r}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:p}})}}}},"LAYOUT"===y.status&&500||"TIMING"===y.status&&100||null)}},969809:function(e,t,n){n.d(t,{Z:()=>r});let r=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},774838:function(e,t,n){n.d(t,{B:()=>o,P2:()=>i,Ts:()=>a,gf:()=>l});let r=n(969634),{getRequestContext:a}=r,{useRequestContext:o}=r,{useUpdateRequestContext:l}=r,{RequestContextProvider:i}=r},969634:function(e,t,n){n.r(t),n.d(t,{RequestContextProvider:()=>u,getRequestContext:()=>s,useRequestContext:()=>c,useUpdateRequestContext:()=>d});var r=n(667294),a=n(659541),o=n(907049),l=n(785893);let i=(0,r.createContext)(null);function s(){return(0,r.use)(i).requestContextState}function u({children:e,initialValue:t}){let[n,s]=(0,r.useState)(t),u=(0,r.useMemo)(()=>({requestContextState:n,updateRequestContext:e=>{let t={...n,...e};(0,o.Z)(n,e)||s(t),(0,a.J)(t)}}),[n]);return(0,l.jsx)(i,{value:u,children:e})}function c(){let e=(0,r.useContext)(i);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function d(){let e=(0,r.useContext)(i);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},317109:function(e,t,n){n.d(t,{Z:()=>s});var r=n(686659),a=n(667294),o=n(653015);function l({children:e}){if("undefined"==typeof window)throw Error(o.u);return e}var i=n(785893);function s({children:e,fallback:t}){return(0,a.useEffect)(()=>{(0,r.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx")},[]),(0,i.jsx)(a.Suspense,{fallback:t,children:(0,i.jsx)(l,{children:e})})}},405897:function(e,t,n){n.d(t,{i:()=>r});let r={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},907049:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>e[n]===t[n])}},197908:function(e,t,n){n.d(t,{Z:()=>o});var r=n(854897),a=n(99737);let o=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,a.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,r.Z)(e[1]).pinId||void 0}}},854897:function(e,t,n){n.d(t,{Z:()=>r});function r(e){if((e||"").includes("--")){let t=e.split("--"),n=t.pop();return{text:t.join("--"),pinId:n}}return{text:"",pinId:e}}},739405:function(e,t,n){n.d(t,{HG:()=>d,Kf:()=>l,Wb:()=>c,ZP:()=>p,dA:()=>i,ds:()=>s,ml:()=>u});var r=n(374535),a=n(774838);let o=()=>{let e=(0,a.B)();return(0,r.Z)(e)},l=e=>"phone"===e,i=e=>"tablet"===e,s=e=>"desktop"===e,u=()=>l(o()),c=()=>i(o()),d=()=>s(o()),p=o},64892:function(e,t,n){n.d(t,{GW:()=>a,RL:()=>r,s4:()=>o});let r="ios",a="android",o="ipad"},281213:function(e,t,n){n.d(t,{H:()=>u,W:()=>c});var r=n(667294),a=n(230201),o=n(213491),l=n(501010),i=n(785893);let{Provider:s,get:u}=(0,o.Z)("VideoPlayer");function c({children:e}){let{logContextEvent:t,logImpression:n}=(0,a.u)(),{checkExperiment:o}=(0,l.Z)(),[u,c]=(0,r.useState)(!1),[d,p]=(0,r.useState)([]),[_,f]=(0,r.useState)([]),[m,E]=(0,r.useState)({}),h=o("web_ads_mrc_video_impression").anyEnabled,y=e=>{E(t=>({...t,[e]:!0}))},g=(0,r.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],n=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");h&&(t||n)&&p(t=>[...t,e].slice(-1e3))}},[h]),I=(0,r.useCallback)(e=>{18===e.eventType&&h&&f(t=>[...t,e].slice(-1e3))},[h]);(0,r.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:n}=e.event_data.pinImpressions[0];return!m[n]||!h||(t((e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}})(e)),!1)});e.length!==d.length&&p(e)},[d,h,t,m]),(0,r.useEffect)(()=>{let e=_.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&h){let t=(e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null})(e);return t&&n(t),!1}return!0});e.length!==_.length&&f(e)},[_,h,n,m]);let T=(0,r.useMemo)(()=>({captionsEnabled:u,logMrcVideoAdImpressionOnPlay:I,logMrcVideoAdEventOnPlay:g,setCaptionsEnabled:c,setVideoPlayed:y,videosPlayed:m}),[u,g,I,m]);return(0,i.jsx)(s,{value:T,children:e})}},830949:function(e,t,n){n.d(t,{Z:()=>r});let r=(e,t,n)=>`${e}:${t||""}:${n||""}`},124228:function(e,t,n){n.d(t,{r:()=>a,v:()=>r});let r="ADD_PRODUCT_PIN_STORY";function a(e){return{type:"ADD_PRODUCT_PIN_STORY",payload:e}}},701943:function(e,t,n){function r(){return{}}n.d(t,{kr:()=>r}),n.g.__AsyncLocalStorage__&&new n.g.__AsyncLocalStorage__},682004:function(e,t,n){n.d(t,{$:()=>y,G:()=>g});var r=n(686659),a=n(667294),o=n(422578),l=n(312048),i=n(244311),s=n(501010),u=n(774838);function c(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}function d(e){return{result:{kind:"Ok",value:e},read:()=>e}}var p=n(362777),_=n(767415),f=n(785893);let m=(0,a.createContext)(null),E=/(^\/)|:|(\/$)/g,h=/\//g,y=({children:e})=>{(0,a.useEffect)(()=>{(0,r.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,o.useRelayEnvironment)(),{checkExperiment:n}=(0,s.Z)(),i=(0,u.B)(),c=(0,a.useRef)({}),d=(0,a.useCallback)(e=>{let{rootComponent:r,loadedValueState:a}=T(I(c.current,e),e,"Both",t,n,i);return"NotYetRendered"===a.performanceLoggingState.kind&&(a.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:r,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===a.performanceLoggingState.kind){let n=Date.now();(0,_.LY)("entrypointRouter.routeTiming."+e.kind.replace(E,"").replace(h,"_"),n-a.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),a.performanceLoggingState={kind:"Complete"}}},loadedValue:a.loadedValue}},[n,t,i]),y=(0,l.s0)(),g=(0,a.useCallback)(e=>{T(I(c.current,e),e,"Both",t,n,i),y((0,p.w)(e))},[y,n,t,i]),C=(0,a.useCallback)((e,r)=>{let a=I(c.current,e);"Both"===r&&T(a,e,r,t,n,i)},[n,t,i]),R=(0,a.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:d,preload:C,imperativelyNavigate:g}),[d,g,C]);return(0,f.jsx)(m,{value:R,children:e})};function g(){let e=(0,a.useContext)(m);if(null==e)throw Error("Missing entrypoint context");return e}function I(e,t){let n=p.Z[t.kind];if(null==n)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");let r=n.loader();return e[t.kind]??={rootComponent:c(n.rootComponent()),loadedValueStates:{},loader:(0,i.isPromise)(r)?c(r):d(r)}}function T(e,t,n,r,a,o){var l;let i=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),r={};for(let a=0;a<n.length;a++)r[n[a]]=e(t[n[a]]);return r}(t.routeParams)),{loadedValueStates:s,rootComponent:u,loader:p}=e;return{rootComponent:u,loadedValueState:s[i]??=(l=t.kind,setTimeout(()=>{let e=s[i];null!=e&&(0,_.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:l,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){let{result:n}=e;switch(n.kind){case"Pending":return c(n.promise.then(t));case"Ok":return d(t(n.value));case"Err":var r;return{result:{kind:"Err",error:r=n.error},read:()=>{throw r}};default:throw Error("Unexpected case")}}(p,e=>e({routeParams:t.routeParams,relayEnvironment:r,checkExperiment:a,requestContext:o})),performanceLoggingState:{kind:"NotYetRendered"}})}}},362777:function(e,t,n){n.d(t,{w:()=>o,Z:()=>a});var r=n(312048);let a={"/collage-creation-tool":{loader:()=>Promise.all([n.e("8126"),n.e("50444")]).then(n.bind(n,231718)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("19007"),n.e("73269"),n.e("57207"),n.e("8126"),n.e("73999"),n.e("93059"),n.e("18973"),n.e("75761"),n.e("6104"),n.e("28482"),n.e("84355"),n.e("84354"),n.e("76201")]).then(n.bind(n,534850)).then(e=>e.default)},"/comparison/results":{loader:()=>n.e("77087").then(n.bind(n,531297)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("63197"),n.e("69519")]).then(n.bind(n,851347)).then(e=>e.default)},"/comparison/select/:id":{loader:()=>n.e("9490").then(n.bind(n,851605)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("63197"),n.e("90634")]).then(n.bind(n,163927)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([n.e("25418"),n.e("996")]).then(n.bind(n,890450)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("87023"),n.e("62577"),n.e("24395"),n.e("47336")]).then(n.bind(n,691202)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>n.e("62315").then(n.bind(n,308821)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("15417"),n.e("16868"),n.e("51296"),n.e("62286"),n.e("13305"),n.e("66387"),n.e("38477"),n.e("40044"),n.e("67871"),n.e("26387"),n.e("16829")]).then(n.bind(n,646784)).then(e=>e.default)},"/today/":{loader:()=>n.e("42207").then(n.bind(n,415466)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("16928"),n.e("87023"),n.e("24395"),n.e("41437"),n.e("21603"),n.e("6808"),n.e("91678")]).then(n.bind(n,352067)).then(e=>e.default)}};function o(e){return(0,r.Gn)(e.kind,e.routeParams)}},810752:function(e,t,n){function r(e){let[t,n]=e.split(/\/(.*)+/);return{filepath:n||"",site:t||""}}function a(e,t){return t?`${e||""}/${t}`:`/${e||""}`}n.d(t,{ac:()=>r,ke:()=>a})},177433:function(e,t,n){n.d(t,{Zv:()=>l,uo:()=>i,wH:()=>o});var r=n(213491),a=n(810752);let{Provider:o,get:l}=(0,r.Z)("HandlerId");function i(){let e=l();return(0,a.ac)(e).site}},778830:function(e,t,n){function r(){let e=void 0;return e?t=>e.addToBeLoaded(t):()=>{}}n.d(t,{N:()=>r}),(0,n(701943).kr)()},9065:function(e,t,n){n.d(t,{Z:()=>d});var r=n(667294),a=n(774838),o=n(317109),l=n(767415),i=n(354139),s=n(177433);function u(e){if(e&&n.m[e])return n(e).default}n(778830);var c=n(785893);function d(e,t,n,d,p){let _=t?.ssr??!0?r.Suspense:o.Z,f=new Map,m=new Map;function E(e){return d&&t?.dynamicRequestKey&&e?d.replace("[request]",e[t.dynamicRequestKey]):d}function h(e){return n?n(e):E(e)??"static"}function y({children:e,chunkName:t,earlyHydrationConfig:n}){let o=(0,s.Zv)(),u=(0,a.Ts)();return(0,r.useEffect)(()=>{(0,l.nP)("earlyHydrationDebug.lazyComponent.suspend",{tags:{...(0,i.M3)({earlyHydrationConfig:n,handlerId:o,requestContext:u}),chunkName:t}})},[]),e}function g(a){t?.dynamicRequestKey;let o=h(a),s=(0,i.DB)(),d=E(a);if(!m.has(o)){let t=n?.(a);m.set(o,function({chunkName:e,dynamicImport:t,earlyHydrationEnabled:n,getDependentChunkNames:a,moduleId:o,props:i}){let s,c=(0,r.lazy)(()=>t(i));if(n){var d;s=(d=function(e,t){if(e)return Array.isArray(e)?e:t&&e[t]||void 0}(a?.(),e))&&d.every(e=>(function(e){let t=void 0!==window.legacyJsonp?window.legacyJsonp:window.modernJsonp;return t?.some(t=>t[0].includes(e))??!1})(e))?u(o):void 0}else s=u(o);let p=!!s;return(0,l.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",hasModuleInCache:p,moduleId:o??"unknown"}}),s||c}({chunkName:d,dynamicImport:e,earlyHydrationEnabled:s.anyEnabled,getDependentChunkNames:p,moduleId:t,props:a}))}let f=m.get(o);return(0,c.jsx)(_,{fallback:(0,c.jsx)(y,{chunkName:d??"unknown",earlyHydrationConfig:s,children:a.fallback||t?.fallback}),children:(0,c.jsx)(f,{...a,ref:a.ref})})}return g.preload=t=>{let n=h(t),r=m.get(n);f.get(n)||r||f.set(n,(async()=>{if(!r){let r=await e(t);m.set(n,r.default),f.delete(n)}})())},g}},715587:function(e,t,n){n.d(t,{Z:()=>r});let r=(0,n(667294).createContext)(null)},234178:function(e,t,n){n.d(t,{Z:()=>l});var r=n(667294),a=n(354139),o=n(715587);function l(){return(0,r.use)(o.Z)??a.g5}},354139:function(e,t,n){n.d(t,{DB:()=>i,M3:()=>s,SS:()=>l,g5:()=>a});var r=n(810752);let a={anyEnabled:!1,group:"",scriptPlacement:"head",optimizedClient:!1,moduleScripts:!1,instantLoadingIndicator:!0,isServiceWorkerExperiment:!1};function o(e,t=!1){let n={...a,anyEnabled:e.startsWith("enabled")||e.startsWith("employees"),group:e,optimizedClient:e.includes("optimized_client"),instantLoadingIndicator:!e.includes("no_app_shell"),isServiceWorkerExperiment:t};switch(e){case"enabled":case"enabled_no_app_shell":return{...n,scriptPlacement:"head"};case"enabled_preload":case"enabled_preload_no_app_shell":return{...n,scriptPlacement:"head",preloadScripts:"low"};case"enabled_preload_high":case"enabled_preload_high_no_app_shell":return{...n,scriptPlacement:"head",preloadScripts:"high"};case"employees":case"enabled_preload_and_body_scripts":case"enabled_preload_and_body_scripts_no_app_shell":return{...n,scriptPlacement:"body",preloadScripts:"low"};case"enabled_preload_high_and_body_scripts":case"enabled_preload_high_and_body_scripts_no_app_shell":return{...n,scriptPlacement:"body",preloadScripts:"high"};case"control":case"control_no_app_shell":return n;default:return a}}function l({experimentsClient:e,handlerId:t,skipActivation:n=!1}){let{site:l}=(0,r.ac)(t??"");if("www"!==l)return a;if(function({experimentsClient:e,skipActivation:t}){let{group:n,anyEnabled:r}=e?.checkExperiment("web_sw_with_early_hydration",{dangerouslySkipActivation:t})??{group:"",anyEnabled:!1};return"control_early_hydration_specify_hostname"===n||"control_early_hydration_reduce_precache"===n||"control_early_hydration_extend_precache"===n||"control_early_hydration"===n||r}({experimentsClient:e,skipActivation:n}))return o("enabled_preload_and_body_scripts",!0);let{group:i}=e?.checkExperiment("web_early_hydration",{dangerouslySkipActivation:n})??{group:""};return o(i,!1)}let i=n(234178).Z;function s({earlyHydrationConfig:e,handlerId:t,requestContext:n}){let{group:r,isServiceWorkerExperiment:a}=e,{isAuthenticated:o,isBot:l,userAgent:i}=n;return{earlyHydrationGroup:r||"unknown",environment:"client",handlerId:t,isAuthenticated:o,isBot:l,isDesktop:!i.isMobile&&!i.isTablet,isServiceWorkerExperiment:a,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}},653015:function(e,t,n){n.d(t,{Z:()=>a,u:()=>r});let r="HIDDEN_ON_SERVER_ERROR",a=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(r)},109571:function(e,t,n){n.d(t,{I:()=>l,t:()=>o});var r=n(667294),a=n(312048);let o=(0,r.createContext)(null);function l(){return(0,a.TH)()===(0,r.useContext)(o)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61131-4d9ffa673450cb24.mjs.map