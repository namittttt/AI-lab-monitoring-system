(self.modernJsonp=self.modernJsonp||[]).push([["78159"],{131391:function(e,s,l){l.d(s,{Z:()=>t});let t=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e})},907939:function(e,s,l){l.d(s,{Z:()=>t});function t(e,s){return({CANCEL:s._('Cancel', 'business.strings', 'A generic translation for \'Cancel\' used for labeling, CTAs, and buttons'),LEARN_MORE:s._('Learn more', 'business.strings', 'A generic translation for \'Learn more\' used for labeling, CTAs, and buttons'),OK:s._('OK', 'business.strings', 'A generic translation for \'OK\' used for labeling, CTAs, and buttons'),DONE:s._('Done', 'business.strings', 'A generic translation for \'Done\' used for labeling, CTAs, and buttons'),NEXT:s._('Next', 'business.strings', 'A generic translation for \'Next\' used for labeling, CTAs, and buttons'),SAVE_ACTION:s._('Save', 'business.strings', 'A generic translation for \'Save\', the action, used for labeling, CTAs, and buttons'),SAVE_NOUN:s._('Save', 'business.strings', 'A generic translation for \'Save\', the noun, used for labeling, CTAs, and buttons'),LOADING:s._('Loading', 'business.strings', 'A generic translation for \'Loading\' used for labeling, CTAs, and buttons'),ALL:s._('All', 'business.strings', 'A generic translation for \'All\' used for labeling, CTAs, and buttons'),EDIT:s._('Edit', 'business.strings', 'A generic translation for \'Edit\' used for labeling, CTAs, and buttons'),BACK:s._('Back', 'business.strings', 'A generic translation for \'Back\' used for labeling, CTAs, and buttons'),DELETE:s._('Delete', 'business.strings', 'A generic translation for \'Delete\' used for labeling, CTAs, and buttons'),NONE:s._('None', 'business.strings', 'A generic translation for \'None\' used for labeling, CTAs, and buttons'),IMPRESSIONS:s._('Impressions', 'business.strings', 'A generic translation for \'Impressions\' used for labeling, CTAs, and buttons'),SEARCH_ACTION:s._('Search', 'business.strings', 'A generic translation for \'Search\', the action,  used for labeling, CTAs, and buttons'),SEARCH_NOUN:s._('Search', 'business.strings', 'A generic translation for \'Search\', the noun,  used for labeling, CTAs, and buttons'),ACTIVE:s._('Active', 'business.strings', 'A generic translation for \'Active\' used for labeling, CTAs, and buttons'),VIDEO:s._('Video', 'business.strings', 'A generic translation for \'Video\' used for labeling, CTAs, and buttons'),SAVES_ACTION:s._('Saves', 'business.strings', 'A generic translation for \'Saves\', the action, used for labeling, CTAs, and buttons'),SAVES_NOUN:s._('Saves', 'business.strings', 'A generic translation for \'Saves\', the noun,  used for labeling, CTAs, and buttons'),CONTINUE:s._('Continue', 'business.strings', 'A generic translation for \'Continue\' used for labeling, CTAs, and buttons'),NO:s._('No', 'business.strings', 'A generic translation for \'No\' used for labeling, CTAs, and buttons'),STATUS:s._('Status', 'business.strings', 'A generic translation for \'Status\' used for labeling, CTAs, and buttons'),PROMOTE:s._('Promote', 'business.strings', 'A generic translation for \'Promote\' used for labeling, CTAs, and buttons'),NAME:s._('Name', 'business.strings', 'A generic translation for \'Name\' used for labeling, CTAs, and buttons'),SUBMIT:s._('Submit', 'business.strings', 'A generic translation for \'Submit\' used for labeling, CTAs, and buttons'),PAUSED:s._('Paused', 'business.strings', 'A generic translation for \'Paused\' used for labeling, CTAs, and buttons'),SEE_MORE:s._('See more', 'business.strings', 'A generic translation for \'See more\' used for labeling, CTAs, and buttons'),FOLLOWING:s._('Following', 'business.strings', 'A generic translation for \'Following\' used for labeling, CTAs, and buttons'),CLOSE:s._('Close', 'business.strings', 'A generic translation for \'Close\' used for labeling, CTAs, and buttons'),INSTALL_TAG:s._('Install tag', 'business.strings', 'A generic translation for \'Install tag\' used for labeling, CTAs, and buttons'),PIN_CLICKS:s._('Pin clicks', 'business.strings', 'A generic translation for \'Pin clicks\' used for labeling, CTAs, and buttons'),CONVERSIONS:s._('Conversions', 'business.strings', 'A generic translation for \'Conversions\' used for labeling, CTAs, and buttons'),SEND:s._('Send', 'business.strings', 'A generic translation for \'Send\' used for labeling, CTAs, and buttons'),KEYWORDS:s._('Keywords', 'business.strings', 'A generic translation for \'Keywords\' used for labeling, CTAs, and buttons'),CREATE:s._('Create', 'business.strings', 'A generic translation for \'Create\' used for labeling, CTAs, and buttons'),REPORT_ACTION:s._('Report', 'business.strings', 'A generic translation for \'Report\', the action, used for labeling, CTAs, and buttons'),REPORT_NOUN:s._('Report', 'business.strings', 'A generic translation for \'Report\', the noun,  used for labeling, CTAs, and buttons'),BOARDS:s._('Boards', 'business.strings', 'A generic translation for \'Boards\' used for labeling, CTAs, and buttons'),PINS:s._('Pins', 'business.strings', 'A generic translation for \'Pins\' used for labeling, CTAs, and buttons'),LINK_CLICKS:s._('Link clicks', 'business.strings', 'A generic translation for \'Link clicks\' used for labeling, CTAs, and buttons'),COMPLETED:s._('Completed', 'business.strings', 'A generic translation for \'Completed\' used for labeling, CTAs, and buttons'),PENDING:s._('Pending', 'business.strings', 'A generic translation for \'Pending\' used for labeling, CTAs, and buttons'),SELECT:s._('Select', 'business.strings', 'A generic translation for \'Select\' used for labeling, CTAs, and buttons'),ARCHIVED:s._('Archived', 'business.strings', 'A generic translation for \'Archived\' used for labeling, CTAs, and buttons'),ACTIONS:s._('Actions', 'business.strings', 'A generic translation for \'Actions\' used for labeling, CTAs, and buttons'),PRODUCT_GROUPS:s._('Product groups', 'business.strings', 'A generic translation for \'Product groups\' used for labeling, CTAs, and buttons'),CUSTOM:s._('Custom', 'business.strings', 'A generic translation for \'Custom\' used for labeling, CTAs, and buttons'),CREATE_PIN:s._('Create Pin', 'business.strings', 'A generic translation for \'Create Pin\' used for labeling, CTAs, and buttons'),COUNTRY:s._('Country', 'business.strings', 'A generic translation for \'Country\' used for labeling, CTAs, and buttons'),VIDEO_VIEWS:s._('Video views', 'business.strings', 'A generic translation for \'Video views\' used for labeling, CTAs, and buttons'),REMOVE:s._('Remove', 'business.strings', 'A generic translation for \'Remove\' used for labeling, CTAs, and buttons'),EMAIL_ADDRESS:s._('Email address', 'business.strings', 'A generic translation for \'Email address\' used for labeling, CTAs, and buttons'),PINTEREST:s._('Pinterest', 'business.strings', 'A generic translation for \'Pinterest\' used for labeling, CTAs, and buttons'),PRIVACY_POLICY:s._('Privacy Policy', 'business.strings', 'A generic translation for \'Privacy Policy\' used for labeling, CTAs, and buttons'),OTHER:s._('Other', 'business.strings', 'A generic translation for \'Other\' used for labeling, CTAs, and buttons'),REQUIRED:s._('Required', 'business.strings', 'A generic translation for \'Required\' used for labeling, CTAs, and buttons'),CLICKS_ACTION:s._('Clicks', 'business.strings', 'A generic translation for \'Clicks\', the action used for labeling, CTAs, and buttons'),CLICKS_NOUN:s._('Clicks', 'business.strings', 'A generic translation for \'Clicks\', the noun, used for labeling, CTAs, and buttons'),ENGAGEMENT:s._('Engagement', 'business.strings', 'A generic translation for \'Engagement\' used for labeling, CTAs, and buttons'),NOT_NOW:s._('Not now', 'business.strings', 'A generic translation for \'Not now\' used for labeling, CTAs, and buttons'),ADS:s._('Ads', 'business.strings', 'A generic translation for \'Ads\' used for labeling, CTAs, and buttons'),ERROR:s._('Error', 'business.strings', 'A generic translation for \'Error\' used for labeling, CTAs, and buttons'),CAMPAIGNS:s._('Campaigns', 'business.strings', 'A generic translation for \'Campaigns\' used for labeling, CTAs, and buttons'),VISIT_ACTION:s._('Visit', 'business.strings', 'A generic translation for \'Visit\', the action, used for labeling, CTAs, and buttons'),VISIT_NOUN:s._('Visit', 'business.strings', 'A generic translation for \'Visit\', the noun, used for labeling, CTAs, and buttons'),OUTBOUND_CLICKS:s._('Outbound clicks', 'business.strings', 'A generic translation for \'Outbound clicks\' used for labeling, CTAs, and buttons'),ADD:s._('Add', 'business.strings', 'A generic translation for \'Add\' used for labeling, CTAs, and buttons'),DESCRIPTION:s._('Description', 'business.strings', 'A generic translation for \'Description\' used for labeling, CTAs, and buttons'),SPEND_ACTION:s._('Spend', 'business.strings', 'A generic translation for \'Spend\', the action, used for labeling, CTAs, and buttons'),SPEND_NOUN:s._('Spend', 'business.strings', 'A generic translation for \'Spend\', the noun, used for labeling, CTAs, and buttons'),CREATE_AD:s._('Create ad', 'business.strings', 'A generic translation for \'Create ad\' used for labeling, CTAs, and buttons'),EXPAND:s._('Expand', 'business.strings', 'A generic translation for \'Expand\' used for labeling, CTAs, and buttons'),MEASURE_YOUR_AD_PERFORMANCE:s._('Measure your ad performance', 'business.strings', 'A generic translation for \'Measure your ad performance\' used for labeling, CTAs, and buttons'),CREATE_BOARD:s._('Create board', 'business.strings', 'A generic translation for \'Create board\' used for labeling, CTAs, and buttons'),SELECTED:s._('Selected', 'business.strings', 'A generic translation for \'Selected\' used for labeling, CTAs, and buttons'),PEOPLE:s._('People', 'business.strings', 'A generic translation for \'People\' used for labeling, CTAs, and buttons'),YES:s._('Yes', 'business.strings', 'A generic translation for \'Yes\' used for labeling, CTAs, and buttons'),TOTAL:s._('Total', 'business.strings', 'A generic translation for \'Total\' used for labeling, CTAs, and buttons'),AUDIENCE_INSIGHTS:s._('Audience insights', 'business.strings', 'A generic translation for \'Audience insights\' used for labeling, CTAs, and buttons'),DISMISS:s._('Dismiss', 'business.strings', 'A generic translation for \'Dismiss\' used for labeling, CTAs, and buttons'),PHONE_NUMBER:s._('Phone number', 'business.strings', 'A generic translation for \'Phone number\' used for labeling, CTAs, and buttons'),TODAY:s._('Today', 'business.strings', 'A generic translation for \'Today\' used for labeling, CTAs, and buttons'),GOT_IT:s._('Got it', 'business.strings', 'A generic translation for \'Got it\' used for labeling, CTAs, and buttons'),SUCCESS:s._('Success', 'business.strings', 'A generic translation for \'Success\' used for labeling, CTAs, and buttons'),AD_GROUPS:s._('Ad groups', 'business.strings', 'A generic translation for \'Ad groups\' used for labeling, CTAs, and buttons')})[e]}},346632:function(e,s,l){l.d(s,{Z:()=>o});var t=l(667294),a=l(909423);function o({allowSearchOnMount:e,children:s,onTypeaheadSuggestionsChange:l,resourceName:o,resourceOptions:r,value:n}){let i=(0,a.Z)({allowSearchOnMount:e,resourceName:o,resourceOptions:r,value:n});return(0,t.useEffect)(()=>{i?.length&&l(i)},[i]),s||null}},909423:function(e,s,l){l.d(s,{Z:()=>n});var t=l(667294);let a=function(e,s){this.uid=e,this.item=s,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,s){let l=this._uidToData[e];l||(l=new a(e,s),this._uidToData[e]=l,this._numItems+=1),this._moveToFront(l),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){let s=this._uidToData[e];return s?(this._moveToFront(s),s.item):null},o.prototype.remove=function(e){let s=this._uidToData[e];s&&(delete this._uidToData[e],this._firstData===s&&(this._firstData=s.next),this._lastData===s&&(this._lastData=s.prev),s.prev&&(s.prev.next=s.next),s.next&&(s.next.prev=s.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};var r=l(57887);function n({allowSearchOnMount:e=!1,resourceName:s,resourceOptions:l={},value:a}){let n=(0,t.useRef)(!1),i=(0,t.useRef)({}),[_,c]=(0,t.useState)([]),d=function({resourceName:e,resourceOptions:s}){let l=(0,r.vL)(),a=(0,t.useRef)(void 0);return a.current||(a.current=function({resourceCreator:e,resourceName:s,resourceOptions:l}){let t=e(s,{...l,count:"count"in l?l.count:5}),a=new o,r=()=>{t.abort()},n=async(e,s)=>{if(t.isCalling()){let l=t.options?.term,a=t.options?.pin_scope;if(e===l&&s===a)return;r()}let{bookmarks:l,...o}=t.options||{};t.options={...o,term:e,pin_scope:s};let{data:n}=(await t.callGet({showError:!1})).resource_response,i=n?.items,_=n?.hint||{};return a.set(`${s}-${e}`,{hint:_,items:i}),{term:e,items:i,hint:_}};return async function(e,s){let l=a.get(`${s}-${e}`);if(l){let{items:s}=l;if(s&&s.length){r();let{hint:t}=l;return{hint:t,items:s,term:e}}}return e.length>=0?n(e,s):{hint:{},items:[],term:e}}}({resourceCreator:l,resourceName:e,resourceOptions:s})),a.current}({resourceName:s,resourceOptions:l}),u=l.pin_scope||"pins",A=`${u}-${a}`;return(0,t.useEffect)(()=>{(async()=>{if(null!=a&&""!==a&&(e||n.current))if(A in i.current)c(i.current[A]);else try{let e=await d(a,u);if(e){let{items:s}=e;i.current[A]=s,c(s)}}catch(e){if("Resource call aborted"===e)return;throw e}n.current||(n.current=!0)})()},[a,u,A]),_}},135269:function(e,s,l){l.d(s,{Z:()=>o});var t=l(739405),a=l(177433);function o(){return function({deviceType:e,site:s}){switch(s){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;case"pinnacle-internal":return 17;default:return+("phone"===e||"tablet"===e)}}({deviceType:(0,t.ZP)(),site:(0,a.uo)()})}},269941:function(e,s,l){l.d(s,{Z:()=>a});let t=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,a=e=>t.test(e)},352507:function(e,s,l){l.d(s,{Z:()=>c,l:()=>_});var t=l(667294),a=l(131391),o=l(774838),r=l(135269),n=l(190914),i=l(200619);let _=(0,t.createContext)(void 0),c=function(){let{advertiser:e}=(0,o.B)(),s=function(){let{isSterlingSite:e}=(0,a.Z)((0,r.Z)());return(0,t.useContext)(_)??e}(),l=(0,i.Z)(),c=((0,n.W)()?.profiles||[]).find(s=>s?.id===e?.owner_user_id);return s&&c||l}},389222:function(e,s,l){l.d(s,{Z:()=>d});var t=l(686659),a=l(667294),o=l(20256),r=l(319226),n=l(935059),i=l(24246),_=l(785893);function c({collaborator:e,isSelected:s,onToggle:l}){(0,a.useEffect)(()=>{(0,t.Z)("CollaboratorItem","/app/www/BoardCreate/AddCollaborators/CollaboratorItem.tsx")},[]);let c=(0,i.Z)(),d=(0,n.Z)(),u=d.isAuth?d?.avatar_color_index:void 0;return(0,_.jsxs)(o.kC,{children:[(0,_.jsxs)(o.kC,{flex:"grow",children:["email"===e.type||"email_share_suggestion"===e.type?(0,_.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",flex:"none",height:48,justifyContent:"center",marginEnd:3,rounding:"circle",width:48,children:(0,_.jsx)(o.JO,{accessibilityLabel:c._('Email icon', 'Email icon on board create modal', 'boardCreate.emailIcon'),color:"default",icon:"envelope",size:24})}):(0,_.jsx)(o.xu,{display:"flex",flex:"none",height:48,marginEnd:3,width:48,children:(0,_.jsx)(r.qE,{color:u,name:e.full_name||"",size:"fit",src:e.image_medium_url||e.image_large_url})}),"email"===e.type||"email_share_suggestion"===e.type?(0,_.jsx)(o.kC,{alignItems:"center",children:(0,_.jsx)(o.xu,{children:(0,_.jsx)(o.xv,{size:"300",children:e.id})})}):(0,_.jsxs)(o.kC,{direction:"column",justifyContent:"center",children:[(0,_.jsx)(o.xu,{marginBottom:1,tabIndex:0,children:(0,_.jsx)(o.xv,{lineClamp:1,size:"300",children:e.full_name})}),(0,_.jsx)(o.xu,{tabIndex:0,children:(0,_.jsx)(o.xv,{size:"200",children:`@${e.username||""}`})})]})]}),(0,_.jsx)(o.kC,{flex:"none",children:(0,_.jsx)(o.zx,{onClick:()=>l(e),selected:s,size:"lg",text:s?c._('Added', 'Text that lets the user know they have added the contact', 'boardCreate.addedContactButton'):c._('Add', 'Text that lets the user know they can add that contact', 'boardCreate.addContactButton')})})]})}function d({contacts:e,selectedContactIds:s,onCollaboratorToggle:l,itemPadding:r=2}){return(0,a.useEffect)(()=>{(0,t.Z)("CollaboratorList","/app/www/BoardCreate/AddCollaborators/CollaboratorList.tsx")},[]),(0,_.jsx)(a.Fragment,{children:e.map(e=>(0,_.jsx)(o.xu,{paddingY:r,children:(0,_.jsx)(c,{collaborator:e,isSelected:s.includes(e.id),onToggle:l})},e.id))})}},983141:function(e,s,l){l.d(s,{Z:()=>d});var t=l(686659),a=l(667294),o=l(20256),r=l(104999),n=l(562400),i=l(24246),_=l(346632),c=l(785893);function d({searchValue:e,onSearchChange:s,onTypeaheadSuggestionsChange:l}){(0,a.useEffect)(()=>{(0,t.Z)("CollaboratorSearch","/app/www/BoardCreate/AddCollaborators/CollaboratorSearch.tsx")},[]);let d=(0,i.Z)(),u=(0,r.Z)(),A=(0,a.useMemo)(()=>(0,n.Z)(e=>{0!==e.length&&u({event_type:7383,view_type:5,view_parameter:3059,component:43,aux_data:{entered_query:e}})},3e3),[u]);return(0,c.jsx)(_.Z,{onTypeaheadSuggestionsChange:l,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,c.jsx)(o.Um,{accessibilityLabel:d._('Search for collaborators by name or email', 'users can search for other people and add them as collaborators to a board', 'boardCreate.searchBar.accessibilityLabel'),id:"CollaboratorInviteSearchField",onChange:({value:e})=>{s({value:e}),A(e)},placeholder:d._('Search by name or email', 'text in search field to indicate that users could search for other users here', 'boadCreate.searchBar.placeHolder'),size:"lg",value:e})})}},771729:function(e,s,l){l.d(s,{Z:()=>r});var t=l(667294),a=l(661376),o=l(269941);function r({selectedContacts:e,onSelectedContactsChange:s}){let{data:l}=(0,a.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),[r,n]=(0,t.useState)([]),[i,_]=(0,t.useState)("");(0,t.useEffect)(()=>{l&&n(l.map(e=>"email_share_suggestion"===e.type?{...e,id:e.email||""}:e))},[l]);let c=e.map(e=>e.id),d=[...e,(0,o.Z)(i)&&!c.includes(i)?{id:i,type:"email"}:null,...r.filter(e=>!c.includes(e.id))].filter(Boolean);return{searchValue:i,allContacts:d,handleTextFieldChange:({value:e})=>{_(e)},handleTypeaheadSuggestionsChange:e=>{n(e)},handleCollaboratorClick:l=>{c.includes(l.id)?s?.((e||[]).filter(e=>e.id!==l.id)):s?.([...e,l])}}}},27753:function(e,s,l){l.d(s,{Z:()=>j});var t=l(686659),a=l(667294),o=l(20256),r=l(104999),n=l(319226),i=l(935059),_=l(907939),c=l(24246),d=l(774838),u=l(893957),A=l(496883),h=l(748261),b=l(230201),g=l(389222),f=l(983141),P=l(771729);function C(e){return e.map(({id:e})=>e)}function z(e,s){return e.filter(({type:e})=>s.includes(e))}var p=l(785893);function m({selectedContacts:e,setSelectedContacts:s}){(0,a.useEffect)(()=>{(0,t.Z)("BoardCreateGlowupAddCollaborator","/app/www/BoardCreateGlowup/BoardCreateGlowupAddCollaborator.tsx")},[]);let l=(0,a.useRef)(!1),{logContextEvent:r}=(0,b.u)();(0,u.Z)(()=>(r({event_type:13,view_type:5,view_parameter:3059,component:13305}),()=>{l.current||r({event_type:10521,view_type:5,view_parameter:3059,component:13305})}));let{searchValue:n,allContacts:i,handleTextFieldChange:_,handleTypeaheadSuggestionsChange:d,handleCollaboratorClick:A}=(0,P.Z)({selectedContacts:e,onSelectedContactsChange:s}),h=C(e),z=(0,c.Z)();return(0,p.jsxs)(o.kC,{direction:"column",gap:6,children:[(0,p.jsxs)(o.kC,{direction:"column",gap:2,children:[(0,p.jsx)(o.xv,{size:"200",children:z._('Collaborators can...', 'BoardCreateGlowupModal.collaborators.content.paragraph-1', 'Text before explaining current collaborator permission setting')}),(0,p.jsxs)(o.kC,{direction:"column",gap:1,children:[(0,p.jsx)(o.xv,{size:"400",weight:"bold",children:z._('Do (almost) everything', 'BoardCreateGlowupModal.collaborators.content.paragraph-2', 'Text explaining current collaborator permission setting')}),(0,p.jsx)(o.xv,{size:"200",children:z._('Add, move or delete Pins and sections, comment and react', 'BoardCreateGlowupModal.collaborators.content.paragraph-3', 'Text explaining current collaborator permission setting')})]})]}),(0,p.jsxs)(o.kC,{direction:"column",gap:2,children:[(0,p.jsx)(o.xv,{size:"200",children:z._('Invite someone on Pinterest', 'BoardCreateGlowupModal.collaborators.content.collaborator-picker-label', 'Text before explaining how to invite someone on Pinterest')}),(0,p.jsx)(f.Z,{onSearchChange:_,onTypeaheadSuggestionsChange:d,searchValue:n}),(0,p.jsx)(g.Z,{contacts:i,itemPadding:2,onCollaboratorToggle:e=>{A(e),l.current=!0},selectedContactIds:h})]})]})}function T({labelId:e,label:s,subtext:l,children:r}){return(0,a.useEffect)(()=>{(0,t.Z)("BoardCreateGlowupModalField","/app/www/BoardCreateGlowup/BoardCreateGlowupModalField.tsx")},[]),(0,p.jsxs)(o.kC,{alignItems:"center",children:[(0,p.jsx)(o.xu,{flex:"grow",children:(0,p.jsxs)(o.__,{htmlFor:e,children:[(0,p.jsx)(o.xv,{size:"300",weight:"bold",children:s}),(0,p.jsx)(o.xv,{color:"subtle",size:"200",children:l})]})}),r]})}var x=l(249459),S=l(236269),v=l(211731),E=l(427475),w=l(183230);let y=[96,58],I=["email","email_share_suggestion"],N=["user","user_share_suggestion"];var D=l(659575),O=l(201198);function j({boardCreateSource:e,images:s=[],initialValues:l,onBoardCreate:b,onClose:g}){(0,a.useEffect)(()=>{(0,t.Z)("BoardCreateGlowupModal","/app/www/BoardCreateGlowup/BoardCreateGlowupModal.tsx")},[]);let[f,P]=(0,a.useState)(l?.boardName??""),[j,B]=(0,a.useState)(l?.privacy==="secret"),[R,L]=(0,a.useState)(),[Z,k]=(0,a.useState)(!1),[M,G]=(0,a.useState)(l?.collaborators??[]),U=(0,c.Z)(),V=(0,r.Z)(),{isRTL:F}=(0,d.B)(),H=(0,i.Z)(),K=H.isAuth?H?.avatar_color_index:void 0,Y=!!R,{state:$,submitAction:W,isPending:X}=function({boardCreateSource:e,onBoardCreate:s,onRequestComplete:l,selectedCollaborators:t}){let o=(0,E.Z)(),r=(0,v.zC)(),n=(0,v.DK)(),[i,_,c]=(0,a.useActionState)(async(a,i)=>{let _={name:i.get("boardName"),privacy:null!=i.get("isSecretBoard")?x.Z.BoardPrivacy.SECRET:x.Z.BoardPrivacy.PUBLIC,aux_data:{source:e}};try{let e=await o({boardCreateOptions:_}),l=z(t,I),a=z(t,N),i=[];l.length>0&&i.push(r(e.id,C(l))),a.length>0&&i.push(n(e.id,C(a)));try{await Promise.all(i)}catch(e){(0,w.T)({name:"BoardCreateGlowupFormSubmitActionState",message:"Failed to invite collaborators",message_detail:(0,S.Z)(e,"message"),stack:(0,S.Z)(e,"stack")})}s(e)}catch(s){let e=(0,S.Z)(s,"api_error_code");if(void 0!==e&&y.includes(e))return{serverBoardNameError:(0,S.Z)(s,"message")}}finally{l?.()}return{}},{});return{state:i,submitAction:_,isPending:c}}({boardCreateSource:e,onBoardCreate:b,onRequestComplete:()=>{k(!1)},selectedCollaborators:M}),{serverBoardNameError:q}=$;(0,u.Z)(()=>{V({event_type:13,view_type:5,view_parameter:87,component:13025})});let J=()=>!Z&&q?q:Y?R:void 0,[Q,ee]=(0,a.useState)("main"),es=()=>{V({event_type:101,view_type:5,view_parameter:87,component:13025,element:10592}),(0,a.startTransition)(()=>{ee("collaborators")})},el={main:{content:(0,p.jsxs)(o.kC,{direction:"column",gap:6,children:[(0,p.jsx)(o.kC,{justifyContent:"center",children:(0,p.jsx)(o.xu,{paddingY:2,width:213,children:(0,p.jsx)(h.Z,{images:s})})}),(0,p.jsx)(o.nv,{errorMessage:J(),id:"board-name",label:U._('Board name', 'BoardCreateGlowupModal.boardNameInput.label', 'Label for board name input'),name:"boardName",onChange:({value:e})=>{P(e);let s=(0,A.FU)((0,D.D)(U),e);s.length>0?L(s[0]):L(void 0),k(!0)},placeholder:U._('Name your board', 'BoardCreateGlowupModal.boardNameInput.placeholder', 'Placeholder for board name input'),size:"lg",value:f}),(0,p.jsx)(T,{label:U._('Make this board secret', 'BoardCreateGlowupModal.privacySettings.label', 'Label for privacy settings'),labelId:"secret-board-toggle",subtext:U._('Only you and collaborators will see this board', 'BoardCreateGlowupModal.privacySettings.subtext', 'Subtext for privacy settings'),children:(0,p.jsx)(o.rs,{id:"secret-board-toggle",name:"isSecretBoard",onChange:({value:e})=>{B(e),V({event_type:e?106:107,view_type:5,view_parameter:87,component:13025,element:53})},switched:j})}),(0,p.jsx)(T,{label:U._('Group board', 'BoardCreateGlowupModal.groupBoardSettings.label', 'Label for group board settings'),labelId:"invite-collaborators-button",subtext:U._('Invite others to collaborate on this board', 'BoardCreateGlowupModal.groupBoardSettings.subtext', 'Subtext for group board settings'),children:M.length>0?(0,p.jsx)(o.xu,{"data-test-id":"avatar-group",children:(0,p.jsx)(n.HE,{addCollaborators:!0,collaborators:M.map(e=>({color:K,name:e.full_name??"",src:e.image_medium_url??""})),onClick:es,role:"button",size:"md"})}):(0,p.jsx)(o.hU,{accessibilityLabel:U._('Invite collaborators', 'BoardCreateGlowupModal.groupBoardSettings.accessibilityLabel', 'Accessibility label for invite collaborators button'),bgColor:"lightGray",icon:"person-add",onClick:es,size:"lg"})})]}),footer:(0,p.jsx)(O.Z,{disabled:!!J()||!f.trim(),form:"board-create-glowup-form",fullWidth:!0,onClick:()=>{V({event_type:101,view_type:5,view_parameter:87,component:13025,element:249})},size:"lg",submitting:X,text:U._('Create', 'BoardCreateGlowupModal.createButton', 'The button to submit the board creation form')}),heading:U._('Create a board', 'BoardCreateGlowupModal.heading', 'Heading for board create glowup modal'),accessibilityModalLabel:U._('Create a board', 'BoardCreateGlowupModal.accessibilityModalLabel', 'Accessibility label for board create glowup modal')},collaborators:{content:(0,p.jsx)(m,{selectedContacts:M,setSelectedContacts:G}),footer:null,heading:U._('Invite collaborators', 'BoardCreateGlowupModal.collaborators.heading', 'Heading for invite collaborators screen'),accessibilityModalLabel:U._('Invite collaborators', 'BoardCreateGlowupModal.collaborators.accessibilityModalLabel', 'Accessibility label for invite collaborators screen')}};return(0,p.jsx)(n.u_,{accessibilityModalLabel:el[Q].accessibilityModalLabel,align:"center",footer:el[Q].footer,heading:(0,p.jsx)(o.xu,{position:"relative",children:(0,p.jsxs)(o.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:["main"!==Q&&(0,p.jsx)(o.xu,{left:!F,position:"absolute",right:F,children:(0,p.jsx)(o.hU,{accessibilityLabel:U._('Go back', 'BoardCreateGlowupModal.backButton.accessibilityLabel', 'Accessibility label for back button'),icon:"arrow-back",onClick:()=>{(0,a.startTransition)(()=>{ee("main")})},size:"lg"})}),"main"===Q&&(0,p.jsx)(o.xu,{left:F,position:"absolute",right:!F,children:(0,p.jsx)(o.hU,{accessibilityLabel:(0,_.Z)("CLOSE",U),icon:"cancel",onClick:g,size:"lg"})}),(0,p.jsx)(o.kC.Item,{flex:"grow",children:(0,p.jsx)(o.X6,{accessibilityLevel:1,align:"center",size:"600",children:el[Q].heading})})]})}),onDismiss:g,size:"md",children:(0,p.jsx)("form",{id:"board-create-glowup-form",onSubmit:e=>{e.preventDefault();let s=e.currentTarget;(0,a.startTransition)(async()=>{await W(new FormData(s))})},children:(0,p.jsx)(o.xu,{minHeight:600,paddingX:6,paddingY:3,children:el[Q].content})})})}},659575:function(e,s,l){l.d(s,{D:()=>i,e:()=>n});var t=l(249459),a=l(696749),o=l(496883);let r=(e,s)=>(0,o.Gy)({max:e,maxErrorString:(0,a.Z)(s._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a string is too long', 'Validation error when a string is too long'),{maxLength:e})}),n=e=>[r(t.Z.MAX_CHARS_FOR_BOARD_PIN_DESCRIPTION,e)],i=e=>[(0,o.aH)({message:e._('Don\'t forget to name your board!', ' - ', ' -- ')}),r(t.Z.MAX_CHARS_FOR_BOARD_TITLE,e)]},201198:function(e,s,l){l.d(s,{Z:()=>_});var t=l(686659),a=l(667294),o=l(20256),r=l(785893);let n={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function i(){return(0,r.jsx)(o.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:n,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function _({disabled:e,form:s,fullWidth:l,name:n,onClick:_,size:c,submitting:d,text:u}){return(0,a.useEffect)(()=>{(0,t.Z)("SubmitButton","/app/www/common/SubmitButton/SubmitButton.tsx")},[]),(0,r.jsxs)(o.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[d&&(0,r.jsx)(i,{}),(0,r.jsx)(o.zx,{color:"red",disabled:e||d,form:s,fullWidth:l,name:n,onClick:_,size:c,text:u,type:"submit"})]})}},427475:function(e,s,l){l.d(s,{Z:()=>c});var t=l(581722),a=l(782677),o=l(27399),r=l(375217),n=l(647908),i=l(233597),_=l(660322);function c(){let e=(0,t.I0)(),s=(0,t.v9)(e=>e.resources);return async function({boardCreateOptions:l,deprecatedSchemaForNormalization:t}){let c=await o.Z.create("BoardResource",l).callCreate(),d=c.resource_response.data,u=t?(0,a.Fv)(d,t):void 0;e((0,_.XM)("BoardResource",l,c,u)),e((0,r.fO)({event_type:20})),d.owner?.id&&e((0,i.b)("UserResource",{options:{user_id:d.owner.id,field_set_key:"save_behavior"}}));let A=s.BoardsResource||{},h=s.BoardsFeedResource||{};return Object.keys(A).forEach(s=>{(0,n.k)(s).username===d.owner?.username&&e((0,_.jB)("BoardsResource",s))}),Object.keys(h).forEach(s=>{(0,n.k)(s).username===d.owner?.username&&e((0,_.jB)("BoardsFeedResource",s))}),d}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/78159-0f475164211f45ff.mjs.map