(self.modernJsonp=self.modernJsonp||[]).push([["41372"],{108679:function(e,t,n){var r=n(121296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=h(n);o&&o!==m&&e(t,o,r)}var s=c(n);u&&(s=s.concat(u(n)));for(var a=l(t),f=l(n),_=0;_<s.length;++_){var g=s[_];if(!i[g]&&!(r&&r[g])&&!(f&&f[g])&&!(a&&a[g])){var y=p(n,g);try{d(t,g,y)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case u:case i:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case d:case p:case l:return e;default:return t}}case f:case m:case o:return t}}}function g(e){return _(e)===u}t.typeOf=_,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=i,t.Lazy=f,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return g(e)||_(e)===c},t.isConcurrentMode=g,t.isContextConsumer=function(e){return _(e)===d},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===f},t.isMemo=function(e){return _(e)===m},t.isPortal=function(e){return _(e)===o},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===s},t.isSuspense=function(e){return _(e)===h}},121296:function(e,t,n){e.exports=n(396103)},892703:function(e,t,n){var r=n(150414);function o(){}e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},659864:function(e,t,n){n(869921)},78273:function(e,t,n){function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}n.d(t,{Z:()=>i});let i=function(e,t){void 0===t&&(t="");var n,i=e&&e.split("/")||[],s=t&&t.split("/")||[],a=e&&r(e),l=t&&r(t),d=a||l;if(e&&r(e)?s=i:i.length&&(s.pop(),s=s.concat(i)),!s.length)return"/";if(s.length){var c=s[s.length-1];n="."===c||".."===c||""===c}else n=!1;for(var u=0,p=s.length;p>=0;p--){var h=s[p];"."===h?o(s,p):".."===h?(o(s,p),u++):u&&(o(s,p),u--)}if(!d)for(;u--;)s.unshift("..");!d||""===s[0]||s[0]&&r(s[0])||s.unshift("");var m=s.join("/");return n&&"/"!==m.substr(-1)&&(m+="/"),m}},17314:function(e,t,n){n.d(t,{Z:()=>d});var r,o,i=n(813653),s=n(831423),a=0,l=0;let d=function(e,t,n){var d=t&&n||0,c=t||Array(16),u=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:o;if(null==u||null==p){var h=e.random||(e.rng||i.Z)();null==u&&(u=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==p&&(p=o=(h[6]<<8|h[7])&16383)}var m=void 0!==e.msecs?e.msecs:Date.now(),f=void 0!==e.nsecs?e.nsecs:l+1,_=m-a+(f-l)/1e4;if(_<0&&void 0===e.clockseq&&(p=p+1&16383),(_<0||m>a)&&void 0===e.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,l=f,o=p;var g=((0xfffffff&(m+=122192928e5))*1e4+f)%0x100000000;c[d++]=g>>>24&255,c[d++]=g>>>16&255,c[d++]=g>>>8&255,c[d++]=255&g;var y=m/0x100000000*1e4&0xfffffff;c[d++]=y>>>8&255,c[d++]=255&y,c[d++]=y>>>24&15|16,c[d++]=y>>>16&255,c[d++]=p>>>8|128,c[d++]=255&p;for(var b=0;b<6;++b)c[d+b]=u[b];return t||(0,s.Z)(c)}},891305:function(e,t,n){n.r(t),n.d(t,{default:()=>g});var r=n(686659),o=n(667294),i=n(20256),s=n(28031),a=n(230201),l=n(351736),d=n(440077),c=n(24246),u=n(79271),p=n(662911),h=n(785893);let m=({direction:e,onClick:t})=>{let n=(0,c.Z)(),r="right"===e?n._('Click to scroll right', 'featuredBoards.featuredBoardsModule.iconScrollRight.label', 'Accessibility label for clicking to scroll right in Featured Boards Module'):n._('Click to scroll left', 'featuredBoards.featuredBoardsModule.iconScrollLeft.label', 'Accessibility label for clicking to scroll left in Featured Boards Module');return(0,h.jsx)(i.xu,{alignItems:"center",display:"flex",height:157,left:"left"===e,marginEnd:5*("right"===e),marginStart:5*("left"===e),position:"absolute",right:"right"===e,top:!0,children:(0,h.jsx)(i.xu,{borderStyle:"shadow",height:d.GnN,rounding:4,children:(0,h.jsx)(i.hU,{accessibilityLabel:r,bgColor:"white",icon:"right"===e?"arrow-forward":"arrow-back",onClick:t,size:"sm"})})})};function f(e){return e?.map(({type:e,id:t})=>`${e??""}:${t??""}`).join("|")}function _({board:e,boardIndex:t,slotIndex:n,story:r,viewParameter:s,viewType:d}){let m=(0,l.vs)(),_=(0,c.Z)(),{logContextEvent:g}=(0,a.u)(),{featured_board_metadata:y={},id:b,pin_count:x}=e,{is_sponsored_content:v}=y,E=(0,u.ZP)({clientTrackingParams:r.tracking_params,componentType:15086,contextLogData:{board_id:b,board_pin_count:x??0,board_index:t,content_ids:f(r?.objects),story_id:r.id,story_type:r.story_type},impressionType:"Board",loggingId:r.id,slotIndex:n,viewParameter:s,viewType:d}),P=(0,o.useCallback)(()=>{g({aux_data:{board_id:b,board_index:t,board_pin_count:x??0,content_ids:f(r?.objects),story_id:r.id,story_type:r.story_type},component:15086,event_type:102,view_type:d,view_parameter:s})},[b,t,g,x,r,s,d]);return(0,h.jsx)(i.xu,{ref:E,children:(0,h.jsx)(i.iP,{onTap:P,children:(0,h.jsxs)(i.xu,{position:"relative",children:[(0,h.jsx)(p.default,{boardKey:{type:"Legacy",data:e},display:"static",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,noPaddings:!0,showFollowButton:!1,type:"grid",viewParameter:s,viewType:d},b),v&&(0,h.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:m?"rgba(51,51,46,0.8)":"rgba(229,229,224,0.8)",pointerEvents:"none"}},left:!0,margin:2,paddingX:1.5,paddingY:1,position:"absolute",rounding:2,top:!0,children:(0,h.jsx)(i.xv,{size:"100",children:_._('Sponsored', 'board.Headers.BoardHeader.BoardHeaderDetails.sponsored', 'Badge to tell the viewer for board with set sponsor user')})})]})})})}function g({renderAsStory:e=!1,slotIndex:t,story:n,viewParameter:l,viewType:c}){(0,o.useEffect)(()=>{(0,r.Z)("FeaturedBoardsModule","/app/common/react/components/FeaturedBoards/FeaturedBoardsModule.tsx")},[]);let{logContextEvent:p}=(0,a.u)(),g=(0,o.useRef)(null),{width:y}=(0,s.Z)()||{},[b,x]=(0,o.useState)({current:0,end:!1,start:!0}),[v,E]=(0,o.useState)(!e),{action:P,objects:w,subtitle:S,title:A}=n,C=P&&P.text&&P.url,T=(0,u.ZP)({clientTrackingParams:n.tracking_params,componentType:15086,contextLogData:{content_ids:f(n?.objects),story_id:n.id,story_index:t,story_reason:"Featured Boards Module",story_title:n.title?.format,story_type:n.story_type,total_object_count:n.objects?.length},impressionType:"Story",loggingId:n.id,slotIndex:t,viewParameter:l,viewType:c}),I=e=>{if(!g.current)return;let{clientWidth:t,scrollLeft:r,scrollWidth:o}=g.current,i=o-t,s=Math.max(0,(r||0)+240*Math.floor(t/240)*e);0===s?g.current.scrollLeft=0:i-s<118?g.current.scrollLeft=i:g.current.scrollLeft=s-s%240,p({aux_data:{content_ids:f(n?.objects),story_id:n.id,story_type:n.story_type},component:15086,event_type:e>0?9315:9316,view_type:c,view_parameter:l})},R=()=>{if(!g.current)return;let e=g.current.scrollLeft||0,t=e+g.current.clientWidth>=g.current.scrollWidth;x({current:e,end:t,start:0===e})};return(0,o.useEffect)(()=>{if(!g.current)return;let{clientWidth:e,scrollWidth:t}=g.current;E(e<t),R()},[e,y]),(0,h.jsxs)(i.xu,{ref:T,borderStyle:e?"none":"lg",paddingY:5,rounding:4,children:[(0,h.jsx)(i.xu,{paddingX:7,children:(0,h.jsxs)(i.kC,{alignItems:"center",gap:2,justifyContent:e?"center":"between",children:[(0,h.jsxs)(i.xu,{children:[S&&(0,h.jsx)(i.xv,{align:e?"center":"start",size:"200",children:S.format}),A&&(0,h.jsx)(i.xu,{marginTop:+!!S,children:(0,h.jsx)(i.xv,{align:e?"center":"start",size:"400",weight:"bold",children:A.format})})]}),C&&(0,h.jsx)(i.zx,{color:"gray",onClick:({event:e})=>{e.stopPropagation(),p({event_type:101,component:15086}),window.location.assign(P.url)},text:P.text})]})}),(0,h.jsxs)(i.xu,{marginTop:3,position:"relative",children:[(0,h.jsxs)(i.xu,{ref:g,dangerouslySetInlineStyle:{__style:{gap:"4px",scrollBehavior:"smooth"}},display:"flex",justifyContent:e&&!v?"center":"start",onScroll:R,overflow:"hidden",paddingX:4,children:[(0,h.jsx)(i.xu,{width:d.Hgl}),w?.map((e,r)=>(0,h.jsx)(_,{board:e,boardIndex:r,slotIndex:t,story:n,viewParameter:l,viewType:c},e.id)),(0,h.jsx)(i.xu,{width:d.Hgl})]}),v&&!b.start&&(0,h.jsx)(m,{direction:"left",onClick:()=>I(-1)}),v&&!b.end&&(0,h.jsx)(m,{direction:"right",onClick:()=>I(1)})]})]})}},599263:function(e,t,n){n.d(t,{Z:()=>r});let r=64},947862:function(e,t,n){n.d(t,{P:()=>a,Z:()=>l});var r=n(312048),o=n(15881),i=n(418282);let s=["/","/homefeed/"];function a(){let e=(0,i.Nl)().getItem(o.Qt);return e&&"object"==typeof e&&"time"in e&&"scrollPosition"in e?e:null}function l(){let{pathname:e}=(0,r.TH)(),t=(0,r.ur)();if(s.includes(e)&&"POP"!==t){let e=a(),t=e?.time?Date.now()-e.time:0;return{shouldMaintainHomefeed:t>0&&t/6e4<2.5,lastHFScrollPosition:e?.scrollPosition}}return{shouldMaintainHomefeed:!1}}},332995:function(e,t,n){n.d(t,{Z:()=>l});var r=n(686659),o=n(667294),i=n(342462),s=n(785893);let a=(0,o.lazy)(()=>n.e("52470").then(n.bind(n,882474))),l=({placementId:e})=>((0,o.useEffect)(()=>{(0,r.Z)("ExperienceCompromisedAccount","/app/common/react/components/experiences/ExperienceCompromisedAccount/ExperienceCompromisedAccount.tsx")},[]),(0,s.jsx)(i.a3,{eligibleIds:[500818],placementId:e,children:({complete:e,dismiss:t})=>(0,s.jsx)(o.Suspense,{children:(0,s.jsx)(a,{onComplete:e,onDismiss:t})})}))},272598:function(e,t,n){n.d(t,{Z:()=>C});var r=n(686659),o=n(667294),i=n(20256),s=n(505633),a=n(342462),l=n(581909),d=n(916559),c=n(465784),u=n(986475),p=n(640200),h=n(721703),m=n(9065),f=n(785893);let _=(0,m.Z)(()=>n.e("88929").then(n.bind(n,607571)),{ssr:!1},e=>607571,void 0,void 0),g=(0,m.Z)(()=>n.e("33629").then(n.bind(n,282842)),{ssr:!1},e=>282842,void 0,void 0),y=(0,m.Z)(()=>Promise.all([n.e("6608"),n.e("74374")]).then(n.bind(n,568432)),{ssr:!1},e=>568432,void 0,void 0),b=(0,m.Z)(()=>n.e("12026").then(n.bind(n,788635)),{ssr:!1},e=>788635,void 0,void 0),x=(0,m.Z)(()=>Promise.all([n.e("15417"),n.e("51296"),n.e("67152"),n.e("51640")]).then(n.bind(n,50415)),{ssr:!1},e=>50415,void 0,void 0),v=(0,m.Z)(()=>n.e("3256").then(n.bind(n,126963)),{ssr:!1},e=>126963,void 0,void 0),E=(0,m.Z)(()=>n.e("1295").then(n.bind(n,826241)),{ssr:!1},e=>826241,void 0,void 0),P=(0,m.Z)(()=>n.e("29376").then(n.bind(n,708459)),{ssr:!1},e=>708459,void 0,void 0),w=(0,m.Z)(()=>n.e("28234").then(n.bind(n,182112)),{ssr:!1},e=>182112,void 0,void 0),S=[505420,505933,506173,506124,506436],A=({complete:e,dismiss:t,experience:n,placementId:r})=>{let{experience_id:o,display_data:a}=n,d=function(e){switch(e){case 504721:return E;case 504569:return v;case 504032:return P;case 502271:return g;case 505093:return w;default:return _}}(o),m=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(o),{setObserverRef:A}=(0,l.NQ)();return(0,f.jsxs)(i.xu,{ref:A,children:[!S.includes(o)&&(0,f.jsx)(c.ZP,{accessibilityModalLabel:"",onDismiss:t,size:m,children:(0,f.jsx)(d,{...(0,u.Z)(p.Z)(a),experienceId:o,handleComplete:e,handleDismiss:t,placementId:r})}),506124===o&&(0,f.jsx)(y,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,u.Z)(p.Z)(a)}),(506173===o||506436===o)&&(0,f.jsx)(y,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,u.Z)(p.Z)(a)}),505420===o&&(0,f.jsx)(x,{experienceId:505420,onSubmitSurvey:async()=>{(0,s.Z)((0,h.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:r,viewType:251}),505933===o&&(0,f.jsx)(b,{handleComplete:()=>{e(),(0,s.Z)((0,h.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function C({placementId:e}){(0,o.useEffect)(()=>{(0,r.Z)("ExperienceModal","/app/common/react/components/experiences/ExperienceModal/ExperienceModal.tsx")},[]);let{enableExperienceSession:t,endOnSurfaceChange:n}=(0,d.Z)(e);return(0,f.jsx)(o.Fragment,{children:(0,f.jsx)(a.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:n,children:({complete:t,dismiss:n,experience:r})=>(0,f.jsx)(A,{complete:t,dismiss:n,experience:r,placementId:e})})})}},671121:function(e,t,n){n.d(t,{Z:()=>o});var r=n(27399);async function o(e,t){let n=async()=>{let e={name:t._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return r.Z.create("BoardResource",e).callCreate()},{resource_response:{data:o}}=await n(),i=async t=>r.Z.create("RepinResource",{board_id:t,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await i(o.id),o}},945419:function(e,t,n){n.d(t,{$H:()=>o,AG:()=>s,M5:()=>a,W5:()=>l,_Y:()=>i,mH:()=>d});var r=n(20256);let o=16,i=137,s=103,a="rgba(17,17,17,0.4)",l=new r.Ry(1),d=()=>5},724903:function(e,t,n){function r({maxPrice:e,minPrice:t,price:n}){return e&&t?`${t}-${e}`:n}n.d(t,{Z:()=>r})},667980:function(e,t,n){n.d(t,{N:()=>l,Z:()=>a});var r=n(686659),o=n(667294),i=n(20256),s=n(785893);function a({children:e,fullWidth:t,overrideDataTestId:n}){return(0,o.useEffect)(()=>{(0,r.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},"data-test-id":n||"pointer-events-wrapper",children:e})}function l({children:e,enabled:t}){return(0,o.useEffect)(()=>{(0,r.Z)("EnablePointerEvents","/app/packages/PinRep/EnablePointerEvents.tsx")},[]),t?(0,s.jsx)(a,{children:e}):e}},465989:function(e,t,n){n.d(t,{$N:()=>c,Cu:()=>p,NR:()=>a,S9:()=>i,bC:()=>u,fm:()=>r,kM:()=>o,qp:()=>s,uV:()=>l,ug:()=>d});let r={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",BULK_ID_LIBRARY:"BULK_ID_LIBRARY",RESOURCES:"RESOURCES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_RECEIPT:"BILLING_RECEIPT",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",TAX_DOCUMENTS:"TAX_DOCUMENTS",DOCUMENTS:"DOCUMENTS",PREPAID_SPEND_SUMMARY:"PREPAID_SPEND_SUMMARY",PREPAID_SPEND_BREAKDOWN:"PREPAID_SPEND_BREAKDOWN",SUMMARY:"SUMMARY"},i={CREATE:"CREATE",MANAGE:"MANAGE",VIEW_REPORT:"VIEW_REPORT",AB_TEST_CREATE:"AB_TEST_CREATE"},s={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TEST_EVENTS:"PINTEREST_TEST_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",CONVERSIONS:"CONVERSIONS",PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP:"PINTEREST_EVENTS_OVERVIEW_BEFORE_SETUP",PINTEREST_SETUP_API:"PINTEREST_SETUP_API",NOCODE_CONVERSIONS_API_SETUP_FLOW:"NOCODE_CONVERSIONS_API_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW_CAPI_TAB:"PINTEREST_EVENTS_OVERVIEW_CAPI_TAB",PINTEREST_EVENT_HISTORY_CAPI_TAB:"PINTEREST_EVENT_HISTORY_CAPI_TAB"},a={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type",PRIORITY:"priority",CLICK_PRIORITY:"2",VIEW_PRIORITY:"1",HOSTNAME:"hostname",CAMPAIGN_ID:"campaign_id",ADVERTISER_ID:"advertiser_id"},l="604800",d="86400",c={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"},u="click",p="view"},939559:function(e,t,n){n.d(t,{Z:()=>I});var r=n(686659),o=n(667294),i=n(4533);let s=(e,t)=>{let n=e;for(;n;){if(t(n))return!0;n=n.parentElement}return!1};var a=n(243519);let l=[a.WM,a.WD].map(e=>`div[data-grid-item] [data-test-id="${e}"] img`).join(", ");var d=n(312048),c=n(20256),u=n(289935),p=n(935059),h=n(24246),m=n(216975),f=n(785893);function _({onDismiss:e,trackHardRefresh:t}){(0,o.useEffect)(()=>{(0,r.Z)("AdBlockModal","/app/packages/avoidAdBlock/AdBlockModal.tsx")},[]);let n=(0,h.Z)(),i=(0,d.s0)(),s=(0,p.Z)();return(0,f.jsx)(c.mh,{zIndex:u.b7,children:(0,f.jsx)(c.WB,{accessibilityModalLabel:n._('Ad blocker modal', 'adBlockModal.modal.accessibilityModalLabel', 'Announces the ad blocker modal to the user'),heading:n._('Ad Blocker detected', 'adBlockModal.modal.header.heading', 'Main modal heading announcing ad blocker detection on the browser'),onDismiss:e,primaryAction:{accessibilityLabel:n._('Dismiss ad blocker modal', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:n._('Got it', 'adBlockModal.primaryAction.button.dismiss', 'Button for dismissing the message and closing the modal window'),onClick:e},secondaryAction:{accessibilityLabel:n._('Refresh after deactivating ad blocker', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:n._('Refresh', 'adBlockModal.secondaryAction.button.refresh', 'Button for refreshing page'),onClick:()=>{t(),i(0)}},type:"error",children:(0,f.jsxs)(c.kC,{direction:"column",gap:6,children:[(0,f.jsx)(c.xv,{inline:!0,children:(0,m.XB)({text:n._('Please <strong id="1">disable your ad blocker</strong> to access more features and get the full experience of Pinterest.', 'adBlockModal.modal.text.guidelines', 'Instruction to disable the ad blocker.'),jsxReplacements:{1:({innerHtmlStrings:e})=>(0,f.jsx)(c.xv,{inline:!0,weight:"bold",children:e},1)}})}),(0,f.jsx)(c.xv,{children:n._('After you disable the ad blocker, please refresh the page.', 'adBlockModal.modal.text.afterDisable', 'Instruction to refresh the page after ad blocker is disabled')}),s.isAuth&&s.isEmployee&&(0,f.jsx)(c.xv,{italic:!0,children:(0,m.XB)({text:n._('Pinterest Employees: If you do not have an ad blocker enabled, please <a id="reportBugLink">report a bug</a> because you should not see this modal.', 'adBlockModal.modal.text.employeeReportIssue', 'Instruction to report incorrect detections'),jsxReplacements:{reportBugLink:({innerHtmlStrings:e})=>(0,f.jsx)(c.rU,{display:"inline",externalLinkIcon:{size:"100"},href:"http://pinch/report-adblockmodal-bug",target:"blank",children:e})}})})]})})})}var g=n(501010),y=n(774838),b=n(34550),x=n(893957),v=n(767415);let E=()=>n.e("28057").then(n.bind(n,139146)),P=e=>{let{country:t,userAgent:{browserName:n}}=(0,y.B)();return(r,o)=>{(0,v.nP)(`adblockmodal.${r}`,{sampleRate:1,flushImmediate:"refreshed"===r,tags:{country:t,browserName:n,surface:e,...o}})}},w=()=>new Date().toISOString(),S=async e=>{let{adBlockAnalyticsRecordValidator:t}=await E();b.ZP.setItem(i.Oy,{...b.ZP.getItem(i.Oy)??t.cast({}),...e})},A=async e=>{let{adBlockModalDismissalRecordValidator:t}=await E();b.ZP.setItem(i.EJ,{...b.ZP.getItem(i.EJ)??t.cast({}),...e})},C=!1;function T({detected:e,surface:t,isDismissedRecently:n}){let r=P(t);return(0,x.Z)(()=>{let t=b.ZP.getItem(i.Oy);if(C||(r("broad_detection",{detected:e,hasSeenModal:!!t?.displayedAt,isDismissedRecently:n}),C=!0),!n)if(e){if(!t?.adblockDetectedAt){let e={adblockDetectedAt:w()};r("detected"),t?.displayedAt||(e={...e,displayedAt:w()},r("displayed")),S(e)}}else!t?.noAdBlockDetectedAt&&(S({noAdBlockDetectedAt:w()}),t?.adblockDetectedAt?(r("disabled"),t?.displayedAt&&r("disabled_after_displayed")):r("not_detected"))}),null}function I({surface:e}){(0,o.useEffect)(()=>{(0,r.Z)("MaybeAdBlockModal","/app/packages/avoidAdBlock/MaybeAdBlockModal.tsx")},[]);let{isDismissedRecently:t,onDismiss:n}=(e=>{let t=P(e),[n,r]=(0,o.useState)("UNKNOWN");return(0,o.useEffect)(()=>{let e=b.ZP.getItem(i.EJ),t=e?.dismissedAt;r(!!t&&(e=>{let t=new Date;return t.setDate(t.getDate()-30),new Date(e)>t})(t))},[]),{isDismissedRecently:n,onDismiss:()=>{r(!0),A({dismissedAt:w()}),t("dismissed")}}})(e),d=P(e),{checkExperiment:c}=(0,g.Z)(),u=(()=>{let[e,t]=(0,o.useState)("UNKNOWN");return(0,x.Z)(()=>{setTimeout(()=>{t(Array.from(document.querySelectorAll(l)).some(e=>{let t;return(((t=e).checkVisibility?!t.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0}):s(t,e=>{let t=window.getComputedStyle(e);return"none"===t.display||"hidden"===t.visibility}))||s(t,e=>.5>=parseFloat(window.getComputedStyle(e).opacity)))&&null===e.closest(`[data-test-id="${a.eC}"]`)&&null===e.closest('body>div[hidden]:has(> template[data-msg^="Switched to client rendering because the server rendering errored"])')}))},0)}),e})();return"UNKNOWN"===t||"UNKNOWN"===u?null:(0,f.jsxs)(o.Fragment,{children:[u&&!t&&c("feature_gate_ads_adblockmodal").anyEnabled&&(0,f.jsx)(_,{onDismiss:n,trackHardRefresh:()=>{d("refreshed")}}),(0,f.jsx)(T,{detected:u,isDismissedRecently:t,surface:e})]})}},515511:function(e,t,n){n.d(t,{Z:()=>r});function r(e){return function e(t,n){let r;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;let o=n.find(e=>e.value===t);if(o)return o.result;let i=Object.prototype.toString.call(t);switch(i){case"[object Array]":r=Array(t.length);break;case"[object Set]":r=new Set;break;case"[object Object]":case"[object Arguments]":r={};break;case"[object Map]":r=new Map;break;default:return t}let s=[...n,{value:t,result:r}];switch(i){case"[object Array]":t.forEach((t,n)=>{r[n]=e(t,s)});break;case"[object Set]":t.forEach(t=>{r.add(e(t,s))});break;case"[object Object]":case"[object Arguments]":Object.entries(t).forEach(([t,n])=>{r[t]=e(n,s)});break;case"[object Map]":t.forEach((t,n)=>{r.set(n,e(t,s))})}return r}(e,[])}},59355:function(e,t,n){n.d(t,{Q:()=>l,Z:()=>d});var r=n(667294),o=n(104999),i=n(746868),s=n(730056),a=n(774838);function l(e,t){let{setViewContextData:n}=(0,i.A$)(),{requestIdentifier:l}=(0,a.B)(),d=(0,o.Z)(),{viewData:c}=(0,i.SU)();(0,r.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,s.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:l}))},[t])}function d(e){let{children:t,log:n}=e;return l(n),t||null}},784548:function(e,t,n){n.d(t,{$y:()=>i,AU:()=>c,VD:()=>p,_d:()=>o,am:()=>d,bj:()=>s,pv:()=>u,tb:()=>l,x1:()=>a});let r="local",o={INIT_CURRENT_USER_TRACKER:"INIT_CURRENT_USER_TRACKER",ADD_VISITED_PAGE:"ADD_VISITED_PAGE",ADD_COMPLETED_SEARCH:"ADD_COMPLETED_SEARCH",REMOVE_COMPLETED_SEARCH:"REMOVE_COMPLETED_SEARCH",ADD_CLICKTHROUGH_PIN:"ADD_CLICKTHROUGH_PIN",UPDATE_DOWNLOAD_COUNT:"UPDATE_DOWNLOAD_COUNT",UPDATE_SAVED_PINS:"UPDATE_SAVED_PINS",UPDATE_REVISITATION:"UPDATE_REVISITATION"},i=e=>({type:o.INIT_CURRENT_USER_TRACKER,payload:e}),s=(e,t)=>({type:o.ADD_VISITED_PAGE,payload:{path:e,pageType:t,storageType:r}}),a=e=>({type:o.ADD_COMPLETED_SEARCH,payload:{search:e,storageType:r}}),l=e=>({type:o.REMOVE_COMPLETED_SEARCH,payload:{query:e,storageType:r}}),d=e=>({type:o.ADD_CLICKTHROUGH_PIN,payload:{pin:e,storageType:r}}),c=()=>({type:o.UPDATE_DOWNLOAD_COUNT,payload:{storageType:r}}),u=e=>({type:o.UPDATE_SAVED_PINS,payload:{pins:e,storageType:r}}),p=e=>({type:o.UPDATE_REVISITATION,payload:{revisitation:e,storageType:r}})},293123:function(e,t,n){n.d(t,{$2:()=>f,EI:()=>h,HY:()=>w,Ku:()=>g,LI:()=>y,V5:()=>x,Vz:()=>p,aJ:()=>b,cn:()=>v,cq:()=>E,eo:()=>_,jo:()=>P,yb:()=>m});var r=n(4533),o=n(994507),i=n(971258),s=n(52433),a=n(34550),l=n(418282),d=n(163691),c=n(767415);function u(e){return"local"===e?(0,a.M0)():(0,l.Nl)()}let p=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return o.PW;return(t.getItem(r.pm)||o.PW).map(e=>({...e,path:(0,s.Z)(e.path)}))}catch(e){return(0,c.nP)("current_user_tracker.storage.get_visited_pages.error"),o.PW}},h=(e,t,n="local")=>{try{let a=u(n);if(!a.accessAllowed)return;let l=(0,s.Z)(e),d=[...p(n)],c=(0,i.b8)(d,l,t,o.LG);c!==d&&a.setItem(r.pm,c)}catch(e){(0,c.nP)("current_user_tracker.storage.add_visited_page.error")}},m=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return o.fE;return t.getItem(r.ny)||o.fE}catch(e){return(0,c.nP)("current_user_tracker.storage.get_completed_searches.error"),o.fE}},f=(e,t="local")=>{try{let n=u(t);if(!n.accessAllowed)return;let s=[...m(t)],a=(0,i.aq)(s,e,o.LG);a!==s&&n.setItem(r.ny,a)}catch(e){(0,c.nP)("current_user_tracker.storage.add_completed_search.error")}},_=(e,t="local")=>{try{let n=u(t);if(!n.accessAllowed)return;let o=[...m(t)],s=(0,i.zz)(o,e);n.setItem(r.ny,s)}catch(e){(0,c.nP)("current_user_tracker.storage.remove_completed_search.error")}},g=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return o.iK;return t.getItem(r.Vb)||o.iK}catch(e){return(0,c.nP)("current_user_tracker.storage.get_clickthrough_pins.error"),o.iK}},y=(e,t="local")=>{try{let n=u(t);if(!n.accessAllowed)return;let s=[...g(t)],a=(0,i.UP)(s,e,o.LG);a!==s&&n.setItem(r.Vb,a)}catch(e){(0,c.nP)("current_user_tracker.storage.add_clickthrough_pin.error")}},b=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return o.cH;return parseInt(t.getItem(r.rN)||String(o.cH),10)}catch(e){return(0,c.nP)("current_user_tracker.storage.get_download_count.error"),o.cH}},x=(e,t="local")=>{try{let n=u(t);if(!n.accessAllowed)return;n.setItem(r.rN,e.toString())}catch(e){(0,c.nP)("current_user_tracker.storage.set_download_count.error")}},v=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return o.pn;return t.getItem(r.s1)??o.pn}catch(e){return(0,c.nP)("current_user_tracker.storage.get_saved_pins.error"),o.pn}},E=(e,t="local")=>{try{let n=u(t);if(!n.accessAllowed)return;n.setItem(r.s1,e)}catch(e){(0,c.nP)("current_user_tracker.storage.set_saved_pins.error")}},P=(e="local")=>{try{let t=u(e);if(!t.accessAllowed)return(0,o.dm)();let{count:n,time:i,ts:s}=t.getItem(r.SI)??{};if("number"==typeof n&&"number"==typeof i&&"number"==typeof s)return{count:n,time:i,ts:s};return(0,o.dm)()}catch(e){return(0,c.nP)("current_user_tracker.storage.get_revisitation.error"),(0,o.dm)()}},w=(e,t="local")=>{try{let n=u(t);if(!n.accessAllowed)return;n.setItem(r.SI,(0,d.Z)(e))}catch(e){(0,c.nP)("current_user_tracker.storage.set_revisitation.error")}}},971258:function(e,t,n){n.d(t,{UP:()=>l,aq:()=>a,b8:()=>s,zz:()=>d});var r=n(52433),o=n(163691);let i=(e,t,n)=>{let r=[t,...e];return r.length>n?r.slice(0,n):r},s=(e,t,n,s)=>{let a=(0,r.Z)(t);return((e,t)=>{let n=e.length,o=(0,r.Z)(t),i=n?(0,r.Z)(e[0].path):"";return!n||o!==i})(e,a)?i(e,(0,o.Z)({path:a,pageType:n}),s):e},a=(e,t,n)=>((e,t)=>{let n=e.length,r=n?e[0].query:"";return!n||t!==r})(e,t.query)?i(e,(0,o.Z)(t),n):e,l=(e,t,n)=>((e,t)=>{let n=e.length,r=n?e[0].pinId:"";return!n||t!==r})(e,t.pinId)?i(e,(0,o.Z)(t),n):e,d=(e,t)=>e.filter(e=>e.query!==t)},52433:function(e,t,n){n.d(t,{Z:()=>o});var r=n(197908);function o(e){let t=(0,r.Z)(e);return t?`/pin/${t}/`:e}},247262:function(e,t,n){function r(e){let t=Math.round(e/1e3),n=Math.floor(t/60),r=t%60;return n+":"+(r<10?"0":"")+r}n.d(t,{Z:()=>r})},315567:function(e,t,n){n.d(t,{Z:()=>r});let r=e=>{let[t,n]=[e?.width||580,e?.height||400],[r,o]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${n},left=${Math.round((r-t)/2)},top=${o>n?Math.round((o-n)/2):0}`}},539679:function(e,t,n){function r({gutterWidth:e,isRTL:t,itemWidth:n=236,maxColumns:r=16,minColumns:o=2}){let i=n+e,s=`
.gridCentered {
  margin-left: auto;
  margin-right: auto;
}
.gridCentered .static {
  padding: 0 ${e/2}px;
  position: absolute;
  visibility: hidden;
}
`;for(let e=o;e<r+1;e+=1){let n=e===o?0:e*i;s+=`
@media (min-width: ${n}px) and (max-width: ${(e+1)*i-1}px) {
  .gridCentered {
    max-width: ${e*i}px;
  }
  .gridCentered .static:nth-child(-n+${e}) {
    position: static !important;
    visibility: visible !important;
    float: ${t?"right":"left"};
    display: block;
  }
}
`}return s}n.d(t,{Z:()=>r})},465784:function(e,t,n){n.d(t,{ZP:()=>c,bN:()=>l,p4:()=>d});var r=n(686659),o=n(667294),i=n(739405),s=n(9065),a=n(785893);let l=(0,s.Z)(()=>n.e("44109").then(n.bind(n,551737)),{ssr:!1},e=>551737,"DesktopModal",e=>["44109"]),d=(0,s.Z)(()=>n.e("45718").then(n.bind(n,659546)),{ssr:!1},e=>659546,"MobileModal",e=>["45718"]);function c(e){(0,o.useEffect)(()=>{(0,r.Z)("Modal","/app/packages/gestaltExtensions/Modal.tsx")},[]);let t=(0,i.ZP)(),n=void 0===e.isOpen||e.isOpen;if("desktop"===t&&n){let{isOpen:t,mobileAccessibilityCloseIconLabel:n,mobileAllowScroll:r,mobileHeadingSize:o,mobileHideCloseIcon:i,mobileIsFullscreen:s,mobileIsSlideUp:d,mobileTopOffset:c,type:u,mobileIsFooter:p,zIndex:h,...m}=e;return(0,a.jsx)(l,{...m})}let{allowMediaPlay:s,allowScroll:c,role:u,size:p,_dangerouslyDisableScrollBoundaryContainer:h,layerZIndex:m,...f}=e;return(0,a.jsx)(d,{...f,isOpen:n})}},924591:function(e,t,n){n.d(t,{Z:()=>c});var r=n(686659),o=n(667294),i=n(20256),s=n(100424),a=n(739405),l=n(893957),d=n(785893);function c({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:c,dismissButton:u,helperLink:p,thumbnail:h,type:m,dataTestId:f,duration:_=2e3,onHide:g,href:y,onClick:b,openNewPage:x,imageUrl:v}){let E;(0,o.useEffect)(()=>{(0,r.Z)("Toast","/app/packages/gestaltExtensions/Toast.tsx")},[]);let P=(0,a.ZP)(),[w,S]=(0,o.useState)(!1),[A,C]=(0,o.useState)(!1),T=(0,o.useRef)(void 0),I=()=>{S(!0),T.current=setTimeout(g,s.Vg)},R=()=>{T.current=setTimeout(I,_)},j=()=>{T.current&&clearTimeout(T.current)};(0,l.Z)(()=>(setTimeout(()=>C(!0),100),R(),j)),v&&(E={image:(0,d.jsx)(i.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:v})});let O=(0,d.jsx)(i.FN,{_dangerouslySetPrimaryAction:t,_dangerouslySetThumbnail:e,dismissButton:u,helperLink:p,primaryAction:c,text:n,thumbnail:E??h,type:m}),{marginTop:k,opacity:N,pointerEvents:Z,position:D,transform:L,transition:M,visibility:B}=(0,s.ZP)({deviceType:P,hiding:w,visible:A});return(0,d.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{transform:L,transition:M,visibility:B,pointerEvents:Z}},"data-test-id":f??"toast",display:"flex",marginTop:k,onMouseEnter:j,onMouseLeave:R,opacity:N,position:D,children:y?(0,d.jsx)(i.Tg,{href:y,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{y.startsWith("#")&&(e.preventDefault(),t()),b?.(e)},rounding:"pill",target:x?"blank":null,children:O}):O})}},100424:function(e,t,n){n.d(t,{Vg:()=>r,ZP:()=>o});let r=200,o=({deviceType:e,hiding:t,visible:n})=>{let r="desktop"===e,o=0,i=r?"translateY(200px)":"translateY(-200px)",s="opacity 0.1s ease-in-out",a="hidden";return n&&!t&&(o=1,i="translateY(0)",s="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",a="visible"),n&&t&&(i="scale(1.1)",s="opacity transform 0.2s"),{opacity:o,pointerEvents:"auto",position:"relative",marginTop:10*!!r,transform:i,transition:s,visibility:a}}},319226:function(e,t,n){n.d(t,{u_:()=>u.ZP,FN:()=>p.Z,qE:()=>s,HE:()=>c});var r=n(20256),o=n(785893);function i({accessibilityLabel:e,color:t,name:n,outline:i,size:s,src:a,verified:l}){return(0,o.jsx)(r.qE,{accessibilityLabel:e,color:t,name:n,outline:i,size:s,src:a?.includes("images/user/default")&&n?void 0:a,verified:l})}i.displayName="Avatar";let s=i;var a=n(216975),l=n(24246);function d({accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:n,addCollaborators:i,collaborators:s,href:d,onClick:c,ref:u,role:p,size:h}){let m=(0,l.Z)();return(0,o.jsx)(r.HE,{ref:u,accessibilityControls:e,accessibilityExpanded:t,accessibilityHaspopup:n,accessibilityLabel:(({listOfUsers:e,i18n:t,addCollaborators:n=!1})=>{let r={first:e[0]??"",second:e[1]??"",third:e[2]??"",remaining:String(e.length-2)};if(e.length-2>=99)return n?(0,a.Wc)(t._('Collaborators: {{ first }}, {{ second }} and over 99 others. Add collaborators.', 'getTranslatedList.moreThan99PeopleAndAddCollaborators', 'Generic message that lists more than 99 people (ex: Stevie, Michael, and over 99 others) and suggests adding collaborators. first: the first person, second: the second person'),r):(0,a.Wc)(t._('Collaborators: {{ first }}, {{ second }} and over 99 others.', 'getTranslatedList.moreThan99People', 'Generic message that lists more than 99 people (ex: Stevie, Michael, and over 99 others). first: the first person, second: the second person'),r);if(n)switch(e.length){case 0:return"";case 1:return(0,a.Wc)(t._('Collaborators: {{ first }}. Add collaborators.', 'getTranslatedList.onePersonAndAddCollaborator', 'Generic message that lists 1 person (ex: Stevie) and suggests adding collaborators. first: the first person, second: the second person'),r);case 2:return(0,a.Wc)(t._('Collaborators: {{ first }} and {{ second }}. Add collaborators.', 'getTranslatedList.twoPeopleAndAddCollaborator', 'Generic message that lists 2 people (ex: Stevie and Michael) and suggests adding collaborators. first: the first person, second: the second person'),r);case 3:return(0,a.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ third }}. Add collaborators.', 'getTranslatedList.threePeopleAndAddCollaborator', 'Generic message that lists 3 people (ex: Stevie, Michael and Alberto) and suggests adding collaborators. first: the first person, second: the second person, third: the third person'),r);default:return(0,a.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ remaining }} more. Add collaborators.', 'getTranslatedList.moreThan2PeopleAndAddCollaborators', 'Generic message that lists more than 2 people (ex: Stevie, Michael, and more) and suggests adding collaborators. first: the first person, second: the second person, remaining: the remaining items'),r)}switch(e.length){case 0:return"";case 1:return(0,a.Wc)(t._('{{ first }}.', 'getTranslatedList.onePerson', 'Generic message that lists 1 person (ex: Stevie). first: the first person'),r);case 2:return(0,a.Wc)(t._('Collaborators: {{ first }} and {{ second }}.', 'getTranslatedList.twoPeople', 'Generic message that lists 2 people (ex: Stevie and Michael) and suggests adding a collaborator. first: the first person, second: the second person'),r);case 3:return(0,a.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ third }}.', 'getTranslatedList.threePeople', 'Generic message that lists 3 people (ex: Stevie, Michael and Alberto). first: the first person, second: the second person, third: the third person'),r);default:return(0,a.Wc)(t._('Collaborators: {{ first }}, {{ second }} and {{ remaining }} more.', 'getTranslatedList.moreThan2People', 'Generic message that lists more than 2 people (ex: Stevie, Michael, and 2 more). first: the first person, second: the second person, remaining: the remaining items'),r)}})({listOfUsers:s.map(e=>e.name),i18n:m,addCollaborators:i}),addCollaborators:i,collaborators:s.map(e=>{let t;return{...e,src:(t=e.src,t?.includes("images/user/default"))?void 0:e.src}}),href:d,onClick:c,role:p,size:h})}d.displayName="AvatarGroup";let c=d;var u=n(465784),p=n(924591)},712156:function(e,t,n){n.d(t,{Z:()=>o});var r=n(774838);let o=()=>{let e="default",{locale:t}=(0,r.B)();return(({"ar-SA":"tall","bn-IN":"tall","hi-IN":"tall","te-IN":"tall","ko-KR":"ck","zh-CN":"ck","zh-TW":"ck",ja:"ja","th-TH":"th","vi-VN":"vi"})[t]??e)===e?"compact":"none"}},935059:function(e,t,n){n.d(t,{$:()=>r,Z:()=>i});let{Provider:r,get:o}=(0,n(213491).Z)("viewer"),i=o},216975:function(e,t,n){function r(e,t,n){return e.split(n).map(e=>{if(e.match(n)){let n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e})}n.d(t,{Wc:()=>a,XB:()=>s,bF:()=>d,nk:()=>i});let o=/(\{\{\s*\w+\s*\}\})/g;function i(e,t){return r(e,t,o)}function s({text:e,markers:t,jsxReplacements:n}){let o=["strong","a","em","span"],i=/(\{\{\s*\w+\s*\}\})/g,s=/<\s*(strong|a|em|span)\b[^>]*>.*?<\s*\/\s*\1\s*>/g,a=/<(strong|a|em|span)\s+[^>]*id\s*=\s*["']([^"']+)["'][^>]*>/,l=/<(strong|a|em|span)\b[^>]*>(.*?)<\/\1>/,d=e.match(s)?.map(e=>{let o=e.match(a),s=(o&&o[2])??0,d=e.match(l),c=(d&&d[2])??"",u=t?r(c,t,i):[c];return s&&n&&n[s]?.({innerHtmlStrings:u})});return e.split(s)?.map(e=>o.some(t=>e===t)?d?.shift():t?r(e,t,i):e)}function a(e,t){return r(e,t,o).join("")}let l=/(\{\s*\w+\s*\})/g;function d(e,t){return r(e,t,l)}},171556:function(e,t,n){n.d(t,{Z:()=>s});var r=n(667294);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends r.Component{constructor(...e){super(...e),o(this,"ref",(0,r.createRef)()),o(this,"observer",null),o(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let s=i},583845:function(e,t,n){n.d(t,{Rq:()=>r,Vf:()=>o,jd:()=>i,oy:()=>s});let r=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,o=28,i=e=>window.innerHeight>=748&&r(e),s=()=>"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||"MacIntel"===navigator.platform&&"ontouchend"in document&&Math.min(window.screen.width,window.screen.height)>=700)},134136:function(e,t,n){n.r(t),n.d(t,{default:()=>u});var r=n(686659),o=n(667294),i=n(20256),s=n(806513),a=n(583845),l=n(873438),d=n(774838),c=n(785893);let u=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:n=!1,hasGutter:u=!0,height:p,showKeychainError:h=!1,useViewport:m=!1})=>{(0,o.useEffect)(()=>{(0,r.Z)("MobilePageContainer","/app/packages/layout/MobilePageContainer.tsx")},[]);let f=(0,d.B)(),_=(0,a.jd)(f.userAgent.platform)?a.Vf:0;return(0,c.jsx)(i.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:m?`calc(100vh - ${_}px)`:p,paddingX:u?s.D6:void 0,paddingY:n||h?void 0:3,children:(0,c.jsx)(l.C,{value:!!u,children:e})})}},501010:function(e,t,n){n.d(t,{Z:()=>o});var r=n(774838);let o=()=>(0,r.Ts)().experimentsClient},906127:function(e,t,n){n.d(t,{Z:()=>l});var r=n(867342),o=n(667294),i=n(417394),s=n(23641),a=n(617120);function l({children:e,isAtEndOfFeed:t,pinData:n,itemCount:l,includeBackgroundImages:d=!1,includeVideos:c=!1,includeSections:u=!1,isPlaceholderGrid:p,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:m}){let{isAuthenticated:f}=(0,a.bC)();f||(u=!0),(0,r.Z)({pinData:n,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:c,includeSections:u,isPlaceholderGrid:p,stopwatchSetVisuallyCompleteResult:h,stopwatchContext:m});let _=(0,o.useRef)(null),g=(0,i.P9)();return(0,o.useEffect)(()=>{l!==_.current&&(_.current=l,g&&(0,s.Xr)("masonryPagination"))},[g,l]),e}},867342:function(e,t,n){n.d(t,{Z:()=>h,v:()=>p});var r=n(667294),o=n(774303),i=n(87980),s=n(705460),a=n(591048),l=n(417394),d=n(23641),c=n(767415);let u=(0,o.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,i.VZ)();function h({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:h,isPlaceholderGrid:m,stopwatchSetVisuallyCompleteResult:f,stopwatchContext:_}){let g=(0,l.P9)(),[y,b]=(0,r.useState)({status:"DISABLED"});(0,r.useEffect)(()=>{b({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[g]),(0,r.useEffect)(()=>{if(u("new status",y),"LAYOUT"===y.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,d.Xr)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[y.status]),((e,t)=>{let n=(0,r.useRef)(()=>{});(0,r.useEffect)(()=>{n.current=e},[e]),(0,r.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])})(()=>{let r=(0,l.Ly)(),g=()=>{},x=e=>{(0,l.JG)(e),_&&_?.abort()};"unknown"!==r?g=d.rt:(r=`${_?.name}`,_?.addBinaryAnnotation&&(g=_?.addBinaryAnnotation));let v=(0,i.cQ)(n,p,h);if(m)return void u("bypassing PWT run due to skeleton pin grid");switch(y.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,i.LM)();if(t===e)return u("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,i.F9)())return u("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(y.numOfItemsChecked,e);t.complete?b({status:"TIMING",failedCount:0,pinElements:v}):500*y.failedCount>6e4?((0,s.A9)(`images.${r}.visuallyComplete.maxLayoutAttempt`),x("visuallyComplete_layoutTimeout"),b({status:"DISABLED"})):b({...y,failedCount:y.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,a.Cg)(),n=y.pinElements.length,i=[],d=0,p=0,h=0,m=1/0,_=0;if(y.pinElements.forEach(({element:t,fileName:n})=>{let s=e.find(e=>e.name.endsWith(n));s?s.responseEnd?(i.push(s),(0,o.v5)(t,"green"),"SEARCH_FEED_RENDER"===r&&(m=Math.min(m,s.requestStart),_=Math.max(_,s.responseEnd))):(h+=1,(0,o.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,o.v5)(t,"red")):(d+=1,(0,o.v5)(t,"greenyellow"))}),d||h)100*y.failedCount>6e4?((0,s.A9)(`images.${r}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:d,noTimingCount:p,noTimingResponseEndCount:h}}),x("visuallyComplete_timingTimeout"),b({status:"DISABLED"})):b({...y,failedCount:y.failedCount+1});else{if(u(`All ${i.length} images are fetched`),t&&t.length){var E,P;let e,n,o,i,a,d=(E=t,P=y.pinElements,e=0,n=0,o=0,i=0,a=0,E=E.filter(e=>"pin"===e.type),P.forEach((t,r)=>{let s,l=t.fileName.split(".")[0];s=E[r],l!==s?.image_signature&&(s=E.find(e=>l===e?.image_signature)),void 0===s?a+=1:s.is_promoted||s.recommendation_reason?.reason==="PROMOTED_PIN"||s?.promoter?.length?o+=1:null!==s.story_pin_data_id&&void 0!==s.story_pin_data_id?e+=1:s?.videos?.video_list?n+=1:i+=1}),{storyPinCount:e,videoCount:n,adCount:o,imageCount:i,unknownCount:a});if(Object.entries(d).forEach(([e,t])=>{g(e,t,"I16"),(0,l.XJ)(e,t,"I16")}),(0,s.A9)(`${r}.pinTypes`,{tags:d}),"SEARCH_FEED_RENDER"===r){let e=_-m;t[0].display_options?.num_columns_requested===0?(0,c.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,c.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{f&&f(),(0,l.cB)(e)})({imageTimings:i}),b({status:"DISABLED"}),(0,s.A9)(`images.${r}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:p}})}}}},"LAYOUT"===y.status&&500||"TIMING"===y.status&&100||null)}},132781:function(e,t,n){n.d(t,{A:()=>a,Z:()=>l});var r=n(686659),o=n(667294),i=n(20256),s=n(785893);let a=({fill:e})=>{(0,o.useEffect)(()=>{(0,r.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]);let t="half"===e?(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(i.xu,{position:"absolute",children:(0,s.jsx)(i.JO,{accessibilityLabel:"","aria-hidden":!0,color:"default",icon:"star-half",size:15})}),(0,s.jsx)(i.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:15})]}):(0,s.jsx)(i.JO,{accessibilityLabel:"","aria-hidden":!0,color:"full"===e?"default":"subtle",icon:"star",size:15});return(0,s.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},"data-test-id":`rating-star-${e}`,display:"inlineBlock",children:t})};function l({max_rating:e,rating:t,display:n}){var l;if((0,o.useEffect)(()=>{(0,r.Z)("RatingStars","/app/packages/recipe-star-components/RatingStars.tsx")},[]),!t)return null;let d=[],c=parseFloat(e||"5"),u=5*(l=(l=parseFloat(t)||0)<=c?l:c)/c;if(Number.isNaN(u))return null;let p=Math.floor(u),h=u-p;return[...Array(p).keys()].forEach(e=>d.push((0,s.jsx)(a,{fill:"full"},e))),h>=.75?d.push((0,s.jsx)(a,{fill:"full"},d.length)):h>=.25&&d.push((0,s.jsx)(a,{fill:"half"},d.length)),[...Array(5-d.length).keys()].forEach(()=>d.push((0,s.jsx)(a,{fill:"empty"},d.length))),(0,s.jsx)(i.xu,{"aria-label":`Rating ${String(u)} stars out of 5`,"data-test-id":"rating-stars",display:n?"flex":"inlineBlock",position:"relative",role:"img",width:18*c,children:d})}},774838:function(e,t,n){n.d(t,{B:()=>i,P2:()=>a,Ts:()=>o,gf:()=>s});let r=n(969634),{getRequestContext:o}=r,{useRequestContext:i}=r,{useUpdateRequestContext:s}=r,{RequestContextProvider:a}=r},969634:function(e,t,n){n.r(t),n.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>l,useRequestContext:()=>c,useUpdateRequestContext:()=>u});var r=n(667294),o=n(659541),i=n(907049),s=n(785893);let a=(0,r.createContext)(null);function l(){return(0,r.use)(a).requestContextState}function d({children:e,initialValue:t}){let[n,l]=(0,r.useState)(t),d=(0,r.useMemo)(()=>({requestContextState:n,updateRequestContext:e=>{let t={...n,...e};(0,i.Z)(n,e)||l(t),(0,o.J)(t)}}),[n]);return(0,s.jsx)(a,{value:d,children:e})}function c(){let e=(0,r.useContext)(a);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function u(){let e=(0,r.useContext)(a);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},487038:function(e,t,n){n.d(t,{F_:()=>s,MA:()=>a,ZP:()=>o,y8:()=>i});var r=n(213491);class o{constructor(){var e,t,n;t={},(e="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e="pending","string"))?n:n+"")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}add(e,t,n){n&&(this.pending[e]={...this.pending[e]??{},[t]:n},n.finally?.(()=>this.remove(e,t)))}remove(e,t){this.pending[e]?.[t]&&(delete this.pending[e][t],0===Object.keys(this.pending[e]).length&&delete this.pending[e])}get(e,t){return this.pending[e]?.[t]??null}}let i=new o,{Provider:s,getMaybe:a}=(0,r.Z)("PendingFetches")},57887:function(e,t,n){n.d(t,{UZ:()=>h,Z8:()=>m,my:()=>f,vL:()=>g,w1:()=>_});var r=n(667294),o=n(581722),i=n(27399),s=n(213491),a=n(660322),l=n(785893);function d(e,t,n){let r=[...t[e][n.payload.name]??[],n.payload.handler],o={...t};return o[e]={...t[e],[n.payload.name]:r},o}function c(e,t,n){if(!t[e][n.payload.name])return t;let r=t[e][n.payload.name].filter(e=>e!==n.payload.handler),o={...t};return o[e]={...t[e],[n.payload.name]:r},o}let{Provider:u,get:p}=(0,s.Z)("ResourceContext");function h({children:e,resourceCreator:t}){let[{listeners:n,moreListeners:o},s]=(0,r.useReducer)((e,t)=>{switch(t.type){case"addListener":return d("listeners",e,t);case"addMoreListener":return d("moreListeners",e,t);case"removeListener":return c("listeners",e,t);case"removeMoreListener":return c("moreListeners",e,t);default:return e}},{listeners:{},moreListeners:{}});i.Z.fetchCompleteCallback=({resource:e,options:t,response:r,normalizedResponse:o,refresh:i,resourceSchema:s})=>{n[e]&&n[e].forEach(n=>n({isRefresh:i,normalizedResponse:o,options:t,schema:s,resource:e,response:r}))},i.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:r,refresh:i,resourceSchema:s})=>{o[e]&&o[e].forEach(o=>o({isRefresh:i,normalizedResponse:r,options:t,schema:s,resource:e,response:n}))};let a=(0,r.useMemo)(()=>({listenerDispatch:s,resourceCreator:t}),[t]);return(0,l.jsx)(u,{value:a,children:e})}function m(e,t){let{listenerDispatch:n}=p();(0,r.useEffect)(()=>(n({type:"addListener",payload:{name:e,handler:t}}),()=>{n({type:"removeListener",payload:{name:e,handler:t}})}),[n,e,t])}function f(e,t){let{listenerDispatch:n}=p();(0,r.useEffect)(()=>(n({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{n({type:"removeMoreListener",payload:{name:e,handler:t}})}))}function _(){let e=(0,o.I0)();return(0,r.useCallback)((t,n)=>e((0,a.jB)(t,n)),[e])}function g(){return p().resourceCreator}},233597:function(e,t,n){n.d(t,{U:()=>u,b:()=>p});var r=n(27399),o=n(515511),i=n(647908),s=n(629972),a=n(660322),l=n(761051),d=n(949453);function c({addSuspenseResourceSSRData:e,fetchOptions:t,resource:n,resourceCreator:u,retry:p}){return async(m,f)=>{let{bookmark:_,headers:g,options:y,refresh:b,schema:x}=t,v=(0,i.Z)(y);if(f().resources?.[n]?.[v]?.fetching&&!p)return Promise.resolve();let E=p?p.bookmark:_,P=(0,o.Z)(y),w=E?{...P,bookmarks:[E]}:P;m((0,a.LQ)(n,y,!0));try{let o,i,f=u??r.Z.create,v=await f(n,w).callGet(void 0,g);e&&h(v)&&e(n,w,v),h(v)||(o=v.bookmarks?.[0]);let{data:E}=v.resource_response,{normalizedResponse:P,resourceSchema:S}=(0,d.f)({data:E,opts:{bookmark:_,options:y,schema:x},resource:n});if(h(v)){o=v.resource_response.bookmark??"";let e=(0,l.Z)(v);P=e.normalizedResponse,S=e.schema,i=e.response}else i=v;if(Array.isArray(E)&&0===E.length&&o&&o!==s.qx){let e=p?p.count:0;if(!(e>=s.s9))return m(c({resource:n,fetchOptions:t,retry:{count:e+1,bookmark:o},resourceCreator:u}))}i&&(_?(m((0,a.Dm)(n,y,i,P,S)),r.Z.fetchMoreCompleteCallback&&r.Z.fetchMoreCompleteCallback({resource:n,options:y,response:i,normalizedResponse:P,refresh:b,resourceSchema:S})):(m((0,a.Sr)(n,y,i,P,b,S)),r.Z.fetchCompleteCallback&&r.Z.fetchCompleteCallback({resource:n,options:y,response:i,normalizedResponse:P,refresh:b,resourceSchema:S})))}catch(t){if(e){let r=t.http_status??500;e(n,y,{resource:{name:n,options:y},resource_response:{data:null,error:t,http_status:r,status:"failure"}})}m((0,a.Tl)(n,y,t))}}}let u=(e,{bookmark:t,headers:n,options:r,schema:o},i,s)=>c({resource:e,fetchOptions:{bookmark:t,headers:n,options:r,refresh:!1,schema:o},resourceCreator:i,addSuspenseResourceSSRData:s}),p=(e,{headers:t,options:n,schema:r},o)=>c({resource:e,fetchOptions:{headers:t,options:n,refresh:!0,schema:r},resourceCreator:o});function h(e){return"resource"in e}},660322:function(e,t,n){n.d(t,{Dm:()=>d,LQ:()=>s,Sr:()=>l,Tl:()=>a,XM:()=>i,jB:()=>c});var r=n(184661),o=n(394268);function i(e,t,n,o){return{type:r.AF,payload:{resource:e,options:t,response:n,normalizedResponse:o}}}function s(e,t,n){return{type:r.KK,payload:{resource:e,options:t,isFetching:n}}}let a=(e,t,n)=>({type:r.cR,payload:{resource:e,options:t,error:n}});function l(e,t,n,i,s,a){return{type:r.zP,payload:{isRefresh:s,normalizedResponse:i,options:t,resource:e,response:n,schema:a},meta:{[o.s]:!0}}}function d(e,t,n,o,i){return{type:r.aW,payload:{resource:e,options:t,response:n,normalizedResponse:o,schema:i}}}function c(e,t){return{type:r.se,payload:{resource:e,optionsOrOptionsKey:t}}}},761051:function(e,t,n){n.d(t,{Z:()=>s});var r=n(782677),o=n(764453),i=n(949453);function s(e){let{resource:t,resource_response:n}=e,{name:s,options:a}=t,l=(0,o.Z)(n),{data:d,error:c}=n,u=(0,i.J)(s,{options:a});return{error:c,isRefresh:!1,normalizedResponse:u&&d?(0,r.Fv)(d,u):null,options:a,resource:s,response:{auxData:l,bookmarks:n.bookmark?[n.bookmark]:void 0,resource_response:{data:d,error:c}},schema:u}}},957547:function(e,t,n){n.d(t,{Z:()=>p});var r=n(667294),o=n(581722),i=n(312048),s=n(647908),a=n(774838),l=n(233597),d=n(629972),c=n(487038),u=n(57887);function p(e,t,n){let{enabledRouteRefresh:p,headers:h,name:m,noCache:f,options:_,schema:g}=e,y=(0,c.MA)(),b=(0,u.vL)(),x=(0,o.I0)(),v=(0,s.Z)(_),E=(0,r.useRef)(void 0),P=(0,i.ur)(),w=(0,r.useRef)(void 0),S=e=>e[m]?.[v],A=(0,o.v9)(({resources:e})=>S(e)?.data),C=(0,o.v9)(({resources:e})=>S(e)?.error),T=!!C||void 0!==A,I=(0,o.v9)(({resources:e})=>!!S(e)?.fetching),R=(0,o.v9)(({resources:e})=>S(e)?.nextBookmark),j=T&&!I&&R===d.qx,O=!!(T&&p&&"POP"!==P&&!t),[k,N]=(0,r.useState)(O),Z=k;(0,o.wU)(A,w.current)||(k&&(w.current||!O)&&(Z=!1,N(!1)),w.current=A);let D=(0,r.useCallback)(e=>{let t=x((0,l.U)(m,{options:_,schema:g,bookmark:e,headers:h},b,void 0));e||y?.add(m,v,t)},[x,m,v,g,h]),L=(0,r.useCallback)(()=>{let e=x((0,l.b)(m,{options:_,schema:g,headers:h},b));y?.add(m,v,e)},[x,m,v,g,h]),M=(0,r.useCallback)(()=>{t||(L(),N(!0))},[t,L]),B=(0,r.useCallback)(()=>{!R||j||I||t||D(R)},[t,D,j,I,R]),{isBot:U}=(0,a.B)(),z=(0,r.useCallback)(()=>{if(!(I||y?.get(m,v))&&!t&&E.current!==v){let e=void 0===E.current;E.current=v,!T||n&&e&&C&&(({httpStatus:e})=>!e||e>=500)(C)?D():(!U&&f||O)&&L()}},[n,D,L,t,C,U,I,T,O,m,f,v,y]),H=(0,r.useMemo)(()=>({name:m,optionsKey:v}),[m,v]);return(0,r.useMemo)(()=>({fetchResource:z,ref:H,refresh:M,fetchMore:B,isFetching:I,isLoaded:T,isRefreshing:Z}),[B,z,I,T,H,Z,M])}(0,n(701943).kr)()},661376:function(e,t,n){n.d(t,{Z:()=>l});var r=n(667294),o=n(581722),i=n(647908),s=n(629972),a=n(957547);function l(e){let{enabledRouteRefresh:t,headers:n,name:l,noCache:d,options:c,schema:u}=e??{name:s.fY,options:null},p=(0,i.Z)(c),h=e=>e[l]?.[p],m=(0,o.v9)(({resources:e})=>h(e)?.nextBookmark),f=(0,o.v9)(({resources:e})=>h(e)?.data),_=(0,o.v9)(({resources:e})=>h(e)?.auxData),g=(0,o.v9)(({resources:e})=>h(e)?.error),{fetchResource:y,fetchMore:b,isFetching:x,isLoaded:v,isRefreshing:E,refresh:P}=(0,a.Z)({enabledRouteRefresh:t,headers:n,name:l,noCache:d,options:c,schema:u},!e,!0),w=v&&!x&&m===s.qx;return(0,r.useEffect)(()=>{y()}),(0,r.useMemo)(()=>({auxData:_,data:f,error:g,fetchMore:b,isAtEnd:w,isFetching:x,isLoaded:v,isRefreshing:E,nextBookmark:m,refresh:P}),[_,f,g,b,w,x,v,E,m,P])}},405897:function(e,t,n){n.d(t,{i:()=>r});let r={AC:"ac",AUTOCOMPLETE:"autocomplete",BOARD:"blp",CONTENT_TYPE_FILTER:"content_type_filter",DIRECT_NAVIGATION:"direct_navigation",FILTER:"filter",GUIDED_SEARCH_ENTRY:"guided_search_entry",GUIDED_SEARCH_LANDING:"guided_search_landing",HASHTAG_CLOSEUP:"hashtag_closeup",HASHTAG_PINREP:"hashtag_pinrep",HOMEFEED_BUBBLE:"homefeed_bubble",HUB_PAGE:"hub_page",IDEAS_ROOT:"ideas_root",IMAGE_ONLY_ATTRIBUTION:"image_only_attribution",LANDING_PAGE_STORY:"landing_page_story",NO_RESULTS_SEARCH_STORY:"no_results_search_story",PRODUCT:"product",REMOVE:"remove",RS:"rs",SHOPPING_FILTER:"shopping_filter",SITELINKS_SEARCHBOX:"sitelinks_searchbox",SLP_REC_CURATED:"slp_rec_curated",SLP_REC_TRENDING:"slp_rec_trending",SRS:"srs",STRUCTURED_GUIDE:"structured_guide",TRENDING:"trending",TYPED:"typed",TYPO_AUTO_ORIGINAL:"typo_auto_original",TYPO_SUGGESTION:"typo_suggestion",UNKNOWN:"Unknown",URECS:"urecs",VANILLA_GUIDE:"guide",VIDEO:"video",VOICE_SEARCH:"voice_search"}},907049:function(e,t,n){function r(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>e[n]===t[n])}n.d(t,{Z:()=>r})},180483:function(e,t,n){n.d(t,{Z:()=>i});var r=n(460575);let o=/\{\{\s*(\w+)\s*\}\}/g,i=(e,t)=>(0,r.Z)(o,e,t)},460575:function(e,t,n){n.d(t,{Z:()=>r});let r=(e,t,n)=>t?t.replace(e,(e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:""):""},112658:function(e,t,n){n.d(t,{Z:()=>y});var r=n(686659),o=n(667294),i=n(20256),s=n(400962),a=n(171556),l=n(774838),d=n(907049),c=n(49932),u=n(141483),p=n(623222),h=n(228612),m=n(785893);function f(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends o.Component{constructor(e){super(e),f(this,"componentWillUnmount",()=>{this.unregisterComponent()}),f(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:n,objectId:r,timeSpentContext:o,view:i,viewParameter:s}=this.props;return{view:i||o?.view,viewParameter:s||o?.viewParameter,component:t||o?.component,element:n,objectId:r||o?.objectId,clientTrackingParams:e||o?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),f(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),f(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),f(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),f(this,"getTimedPair",()=>this.state.timedPair),f(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),f(this,"isRegistered",!1),f(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),f(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),f(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:n,left:r,right:o,top:i}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===r&&0===o&&0===i?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new u.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,d.Z)(e.auxData,this.props.auxData)&&(0,d.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,m.jsx)(p.$,{value:this.getContext(),children:(0,m.jsx)(a.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n=>(0,m.jsx)(i.xu,{ref:n,height:t??"100%",children:o.Children.only(e)})})})}componentDidMount(){(0,r.Z)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function g(e){let t=(0,s.ou)(),n=(0,p.a)(),r=(0,c.Z)(),i=(0,h.EQ)(),{requestIdentifier:a=""}=(0,l.B)(),d={app_instance_id:a.slice(0,8),...e.auxData??{}};return(0,o.useEffect)(()=>{r?.setHistoryStackContext(t)},[t,r]),(0,o.useEffect)(()=>{r?.setPins(i??{})},[i,r]),r?(0,m.jsx)(_,{...e,auxData:d,timeSpentContext:n,timeSpentManager:r,children:e.children}):e.children}g.displayName="DeprecatedTimeSpent";let y=g},623222:function(e,t,n){n.d(t,{$:()=>r,a:()=>o});let{Provider:r,getMaybe:o}=(0,n(213491).Z)("timeSpentContext")},141483:function(e,t,n){n.d(t,{Z:()=>a,h:()=>s});var r=n(172045),o=n(17314);function i(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let s="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),a=class{constructor(e){i(this,"start",()=>(this.startTime=s(),this.startTime)),i(this,"end",()=>(this.endTime=s(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,r.Z)()}catch(e){this.uuid=(0,o.Z)()}e&&Object.assign(this,e)}}},197908:function(e,t,n){n.d(t,{Z:()=>i});var r=n(854897),o=n(99737);let i=e=>{let t=/^\/pin\/([a-zA-Z0-9-]+)/,n=(0,o.Z)(e);if(t.test(n.path)){let e=n.path.match(t);if(e)return(0,r.Z)(e[1]).pinId||void 0}}},127051:function(e,t,n){n.d(t,{Z:()=>o});var r=n(629724);let o=({url:e})=>{if(e){let t=e.split("?");if(t[1])return(0,r.Z)(t[1])}return(0,r.Z)()}},854897:function(e,t,n){function r(e){if((e||"").includes("--")){let t=e.split("--"),n=t.pop();return{text:t.join("--"),pinId:n}}return{text:"",pinId:e}}n.d(t,{Z:()=>r})},893957:function(e,t,n){n.d(t,{Z:()=>o});var r=n(667294);let o=e=>{(0,r.useEffect)(e,[])}},309266:function(e,t,n){n.d(t,{Z:()=>s});var r=n(581722);let o=[1000069,1000075],i={};function s(){var e;return e=(0,r.v9)(({experiences:e})=>e),o.forEach(t=>{e[t]&&(void 0===i[t]||i[t].id!==e[t].id)&&(i[t]=e[t])}),i}},64892:function(e,t,n){n.d(t,{GW:()=>o,RL:()=>r,s4:()=>i});let r="ios",o="android",i="ipad"},31863:function(e,t,n){n.d(t,{Z:()=>u});var r=n(686659),o=n(667294),i=n(20256),s=n(508634),a=n(49254),l=n(510755),d=n(439405),c=n(785893);function u({children:e,className:t,forwardRef:n,offset:u=0,position:p,shouldShowShadow:h=!1,style:m={},top:f,stickyZIndex:_}){(0,o.useEffect)(()=>{(0,r.Z)("ContentHeader","/app/www/ContentHeader/ContentHeader.tsx")},[]);let{setIsContentHeaderPresent:g}=(0,s.g)();(0,o.useEffect)(()=>(g(!0),function(){g(!1)}),[]);let{currentScrollPosition:y,isScrolled:b,setSubheaderShadow:x}=(0,d.bj)();(0,o.useEffect)(()=>(h&&x("contentHeader"),()=>{h&&x(null)}),[h]);let v=!1;"pending"!==f&&(v=null!=f?y>=f:b);let E=(0,a.t)(),P=(0,c.jsx)("div",{ref:n,className:t,style:{...m,top:E+u,...v&&h?{...l.Rz,transition:m.transition||l.Rz.transition,zIndex:499}:{},...p&&"sticky"!==p?{position:p}:{}},children:e});return"sticky"===p?(0,c.jsx)(i.Le,{top:E+u,zIndex:_||new i.Ry(1),children:P}):P}},508634:function(e,t,n){n.d(t,{Z:()=>d,g:()=>l});var r=n(686659),o=n(667294),i=n(213491),s=n(785893);let{Provider:a,get:l}=(0,i.Z)("ContentHeader");function d({children:e}){(0,o.useEffect)(()=>{(0,r.Z)("ContentHeaderContext","/app/www/ContentHeader/ContentHeaderContext.tsx")},[]);let[t,n]=(0,o.useState)(!1),i=(0,o.useMemo)(()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n}),[t]);return(0,s.jsx)(a,{value:i,children:e})}},271875:function(e,t,n){n.d(t,{Z:()=>i,k:()=>r});let{Provider:r,get:o}=(0,n(213491).Z)("Conversations"),i=o},439405:function(e,t,n){n.d(t,{Hv:()=>d,bj:()=>l});var r=n(667294),o=n(213491),i=n(562400),s=n(785893);let{Provider:a,get:l}=(0,o.Z)("HeaderShadow");function d({children:e}){let[t,n]=(0,r.useState)(!1),[o,l]=(0,r.useState)(0),[d,c]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=(0,i.Z)(()=>{n(window.scrollY>0),l(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]);let u=(0,r.useCallback)(e=>{c(e)},[]),p=(0,r.useMemo)(()=>({currentScrollPosition:o,isScrolled:t,setSubheaderShadow:u,subheaderShadow:d}),[o,t,u,d]);return(0,s.jsx)(a,{value:p,children:e})}},645479:function(e,t,n){n.d(t,{Z:()=>d});var r=n(686659),o=n(667294),i=n(49254),s=n(310758),a=n(785893);let l=new Set(["pin-card-hover-overlay","pin-card-hover-overlay-open-legend-wrapper"]);function d({children:e,headerHeightModifier:t}){(0,o.useEffect)(()=>{(0,r.Z)("ScrollPinToTopToFeedOnTap","/app/www/ScrollPinToTopToFeedOnTap.tsx")},[]);let n=(0,i.t)();return(0,a.jsx)(s.Z,{dataTestId:"scroll-pin-to-top-to-feed-on-tap",onTouch:e=>{let{target:r}=e;if(r instanceof HTMLElement&&("IMG"===r.tagName||l.has(r.getAttribute("data-test-id")??""))){let e=r.getBoundingClientRect().top+window.scrollY-n-(t??0);window.scrollTo(window.scrollX,e)}},pressState:"none",children:e})}},488598:function(e,t,n){n.d(t,{Z:()=>p,j:()=>u});var r=n(686659),o=n(667294),i=n(20256),s=n(712156),a=n(24246),l=n(216975),d=n(501010),c=n(785893);let u=[0,2,3];function p({hasAffiliateProducts:e,hasAffiliateLink:t,href:n,isPromoted:p,onNavigateSponsorClick:h,sponsorName:m,sponsorUsername:f,sponsorshipStatus:_,textWeight:g="bold",isGrid:y}){let b;(0,o.useEffect)(()=>{(0,r.Z)("SponsorshipText","/app/www/SponsorshipText/SponsorshipText.tsx")},[]);let x=(0,a.Z)(),{checkExperiment:v}=(0,d.Z)(),E=v("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,P=(0,s.Z)(),w=n||(f?`/${f}/`:null),S=w&&m?(0,c.jsx)(i.xv,{__dangerouslyOverrideLineHeight:P,size:"200",weight:g,children:(0,c.jsx)(i.rU,{dataTestId:"sponsorship-text-link",href:w,onClick:h,children:m})},m):void 0;return p?b=(0,l.nk)(x._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:S}):_||0===_?m&&!u.includes(_)?b=(0,l.nk)(x._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:S}):2!==_&&(b=x._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):!y&&(t||e)&&(b=x._('Paid link', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products')),(0,c.jsxs)(i.xv,{__dangerouslyOverrideLineHeight:P,color:"subtle",inline:!0,lineClamp:2,size:"200",children:[E&&!p&&"Ad  "||"",b]})}},113759:function(e,t,n){n.d(t,{bq:()=>d,x4:()=>c});var r=n(686659),o=n(667294),i=n(15392),s=n(785893);let a={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},l=(0,o.createContext)(a);function d({children:e,value:t}){(0,o.useEffect)(()=>{(0,r.Z)("Context","/app/www/closeup/desktop/Context.tsx")},[]);let n=(0,o.useMemo)(()=>({...a,...t}),[t]);return(0,s.jsx)(l,{value:n,children:e})}function c(){let e=(0,o.useContext)(l);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}},15392:function(e,t,n){n.d(t,{$T:()=>f,CI:()=>s,Ch:()=>l,E$:()=>P,ER:()=>m,Gb:()=>d,Gg:()=>o,Hf:()=>y,Id:()=>v,Ie:()=>u,KP:()=>p,Kn:()=>a,O5:()=>_,d2:()=>c,dm:()=>E,fF:()=>x,g9:()=>h,iB:()=>b,rv:()=>g,u6:()=>i});var r=n(20256);let o=508,i=1016,s=488,a=992,l=672,d=1176,c=40,u=72,p=740,h=32,m=16,f=24,_=2,g=1,y=new r.Ry(5),b={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},x={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"},v="calc(90vh - 80px)",E="calc(55vh + 80px)",P="calc(75vh - 80px)"},178131:function(e,t,n){n.d(t,{Z:()=>l});var r=n(230201),o=n(767415);let i={13:e=>!!e.view_parameter,9105:e=>!!e.view_parameter,9104:e=>!!e.view_parameter,10357:e=>!!e.view_parameter,10358:e=>!!e.view_parameter,10359:e=>!!e.view_parameter,10360:e=>!!e.view_parameter,15748:e=>!!e.view_parameter,110:e=>!!e.view_parameter,16248:e=>!!e.view_parameter,16677:e=>!!e.view_parameter,10484:e=>!!e.view_parameter,16678:e=>!!e.view_parameter,102:e=>!!e.element&&!!e.view_parameter,101:e=>!!e.element&&!!e.view_parameter,15749:e=>!!e.element&&!!e.view_parameter,8721:e=>!!e.element&&!!e.view_parameter,8722:e=>!!e.element&&!!e.view_parameter,120:e=>!!e.element&&!!e.view_parameter,4104:e=>!!e.view_parameter&&!e.element,4105:e=>!!e.view_parameter&&!e.element,8900:e=>!!e.view_parameter&&!e.element,16480:e=>!!e.view_parameter&&!e.element,9626:e=>!!e.view_parameter&&!e.element,9625:e=>!!e.view_parameter&&!e.element,46:e=>!!e.view_parameter&&!e.element,45:e=>!!e.view_parameter&&!e.element},s=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13,15950,14572,14573,14574,14575,14576,15900,43],a=[259,3120,3139,172,3596,3542,261,171,260,4052,4053],l=()=>{let{logContextEvent:e}=(0,r.u)();return t=>{let{event_type:n,element:r,view_parameter:l,component:d,view_type:c,aux_data:u,object_id_str:p}=t,h=(e=>{let{event_type:t,element:n,view_parameter:r}=e;return Object.keys(i).includes(`${t}`)&&(!n||s.includes(n))&&(!r||a.includes(r))?i[t]?.(e)?-1===[213,24,260].indexOf(e.view_type||0)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}:{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}})(t);if(h){console.error(h.message),(0,o.nP)("webapp.track_nux_invalid_parameters",{sampleRate:1,tags:{code:h.code,component:d,event_type:n,element:r,view_type:c,view_parameter:l}});return}e({component:d,event_type:n,element:r,view_parameter:l,view_type:c,aux_data:u,object_id_str:p})}}},949453:function(e,t,n){n.d(t,{J:()=>i,f:()=>s});var r=n(782677),o=n(407775);let i=(e,{bookmark:t,options:n,schema:r})=>{let i=r||o.Z[e];return"function"==typeof i?i({resource:e,options:n,bookmark:t}):i};function s({data:e,opts:{bookmark:t,options:n,schema:o},resource:s}){let a=i(s,{bookmark:t,options:n,schema:o});return{normalizedResponse:a&&e?(0,r.Fv)(e,a):null,resourceSchema:a}}},404305:function(e,t,n){n.d(t,{Z:()=>tt});var r=n(667294),o=n(312048),i=n(20256),s=n(686659),a=n(581722),l=n(894870),d=n(891305),c=n(599263),u=n(2171),p=n(947862),h=n(45350),m=n(945419),f=n(671121),_=n(4533),g=n(15881),y=n(939559),b=n(375181),x=n(470205),v=n(342462),E=n(581909),P=n(926743),w=n(261954),S=n(539679),A=n(924591),C=n(935059),T=n(806513),I=n(400962),R=n(24246),j=n(433069),O=n(59111),k=n(216975),N=n(149238),Z=n(31725),D=n(572840),L=n(325705),M=n(501010),B=n(504644),U=n(906127),z=n(774838),H=n(661376),F=n(825605),V=n(34550),W=n(418282),G=n(730448),Y=n(112658),$=n(736328),q=n(732012),K=n(577356),X=n(575820),J=n(893957),Q=n(309266),ee=n(31863),et=n(919203),en=n(49254),er=n(726425),eo=n(818906),ei=n(277455),es=n(285676),ea=n(241028),el=n(604100),ed=n(228612),ec=n(645479),eu=n(496516),ep=n(767415),eh=n(354139),em=n(177433),ef=n(9065),e_=n(785893);function eg(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let ey=(0,ef.Z)(()=>n.e("63815").then(n.bind(n,870068)),void 0,e=>870068,"MoreIdeasTabsNavCommon",e=>["63815"]),eb=(0,ef.Z)(()=>n.e("58580").then(n.bind(n,604404)),{ssr:!1},e=>604404,void 0,void 0),ex=(0,ef.Z)(()=>n.e("33689").then(n.bind(n,419450)),{ssr:!1},e=>419450,void 0,void 0),ev=(0,ef.Z)(()=>Promise.all([n.e("74924"),n.e("54605"),n.e("9482")]).then(n.bind(n,179007)),{ssr:!1},e=>179007,void 0,void 0),eE=(0,ef.Z)(()=>n.e("48205").then(n.bind(n,538049)),{ssr:!1},e=>538049,void 0,void 0),eP=(0,r.lazy)(()=>n.e("33629").then(n.bind(n,282842))),ew=(0,r.lazy)(()=>n.e("81665").then(n.bind(n,993674))),eS=(0,r.lazy)(()=>n.e("77846").then(n.bind(n,5480))),eA=(0,ef.Z)(()=>n.e("29960").then(n.bind(n,400018)),void 0,e=>400018,"app-www-EUPrompt-EUPromptModal",e=>["29960"]),eC=(0,ef.Z)(()=>n.e("94833").then(n.bind(n,681962)),void 0,e=>681962,"app-packages-StructuredFeed-Feed-StructuredFeed",e=>["94833"]),eT=(0,ef.Z)(()=>Promise.all([n.e("336"),n.e("57907")]).then(n.bind(n,884882)),void 0,e=>884882,"app-common-react-components-save-board-BoardMoreIdeasTabContentResourceWrapper",e=>["336","57907"]),eI=(0,r.lazy)(()=>n.e("79021").then(n.bind(n,504636))),eR=(0,ef.Z)(()=>n.e("24561").then(n.bind(n,548782)),void 0,e=>548782,"app-www-discover-Bubbles-BubblesGridRep",e=>["24561"]),ej=(0,ef.Z)(()=>Promise.all([n.e("25328"),n.e("42008")]).then(n.bind(n,779057)),{fallback:(0,e_.jsx)(i.xu,{height:1})},e=>779057,"app-common-react-components-SummaryCard-Story-StoryCard",e=>["25328","42008"]),eO=(0,r.createRef)(),ek=e=>{let t=document.createElement("link"),n=document.querySelector("link[rel='icon']")||document.getElementById("dynamic-favicon");if(t.id="dynamic-favicon",t.rel="shortcut icon",t.type="image/x-icon",t.href=e,document.head){if(n){if(n instanceof HTMLLinkElement&&n.href===e)return;document.head.removeChild(n)}document.head.appendChild(t)}},eN=(e,t)=>(e||[]).slice(0,t).map(e=>e.id);class eZ extends r.PureComponent{constructor(...e){super(...e),eg(this,"state",{hasScrolled:!1,hideTabs:!1,refreshReason:null,isRefreshing:!1,showYipModal:!1}),eg(this,"refreshData",(e="unknown")=>{let{refreshData:t}=this.props;this.setState({refreshReason:e,isRefreshing:!0},()=>{t()})}),eg(this,"handleScroll",(0,G.Z)(()=>{let{hasScrolled:e}=this.state,{experience:t,lastScrollYRef:n}=this.props,r=window.scrollY,o=n.current;r<50?this.setState({hideTabs:!1}):Math.abs(r-o)>20&&(requestAnimationFrame(()=>{o>r?this.setState({hideTabs:!1}):o<r&&this.setState({hideTabs:!0})}),n.current=r),t&&502535===t.experience_id&&!e&&this.setState({hasScrolled:!0})},10)),eg(this,"onWindowFocus",()=>{this.windowBlurStart>-1&&Date.now()-this.windowBlurStart>6e5&&this.refreshData("MORE_THAN_10_MINUTES"),this.windowBlurStart=-1,this.clearFaviconNotification()}),eg(this,"onWindowBlur",()=>{this.windowBlurStart=Date.now(),this.prepareForFaviconUpdate()}),eg(this,"onInstallPrompt",e=>{this.installPromptEvent=e,this.setState({pwaUpsellBannerEligibility:this.getpwaUpsellBannerEligibility()})}),eg(this,"clearFaviconNotification",()=>{this.faviconUpdateTimeout&&(clearTimeout(this.faviconUpdateTimeout),this.faviconUpdateTimeout=null),ek("https://s.pinimg.com/webapp/favicon_48x48-ca576772.png")}),eg(this,"prepareForFaviconUpdate",()=>{this.faviconUpdateTimeout=setTimeout(()=>{let e=V.ZP.getItem(_.jz);(!e||new Date().getTime()-e>=b.F4)&&(ek("https://s.pinimg.com/webapp/favicon-notification_48x48-9b2b500c.png"),V.ZP.setItem(_.jz,new Date().getTime()))},6e5)}),eg(this,"windowBlurStart",-1),eg(this,"faviconUpdateTimeout",null),eg(this,"loadItems",()=>{let{dataIsFetching:e,feedLimit:t,fetchMoreData:n,homefeedData:r}=this.props,o=r||[];if(t&&o.length>t){this.props.setFeedLoading&&this.props.setFeedLoading(!1);return}!e&&o.length>0&&n()}),eg(this,"installPromptEvent",null),eg(this,"getColumnSpanConfig",e=>{let t="recently_viewed"===e.story_type&&this.props.checkExperiment("web_recently_viewed_responsive").anyEnabled;if((0,T.Cw)(e)){let t=this.props.homefeedData?.[0],n=e.id===t.id,{width:r,height:o}=(0,T.GZ)(e);return r===o?{sm:2,md:2,lg:2,xl:2}:{sm:2,md:2,lg:n?3:2,xl:3}}if(e.display_options?.item_view_rep_style?.explore_article_rep_style===10||t)return{sm:2,md:3,lg:3,xl:4};if("story"===e.type&&"featured_boards"===e.story_type){let t=e?.objects?.length||0;return{sm:2,md:2,lg:Math.min(3,t),xl:Math.min(4,t)}}return"story"===e.type&&e?.display_options?.content_display?.grid_layout?.cols?e.display_options.content_display.grid_layout.cols:e.columnSpan??1}),eg(this,"getpwaUpsellBannerEligibility",()=>{let{requestContext:e}=this.props,{pwaUpsellBannerEligibility:t}=this.state;if(!(0,B.So)(window)&&e&&!t&&window.navigator.userAgent){if(window.navigator.userAgent.includes("Windows NT 10.0"))return"windows";else if(this.installPromptEvent)return"chrome"}return"notEligible"}),eg(this,"handleInstallWindowsPWA",e=>{e(),(0,ep.nP)("windows.web.upsell.completed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})}),eg(this,"handleInstallChromePWA",e=>{e(),(0,ep.nP)("chrome.web.upsell.completed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})}),eg(this,"handleDismissChromePWAUpsell",e=>{e(),(0,ep.nP)("chrome.web.upsell.dismissed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})}),eg(this,"renderItem",({data:e,itemIdx:t})=>{let{homefeedData:n,lfvExperiences:r,location:o,isDwebScrollPinToTopOnTapExpEnabled:i}=this.props;if(!e||!e.type)return console.error("Invalid data received. ",t,e),null;let s=n?.find(({type:e})=>"home_feed_tabs"===e)?.tabs,{boardId:a,holidayFinds:l}=(0,X.mB)(o.search),c=s?this.getCurrentTabIndex(o,a,l,s):er.e,u=c>=1&&s[c-1]?.tab_type==="pinterest_picks",p=!!u&&s[c-1]?.action.quick_save_icon===1,h=u&&p;switch(e.type){case"pin":let m=!!r&&!!(0,N.Z)(r),f=(0,e_.jsx)(es.Z,{duploQueryRef:null,imageOnlyOption:m?"image-only":"default",pinId:e.id,saveButtonOptions:h?{savedInfo:{boardId:void 0,pinId:e.id,title:void 0,url:void 0},type:"inline"}:void 0,shouldWrapOnProfiler:!0,slotIndex:t,surface:"AuthHomefeed",trackingParams:e.tracking_params,viewParameter:h?4055:92,viewType:1});if(i)return(0,e_.jsx)(ec.Z,{children:f});return f;case"story":{let{story_type:n}=e;if((0,ep.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:n||"unknown",surface:"homefeed"}}),"BUBBLE_ONE_COL"===n)return(0,e_.jsx)(eR,{bubbles:e.objects,id:e.id,referringSource:e.referring_source,slotIndex:t,storyType:n,title:e.title,viewParameter:92,viewType:1});if("featured_boards"===n)return(0,e_.jsx)(d.default,{slotIndex:t,story:e,surface:"AuthHomefeed",viewParameter:92,viewType:1});return(0,e_.jsx)(ej,{component:h?14769:void 0,itemIdx:t,saveButtonOptions:h?{savedInfo:{boardId:void 0,pinId:e.id,title:void 0,url:void 0},type:"inline"}:void 0,story:e,surface:"AuthHomefeed",viewParameter:h?4055:92,viewType:1})}default:return null}})}componentDidMount(){let{checkExperiment:e,experienceClient:t,navigate:n,location:r,mountWebRepinPlacement:o,toastManagerContext:i}=this.props;t.triggerExperimentsForPlacement(1000116),e("web_disable_cedexis_sampling").anyEnabled||(()=>{var e=window,t=document,n="addEventListener",r="load";function o(){let e=t.createElement("script");e.async=!0,e.src="//radar.cedexis.com/1/14290/radar.js",t.body?.appendChild(e)}(function(){for(let e=[/\bMSIE (5|6)/i],t=e.length;t--;)if(e[t].test(navigator.userAgent))return!1;return!0})()&&("complete"!==t.readyState?(n=e[n])?n(r,o,!1):(n=e.attachEvent)&&n("on"+r,o):o())})();let s=(0,X.mB)(r.search);if(s.show_error){let t=!1;e("ps_blocking_profile_visibility",{dangerouslySkipActivation:!0}).anyEnabled&&(t="board"===s.from),t?i.showOneToast(({hideToast:e})=>(0,e_.jsx)(A.Z,{duration:5e3,onHide:e,text:this.props.i18n._('Board not found.', 'home.boardError', 'Generic error message for board errors')})):i.showOneToast(({hideToast:e})=>(0,e_.jsx)(A.Z,{duration:5e3,onHide:e,text:this.props.i18n._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- ')}))}else r.state&&"/pin-builder/"===r.state.from?r.state.boardName&&r.state.imageUrl&&this.handlePinSuccessPinBuilder():(0,X.mB)(r.search).show_yip_modal&&(n("/homefeed/",{replace:!0}),this.setState({showYipModal:!0}));window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),window.addEventListener("beforeinstallprompt",this.onInstallPrompt),document.addEventListener("scroll",this.handleScroll),o()}componentDidUpdate(e){let{dataIsFetching:t,navigationType:n,homefeedData:r}=this.props,{refreshReason:o}=this.state,{dataIsFetching:i,homefeedData:s}=e;if(r&&s&&i&&!t&&r.length<=s.length){let e=eN(r,10),t=eN(s,10);this.logRefreshStats(o||("POP"!==n?"ROUTE_CHANGE":"UNKNOWN"),JSON.stringify(t)===JSON.stringify(e)),this.setState({isRefreshing:!1,refreshReason:null})}}logRefreshStats(e,t){let{currentHistoryStack:n,requestContext:r}=this.props,o={appType:"web",language:r.language||"unknown",locale:r.locale||"unknown",refreshReason:e},i=(0,p.P)(),s=i?.time?new Date(i.time):null,a=n&&n.length>1?n[n.length-2]:{};D.default.logToServer(D.default.SERVER_LOG_TYPE.HF_REFRESH,D.default.HTTP_METHOD.POST,{refreshReason:e,lastRoute:a.match,timeSinceHomefeed:s?Date.now()-s.getTime():null,timeSinceBlur:this.windowBlurStart?Date.now()-this.windowBlurStart:null}),(0,ep.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:o}),t&&(0,ep.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:o})}componentWillUnmount(){let{unmountWebRepinPlacement:e}=this.props;window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),window.removeEventListener("beforeinstallprompt",this.onInstallPrompt),(0,W.Nl)().setItem(g.Qt,{time:Date.now(),scrollPosition:[window.scrollX,window.scrollY]}),document.removeEventListener("scroll",this.handleScroll),e()}get isHomefeed(){let{inLocalNavigation:e,location:t}=this.props,n=(0,X.mB)(t.search);return!(n&&"string"==typeof n.boardId&&n.boardId)||!!e}handlePinSuccessPinBuilder(){let{location:e,toastManagerContext:t}=this.props,{boardName:n}=e.state||{},{imageUrl:r}=e.state||{},o=(0,k.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:(0,e_.jsx)(i.xe,{inline:!0,lineClamp:1,size:"200",weight:"bold",children:n},n)});t.showOneToast(({hideToast:e})=>(0,e_.jsx)(A.Z,{duration:5e3,imageUrl:r,onHide:e,text:(0,e_.jsx)(i.xe,{children:o},`toast_${n}`)}))}getCurrentTabIndex(e,t,n,r){return n||"/homefeed/holiday_finds/"===e.pathname?r.findIndex(e=>"pinterest_picks"===e.tab_type)+1:t?r.findIndex(e=>e?.id===t)+1:er.e}render(){let{hasScrolled:e,hideTabs:t,isRefreshing:n,pwaUpsellBannerEligibility:o,showYipModal:s}=this.state,{checkExperiment:a,dataIsFetching:l,dataIsRefreshing:d,headerHeight:u,homefeedData:p,isPinRepOptimizationExpEnabled:f,i18n:_,inLocalNavigation:g,location:b,requestContext:E,viewer:P,enableExperienceSession:A,experienceSessionEndOnSurfaceChange:C}=this.props,I=p||[],R=I[0],j=!!R&&"story"===R.type&&["board_more_ideas","boards_more_ideas_feed_upsell_list_cards","boards_more_ideas_feed_upsell_list_cards_square"].includes(R.story_type);j&&R.objects&&(R.objects=R.objects.filter(e=>e?.images&&"70x"in e.images&&"170x"in e.images));let k=j?I.slice(1):I,N=b&&b.pathname.includes("news_hub"),Z=g?k.find(({type:e})=>"home_feed_tabs"===e)?.tabs:void 0,{boardId:D,holidayFinds:L}=(0,X.mB)(b.search),M=Z?this.getCurrentTabIndex(b,D,L,Z):er.e,B=a("dweb_eu_personalized_ads_prompt").anyEnabled;return(0,e_.jsxs)(r.Fragment,{children:[(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[505801],enableExperienceSession:A,placementId:11,sessionEndOnSurfaceChange:C,children:({complete:e})=>(0,e_.jsx)(F.Z,{children:(0,e_.jsx)(eI,{complete:e})})}),(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[504943,505226],enableExperienceSession:A,placementId:11,sessionEndOnSurfaceChange:C,children:({complete:e,dismiss:t,experience:{display_data:n}})=>{let r=!("is_blocking"in n)||!!n.is_blocking,o=n.message_blocking;return r||(o=n.message_dismissible),(0,e_.jsx)(ex,{complete:e,dismiss:t,isBlockingModal:r,modalDescription:o})}}),(0,e_.jsx)(v.a3,{eligibleIds:[507661],placementId:11,children:({dismiss:e,experience:{display_data:t}})=>(0,e_.jsx)(ev,{displayData:t,onDismiss:e})}),B&&(0,e_.jsx)(v.a3,{eligibleIds:[507007],placementId:11,children:({complete:e,dismiss:t,experience:{display_data:n}})=>(0,e_.jsx)(eA,{complete:e,dismiss:t,displayData:n})}),(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[505111],enableExperienceSession:A,placementId:11,sessionEndOnSurfaceChange:C,children:({complete:e,dismiss:t})=>(0,e_.jsx)(r.Suspense,{children:(0,e_.jsx)(eS,{complete:e,dismiss:t})})}),(0,e_.jsx)(v.a3,{eligibleIds:[507924],placementId:11,children:({complete:e,dismiss:t})=>(0,e_.jsx)(eE,{onComplete:e,onDismiss:t})}),"windows"===o&&(0,e_.jsx)(v.a3,{eligibleIds:[501123],placementId:11,children:({complete:e})=>(0,e_.jsx)(r.Suspense,{children:(0,e_.jsx)(ew,{handleComplete:()=>this.handleInstallWindowsPWA(e),language:E.language||"",locale:E.locale||""})})}),"chrome"===o&&(0,e_.jsx)(v.a3,{eligibleIds:[500999],placementId:11,children:({complete:e,dismiss:t})=>(0,e_.jsx)(q.Z,{completeButtonText:_._('Get the app', 'Confirm button to install Chrome PWA', 'Confirm button to install Chrome PWA'),dismissButtonText:_._('Not now', 'Dismiss button for Chrome PWA upsell banner', 'Dismiss button for Chrome PWA upsell banner'),message:_._('Get our Chrome app for faster searching and saving', 'Text for banner to install Chrome PWA', 'Text for banner to install Chrome PWA'),onComplete:()=>this.handleInstallChromePWA(e),onDismiss:()=>this.handleDismissChromePWAUpsell(t)})}),e&&(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[502535],enableExperienceSession:A,placementId:11,sessionEndOnSurfaceChange:C,children:({complete:e,dismiss:t})=>(0,e_.jsx)(r.Suspense,{children:(0,e_.jsx)(eP,{handleComplete:e,handleDismiss:t})})}),s&&(0,e_.jsx)(x.Z,{name:"SafeSuspense_AuthHomefeed_YearInPreview",children:(0,e_.jsx)(eb,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),(0,e_.jsx)(Y.Z,{view:1,viewParameter:92,children:(0,e_.jsxs)(r.Fragment,{children:[P.isAuth&&P.isPartner&&!N&&(0,e_.jsx)(x.Z,{name:"SafeSuspense_AuthHomefeed_MoreIdeas",children:(0,e_.jsx)(i.Le,{top:u,zIndex:new i.Ry(2*!!this.isHomefeed),children:(0,e_.jsx)(i.xu,{"data-root-margin":"more-ideas-tabs",height:c.Z,children:(0,e_.jsx)(ey,{fallback:(0,e_.jsx)(i.xu,{height:c.Z}),hideTabs:t,nonFixed:!0})})})}),this.isHomefeed&&(0,e_.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:T.$H}},"data-test-id":"homefeed-feed",children:[(0,e_.jsx)(et.Z,{text:this.props.i18n._('Home', 'text for accessibility hidden heading', 'text for accessibility hidden heading')}),(d||n)&&(0,e_.jsx)(i.xu,{paddingY:6,children:(0,e_.jsx)(i.xH,{accessibilityLabel:this.props.i18n._('Refreshing homefeed', 'Authhomefeed.refreshSpinner', 'spinner for refreshing homefeed'),show:!0})}),j&&(0,e_.jsx)(i.xu,{marginBottom:2,marginTop:4,children:(0,e_.jsxs)("div",{className:"gridCentered",children:[(0,e_.jsx)(O.Z,{unsafeCSS:(0,S.Z)({gutterWidth:0,isRTL:!1,itemWidth:T.yF+T.ZZ,maxColumns:k.length,minColumns:T.yc})}),(0,e_.jsx)(eC,{disableLastGutter:!0,fallback:(0,e_.jsx)(i.xu,{height:142}),feed:[R],view:1,viewParameter:92})]})}),!!Z?.length&&P.isAuth&&!P.isPartner&&(0,e_.jsx)(ee.Z,{dataLayoutShiftBoundaryId:"TabsContentHeader",position:"sticky",shouldShowShadow:!0,stickyZIndex:new i.H3(this.isHomefeed?[new i.Ry(5)]:[new i.Ry(6)]),style:{width:"100%",backgroundColor:"#ffffff",transform:t?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out"},children:(0,e_.jsx)(i.xu,{"data-root-margin":"more-ideas-tabs",marginBottom:4*(M===er.e),marginEnd:(0,m.mH)(),marginStart:(0,m.mH)(),overflow:"visible",children:(0,e_.jsx)(ey,{boards:Z,currentTabIndex:M,hideTabs:t,inLocalNavigation:g,nonFixed:!0})})}),!!Z?.length&&!!M&&"pinterest_picks"!==Z[M-1].tab_type&&(0,e_.jsx)(eT,{inLocalNavigation:g,tabBoard:Z[M-1]}),M===er.e&&(0,e_.jsxs)(r.Fragment,{children:[(0,e_.jsx)(U.Z,{includeBackgroundImages:!0,includeVideos:!0,isAtEndOfFeed:this.props.dataIsAtEnd,isPlaceholderGrid:l&&!k.length,itemCount:k.length,pinData:k,children:(0,e_.jsx)(h.Z,{id:"AuthHomefeedMasonry",children:(0,e_.jsx)(w.default,{cacheKey:"homefeed",getColumnSpanConfig:f?this.getColumnSpanConfig:e=>this.getColumnSpanConfig(e),isFetching:l,isLoadedAccessibilityLabel:k.length>0?this.props.i18n._('More Pins loaded for homefeed', 'authhomefeed.masonry.paginationLoaded', 'More Pins loaded for homefeed'):this.props.i18n._('Loaded homefeed', 'authhomefeed.masonry.loaded', 'Pins have loaded for homefeed'),isLoadingAccessibilityLabel:k.length>0?this.props.i18n._('Loading more Pins for homefeed', 'authhomefeed.masonry.paginationLoading', 'Loading more Pins for homefeed'):this.props.i18n._('Loading homefeed', 'authhomefeed.masonry.loading', 'Loading homefeed'),isLoadingStateEnabled:!0,items:k,loadItems:this.loadItems,masonryRef:eO,renderItem:this.renderItem})})}),k.length>0&&(0,e_.jsx)(y.Z,{surface:"homefeed"})]}),(0,e_.jsx)(v.O9,{placementId:11})]})]})})]})}}function eD(e){let t=(0,R.Z)(),n=(0,a.I0)(),i=(0,r.useRef)(0),s=(0,o.TH)(),l=(0,C.Z)(),d=(0,z.B)(),c=(0,$.Z)(),h=(0,ed.JC)(),m=(0,ei.R)(),{pins:g,clear:y}=(0,eo.Z)(),b=(0,K.dI)(),{mountPlacement:x,unmountPlacement:w}=(0,v.Sc)(),{checkExperiment:S}=(0,M.Z)(),A=(0,I.aX)(),T=(0,P.Z)(),j=(0,o.s0)(),O=(0,o.ur)(),k=(0,Q.Z)(),{shouldMaintainHomefeed:N}=(0,p.Z)(),D=(0,en.t)(),{isAtEnd:B,isFetching:U,isRefreshing:F,fetchMore:W,data:G,refresh:Y}=(0,H.Z)({...e.homefeedResourceConfig,enabledRouteRefresh:!N}),q=S("hfp_local_nav_tabs_web").anyEnabled,X=(0,u.Z)();(0,J.Z)(()=>{let e=G||[];if(l.isAuth&&!l.isPartner&&(0,Z.Z)(l.createdAt)&&e.length>0&&1){let e=V.ZP.getItem(_.M8);if(e||g.length>0){let r=[...g,...e?[{id:e}]:[]];setTimeout(()=>{r.forEach(({id:e,nodeId:r})=>{(0,f.Z)({description:"",entityId:e,link:"",promotedIsRemovable:void 0,title:""},t).then(t=>{let{id:o,url:i,name:s}=t;n((0,ea.d)({boardId:o,url:i,title:s||"",pinId:e||"",nodeId:r}))})}),c({action:"trigger",item:"unauth-save-button-quicksave"}),n((0,el.Z)(!0)),V.ZP.removeItem(_.M8),y()},1500)}}});let ee=(0,r.useCallback)(()=>x(1000294,{}),[x]),et=(0,r.useCallback)(()=>w(1000294),[w]);(0,L.Z)(s,b.showToast,t);let{enableExperienceSession:er,endOnSurfaceChange:es}=(0,E.jQ)(11),ec=(0,eu.Z)(S,"homefeed");return(0,e_.jsx)(r.Fragment,{children:(0,e_.jsx)(eZ,{...e,checkExperiment:S,currentHistoryStack:A,dataIsAtEnd:B,dataIsFetching:U,dataIsRefreshing:F,dispatch:n,enableExperienceSession:er,experienceClient:T,experienceSessionEndOnSurfaceChange:es,fetchMoreData:W,headerHeight:D,homefeedData:G,i18n:t,inLocalNavigation:q,isDwebScrollPinToTopOnTapExpEnabled:ec,isPinRepOptimizationExpEnabled:X,lastScrollYRef:i,lfvExperiences:k,location:s,mostRecentPLP:m.id?h[m.id]:null,mountWebRepinPlacement:ee,navigate:j,navigationType:O,refreshData:Y,requestContext:d,toastManagerContext:b,unmountWebRepinPlacement:et,viewer:l})})}function eL(e){(0,r.useEffect)(()=>{(0,s.Z)("AuthHomefeed","/app/common/react/components/FeedsAndFollowing/Homefeed/AuthHomefeed.tsx")},[]);let t=(0,l.q)(),n=(0,r.useMemo)(()=>t(),[t]),o=(0,eh.DB)(),i=(0,em.Zv)(),a=(0,j.b)(),d=(0,z.B)();return(0,r.useEffect)(()=>{a&&(0,ep.LY)("earlyHydrationDebug.authHomefeed.mount",performance.now(),{tags:(0,eh.M3)({earlyHydrationConfig:o,handlerId:i,requestContext:d})})},[]),(0,e_.jsx)(h.Z,{id:"AuthHomefeed",children:(0,e_.jsx)(eD,{...e,homefeedResourceConfig:n})})}let eM=()=>((0,r.useEffect)(()=>{(0,s.Z)("ExperiencesAfterHomefeed","/app/common/react/components/FeedsAndFollowing/Homefeed/ExperiencesAfterHomefeed.tsx")},[]),(0,e_.jsxs)(r.Fragment,{children:[(0,e_.jsx)(v.RK,{placementId:11}),(0,e_.jsx)(v.k6,{placementId:1000503}),(0,e_.jsx)(v.H6,{placementId:1000541})]}));var eB=n(465784);function eU({onDismiss:e,onComplete:t,titleText:n,detailedText:o,dismissButtonText:a,completeButtonText:l}){(0,r.useEffect)(()=>{(0,s.Z)("SecurityModal","/app/www/Nags/ProdSec/GeneralAccountSecurityNag/SecurityModal.tsx")},[]);let d=(0,R.Z)();return(0,e_.jsx)(eB.ZP,{accessibilityModalLabel:o,closeOnOutsideClick:!1,onDismiss:e,size:"sm",children:(0,e_.jsx)(i.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",width:"100%",children:(0,e_.jsxs)(i.xu,{marginTop:2,children:[(0,e_.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:10,children:(0,e_.jsx)(i.JO,{accessibilityLabel:d._('Pinterest logo icon', 'Pinterest logo icon', 'Pinterest logo icon'),color:"primary",icon:"pinterest",size:40})}),(0,e_.jsx)(i.xu,{marginEnd:3,marginStart:3,marginTop:6,overflow:"hidden",rounding:2,children:(0,e_.jsxs)(i.xu,{color:"default",paddingX:4,paddingY:2,children:[(0,e_.jsx)(i.kC,{alignItems:"start",justifyContent:"between",children:(0,e_.jsxs)(i.xu,{flex:"grow",children:[(0,e_.jsx)(i.X6,{align:"center",size:"600",children:n}),(0,e_.jsx)(i.xu,{paddingY:4,children:(0,e_.jsxs)(i.xv,{align:"center",children:[" ",o," "]})})]})}),(0,e_.jsx)(i.xu,{display:"flex",justifyContent:"end",marginBottom:12,marginTop:8,children:(0,e_.jsxs)(i.kC,{gap:{row:2,column:0},justifyContent:"end",children:[(0,e_.jsx)(i.zx,{color:"gray",onClick:e,size:"lg",text:a}),(0,e_.jsx)(i.zx,{color:"red",onClick:t,size:"lg",text:l})]})})]})})]})})})}function ez({onComplete:e,onDismiss:t,titleText:n,detailedText:o,dismissButtonText:i,completeButtonText:s}){return(0,e_.jsx)(r.Fragment,{children:(0,e_.jsx)(eU,{completeButtonText:s,detailedText:o,dismissButtonText:i,onComplete:e,onDismiss:t,titleText:n})})}let eH=function({placementId:e,experience:t}){return t&&t.display_data?(0,e_.jsx)(v.a3,{eligibleIds:[503750],placementId:e,children:({complete:e,dismiss:n})=>(0,e_.jsx)(ez,{completeButtonText:t.display_data.complete_button_text,detailedText:t.display_data.detailed_text,dismissButtonText:t.display_data.dismiss_button_text,onComplete:e,onDismiss:n,titleText:t.display_data.title_text})}):null};var eF=n(332995),eV=n(272598),eW=n(986475),eG=n(640200);let eY=(0,ef.Z)(()=>n.e("55911").then(n.bind(n,426292)),{ssr:!1},e=>426292,void 0,void 0);function e$({placementId:e,...t}){return(0,r.useEffect)(()=>{(0,s.Z)("ExperienceNuxContainer","/app/common/react/components/experiences/ExperienceNuxContainer/ExperienceNuxContainer.tsx")},[]),(0,e_.jsx)(v.a3,{disableAutoView:!0,eligibleTypes:[9],placementId:e,children:({complete:e,dismiss:n,view:r,experience:{display_data:o}})=>(0,e_.jsx)(x.Z,{name:"SafeSuspense_ExperienceNuxContainer_NuxContainer",children:(0,e_.jsx)(eY,{...(0,eW.Z)(eG.Z,!0)(o),handleComplete:e,handleDismiss:n,handleView:r,hasUnauthLandingPage:o.has_landing_page,...t})})})}var eq=n(714518),eK=n(322830),eX=n(230201),eJ=n(233597),eQ=n(178131),e0=n(513504);let e1=(0,r.lazy)(()=>n.e("55911").then(n.bind(n,426292)));function e5({hideFollowedInterests:e}){(0,r.useEffect)(()=>{(0,s.Z)("RenuxContainer","/app/www/nux/desktop/RenuxContainer.tsx")},[]);let{logContextEvent:t}=(0,eX.u)(),n=(0,a.I0)(),o=(0,C.Z)(),{completeExperience:i,dismissExperience:l,experienceForPlacement:d,viewExperience:c}=(0,v.oS)(11),u=d?.experience_id===500278,{steps:p,refresh_homefeed_background:h=!1}=(0,eW.Z)(eG.Z,!0)(d?.display_data||{}),[m,f]=(0,r.useState)(!1),_=(0,eQ.Z)(),g=()=>{n((0,eJ.U)("UserHomefeedResource",{options:(0,eK.Z)({inNux:!0,staticFeed:!1,viewerIsPartner:o.isAuth&&o.isPartner})},null))};return(0,r.useEffect)(()=>{m&&l(11,500278)},[m,l]),u?(0,e_.jsx)(x.Z,{name:"SafeSuspense_RenuxContainer_NuxContainer",children:(0,e_.jsx)(F.Z,{children:(0,e_.jsx)(e1,{handleComplete:()=>{t({event_type:101,component:17,element:96,view_type:213}),u&&i(11,500278);let e=Math.floor(new Date().getTime()/1e3);n((0,e0.Q_)("USM_RELAUNCH_NUX_COMPLETED",e)),g()},handleDismiss:e=>{t({event_type:101,component:17,element:1150,view_type:213}),u&&(f(!0),"NuxPicker"===e&&_({event_type:9626,view_type:213,view_parameter:172})),h&&g()},handleView:()=>{u&&c(11,500278)},hasDismissedModal:m,hideFollowedInterests:e||!1,isRenux:!0,steps:p})})}):null}let e2=({experience:e,isNux:t})=>((0,r.useEffect)(()=>{(0,s.Z)("ExperiencesBeforeHomefeed","/app/common/react/components/FeedsAndFollowing/Homefeed/ExperiencesBeforeHomefeed.tsx")},[]),(0,e_.jsxs)(r.Fragment,{children:[t||e&&e.display_data&&e.display_data.is_partner_renux?(0,e_.jsx)(e$,{placementId:11}):(0,e_.jsx)(e5,{hideFollowedInterests:!0}),(0,e_.jsx)(v.iH,{placementId:11}),(0,e_.jsx)(eV.Z,{placementId:11}),(0,e_.jsx)(v.u3,{placementId:11}),(0,e_.jsx)(v.b9,{placementId:11}),(0,e_.jsx)(v._f,{placementId:11}),(0,e_.jsx)(v.nj,{placementId:11}),(0,e_.jsx)(eq.Z,{placementId:11}),(0,e_.jsx)(eF.Z,{placementId:11}),(0,e_.jsx)(eH,{experience:e,placementId:11})]}));var e6=n(59355),e4=n(495839),e9=n(271875),e7=n(520803);let e3=(0,ef.Z)(()=>n.e("34692").then(n.bind(n,749741)),{ssr:!1},e=>749741,"BackgroundPinImages",e=>["34692"]),e8=(0,ef.Z)(()=>Promise.all([n.e("85533"),n.e("54536")]).then(n.bind(n,704897)),{ssr:!1},e=>704897,"ExperienceBizNuxFullscreenContainer",e=>["85533","54536"]);function te({experience:e}){let t=(0,o.TH)(),{params:s}=(0,e7.Z)(),{conversationOpen:a,dropdownOpen:l}=(0,e9.Z)();(0,e6.Q)({view_type:1,view_parameter:92});let{conversation_id:d,tab:c}=(0,X.mB)(t.search),u=s.conversation_id||d;(0,r.useEffect)(()=>{u&&a(u)},[u]),(0,r.useEffect)(()=>{"inbox"===c&&l()},[c]),(0,r.useEffect)(()=>{let e=document.getElementById("rum-config");null!==e&&null!==e.textContent&&(window.pinterest_rum_client_config=JSON.parse(e.textContent),n.e("34912").then(n.bind(n,629442)).then(e=>{e.default()}))},[]);let p=e?.experience_id,h=10105===p;return[500787,500894].includes(p)?(0,e_.jsx)(x.Z,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxFullscreenContainer",children:(0,e_.jsx)(e8,{experienceId:500787,placementId:11})}):(0,e_.jsxs)(i.xu,{children:[(0,e_.jsx)(e2,{experience:e,isNux:h}),h?(0,e_.jsx)(x.Z,{name:"SafeSuspense_AuthHomePage_BackgroundPinImages",children:(0,e_.jsx)(e3,{inNux:h,isFlexible:!0})}):(0,e_.jsx)(r.Fragment,{children:(0,e_.jsx)(eL,{experience:e})}),(0,e_.jsx)(eM,{})]})}let tt=(0,v.RL)(11,()=>({using_pwa:(0,B.So)(window)}))(function(e){let{experience:t}=e,n=t?.experience_id,o=10105===n,i=[500787,500894].includes(n),s=o||i,[a,l]=(0,r.useState)(null);return null===a&&l(o),o&&!1===a&&((0,ep.nP)("home_product.homefeed.incorrect_in_nux_state_for_first_load",{sampleRate:.1,tags:{appType:"web"}}),l(!0)),s?(0,e_.jsx)(te,{...e}):(0,e_.jsx)(e4.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:(0,e_.jsx)(te,{...e})})})},241028:function(e,t,n){function r(e){return{type:"PIN_QUICK_SAVE",payload:e}}function o(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}n.d(t,{X:()=>o,d:()=>r})},604100:function(e,t,n){function r(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}n.d(t,{Z:()=>r})},701943:function(e,t,n){function r(){return{}}n.d(t,{kr:()=>r}),n.g.__AsyncLocalStorage__&&new n.g.__AsyncLocalStorage__},682004:function(e,t,n){n.d(t,{$:()=>y,G:()=>b});var r=n(686659),o=n(667294),i=n(422578),s=n(312048),a=n(244311),l=n(501010),d=n(774838);function c(e){let t={result:{kind:"Pending",promise:e},read:()=>(function(e){let{result:t}=e;switch(t.kind){case"Pending":throw t.promise;case"Ok":return t.value;case"Err":throw t.error;default:throw Error("Unexpected case")}})(t)};return e.then(e=>{t.result={kind:"Ok",value:e}}).catch(e=>{t.result={kind:"Err",error:e}}),t}function u(e){return{result:{kind:"Ok",value:e},read:()=>e}}var p=n(362777),h=n(767415),m=n(785893);let f=(0,o.createContext)(null),_=/(^\/)|:|(\/$)/g,g=/\//g,y=({children:e})=>{(0,o.useEffect)(()=>{(0,r.Z)("EntrypointContext","/pws/entrypoint-router/EntrypointContext.tsx")},[]);let t=(0,i.useRelayEnvironment)(),{checkExperiment:n}=(0,l.Z)(),a=(0,d.B)(),c=(0,o.useRef)({}),u=(0,o.useCallback)(e=>{let{rootComponent:r,loadedValueState:o}=v(x(c.current,e),e,"Both",t,n,a);return"NotYetRendered"===o.performanceLoggingState.kind&&(o.performanceLoggingState={kind:"InitiallyRendered",initialRenderTime:Date.now()}),{rootComponent:r,onEntrypointDataLoaded:t=>{if("InitiallyRendered"===o.performanceLoggingState.kind){let n=Date.now();(0,h.LY)("entrypointRouter.routeTiming."+e.kind.replace(_,"").replace(g,"_"),n-o.performanceLoggingState.initialRenderTime,{sampleRate:.1,tags:t??{}}),o.performanceLoggingState={kind:"Complete"}}},loadedValue:o.loadedValue}},[n,t,a]),y=(0,s.s0)(),b=(0,o.useCallback)(e=>{v(x(c.current,e),e,"Both",t,n,a),y((0,p.w)(e))},[y,n,t,a]),E=(0,o.useCallback)((e,r)=>{let o=x(c.current,e);"Both"===r&&v(o,e,r,t,n,a)},[n,t,a]),P=(0,o.useMemo)(()=>({loadAndReadDuringRender__INTERNAL:u,preload:E,imperativelyNavigate:b}),[u,b,E]);return(0,m.jsx)(f,{value:P,children:e})};function b(){let e=(0,o.useContext)(f);if(null==e)throw Error("Missing entrypoint context");return e}function x(e,t){let n=p.Z[t.kind];if(null==n)throw Error("Unexpected missing route! Did you define it in routeMap.ts?");let r=n.loader();return e[t.kind]??={rootComponent:c(n.rootComponent()),loadedValueStates:{},loader:(0,a.isPromise)(r)?c(r):u(r)}}function v(e,t,n,r,o,i){var s;let a=JSON.stringify(function e(t){if(!t||"object"!=typeof t)return t;if(Array.isArray(t))return t.map(e);let n=Object.keys(t).sort(),r={};for(let o=0;o<n.length;o++)r[n[o]]=e(t[n[o]]);return r}(t.routeParams)),{loadedValueStates:l,rootComponent:d,loader:p}=e;return{rootComponent:d,loadedValueState:l[a]??=(s=t.kind,setTimeout(()=>{let e=l[a];null!=e&&(0,h.nP)("entrypointRouter.entrypointUse",{sampleRate:.1,tags:{routeName:s,usedInTime:"NotYetRendered"!==e.performanceLoggingState.kind}})},3e4),{loadedValue:function(e,t){let{result:n}=e;switch(n.kind){case"Pending":return c(n.promise.then(t));case"Ok":return u(t(n.value));case"Err":var r;return{result:{kind:"Err",error:r=n.error},read:()=>{throw r}};default:throw Error("Unexpected case")}}(p,e=>e({routeParams:t.routeParams,relayEnvironment:r,checkExperiment:o,requestContext:i})),performanceLoggingState:{kind:"NotYetRendered"}})}}},362777:function(e,t,n){n.d(t,{w:()=>i,Z:()=>o});var r=n(312048);let o={"/collage-creation-tool":{loader:()=>Promise.all([n.e("8126"),n.e("50444")]).then(n.bind(n,231718)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("19007"),n.e("73269"),n.e("57207"),n.e("8126"),n.e("73999"),n.e("93059"),n.e("18973"),n.e("75761"),n.e("6104"),n.e("28482"),n.e("84355"),n.e("84354"),n.e("76201")]).then(n.bind(n,534850)).then(e=>e.default)},"/comparison/results":{loader:()=>n.e("77087").then(n.bind(n,531297)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("63197"),n.e("69519")]).then(n.bind(n,851347)).then(e=>e.default)},"/comparison/select/:id":{loader:()=>n.e("9490").then(n.bind(n,851605)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("63197"),n.e("90634")]).then(n.bind(n,163927)).then(e=>e.default)},"/ideas":{loader:()=>Promise.all([n.e("25418"),n.e("996")]).then(n.bind(n,890450)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("87023"),n.e("62577"),n.e("24395"),n.e("47336")]).then(n.bind(n,691202)).then(e=>e.default)},"/pin/:id/analytics":{loader:()=>n.e("62315").then(n.bind(n,308821)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("15417"),n.e("16868"),n.e("51296"),n.e("62286"),n.e("13305"),n.e("66387"),n.e("38477"),n.e("40044"),n.e("67871"),n.e("26387"),n.e("16829")]).then(n.bind(n,646784)).then(e=>e.default)},"/today/":{loader:()=>n.e("42207").then(n.bind(n,415466)).then(e=>e.default),rootComponent:()=>Promise.all([n.e("39366"),n.e("25418"),n.e("16928"),n.e("87023"),n.e("24395"),n.e("41437"),n.e("21603"),n.e("6808"),n.e("91678")]).then(n.bind(n,352067)).then(e=>e.default)}};function i(e){return(0,r.Gn)(e.kind,e.routeParams)}},109571:function(e,t,n){n.d(t,{I:()=>s,t:()=>i});var r=n(667294),o=n(312048);let i=(0,r.createContext)(null);function s(){return(0,o.TH)()===(0,r.useContext)(i)}},305375:function(e,t,n){n.d(t,{Z:()=>s});var r=n(616550),o=n(312048),i=n(501010);function s(){return((0,i.Z)().checkExperiment("web_react_router_v6").anyEnabled?o.UO:r.UO)()}},216019:function(e,t,n){function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}n.d(t,{Z:()=>r})},535091:function(e,t,n){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:()=>o})},70443:function(e,t,n){function r(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.d(t,{Z:()=>r})},121835:function(e,t,n){n.d(t,{Z:()=>r});function r(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/41372-c40a82e331d6be22.mjs.map