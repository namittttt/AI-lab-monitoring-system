(self.modernJsonp=self.modernJsonp||[]).push([["47609"],{453217:function(e,t,a){var o;a.r(t),a.d(t,{default:()=>n});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:o,storageKey:null}],type:"Pin",abstractKey:null};l.hash="cabaa35ed7d59dee006897bf3ef32e3d";let n=l},923298:function(e,t,a){a.d(t,{Z:()=>n});var o=a(818244),l=a(233550);let n=()=>{let e=(0,o.g)(),t=(0,l.l)();return a=>{let{mobileOptions:o,desktopOptions:l,reason:n,attributionLabel:i,pinId:r,savePinImageUrl:s}=a;e?e.showDesktopSignupModal({signupFlow:l?.modalType==="login"?{type:"login"}:{type:"signup"},reason:n,attributionLabel:i,savePinId:r,savePinImageUrl:s,...l?.modalOptions}):t&&t.showMobileSignupModal({reason:n,attributionLabel:i,headingType:o?.headingType??"none",pinId:r,savePinImageUrl:s})}}},836447:function(e,t,a){a.d(t,{Z:()=>l});var o=a(575820);function l(e){let{boardId:t,username:a,slug:l}=e;return t?(0,o.tV)`/v3/boards/${t}/`:a&&l?(0,o.tV)`/v3/boards/${a}/${l}/`:null}},338065:function(e,t,a){a.d(t,{Z:()=>A});var o,l=a(686659),n=a(667294);a(167912);var i=a(20256),r=a(104999),s=a(935059),d=a(183e3),c=a(24246),u=a(501010),p=a(923298),_=a(935833),m=a(736328),g=a(577356),w=a(473687),y=a(671220),f=a(739405),v=a(893957),b=a(229127),x=a(120100),h=a(157498),I=a(512324),P=a(529312),T=a(785893);let D=({children:e,pulsar:t,testId:a})=>t.show?(0,T.jsx)(i.xu,{"data-test-id":a,position:"relative",children:(0,T.jsxs)(i.iP,{onTap:t.onClick,tapStyle:"none",children:[(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:e}),(0,T.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,T.jsx)(i.o3,{})})]})}):(0,T.jsx)(i.xu,{"data-test-id":a,children:e}),E=(void 0!==o||(o=a(453217)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==o.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function A({auxData:e,disabled:t,disableLog:a,followEventType:o,id:A,inline:k,invertColors:F,isFollowed:j,isIdeaPin:S,isLegoEnabled:Z,isSecondaryButton:R,isUserFollowButton:L,isUserMe:B,onFollow:O,onUnfollow:C,pinKey:U,shouldUseLegoColors:z,showPulsar:M,size:N,textType:G="FollowFollowing",unfollowEventType:H,viewParameter:K,viewType:V,clientTrackingParams:W}){let Q;(0,n.useEffect)(()=>{(0,l.Z)("FollowButton","/app/www/FollowButton.tsx")},[]);let $=(0,c.Z)(),J=(0,f.HG)(),{showToast:Y}=(0,g.dI)(),X=(0,m.Z)(),q=(0,r.Z)(),ee=(0,p.Z)(),{checkExperiment:et}=(0,u.Z)(),ea=(0,x.Z)(),eo=(0,s.Z)(),el=eo&&eo.isAuth,{unauthFollowUserId:en,setUnauthFollowUserId:ei}=(0,P.A)(),er=(0,h.mN)()(A),es=(0,w.Z)(),[ed,ec]=(0,n.useState)(j),eu=er&&{imageMediumUrl:er.image_medium_url,username:er.username},ep=(0,d.Z)(E,U),e_=ep?.linkDomain,em=ep?.nativeCreator,eg=ep?.originPinner,ew=ep?.pinner;Q=em||(e_?e_.officialUser:eg||ew);let ey=eu??Q;(0,v.Z)(()=>{!J&&el&&en&&A&&en===A&&O(A)});let ef=ea({fn:()=>{if(el)ed?(C(A),ec(!1),a||q({event_type:H,view_type:V,view_parameter:K,object_id_str:A,aux_data:e,clientTrackingParams:W})):(O(A),ec(!0),L&&Y(({hideToast:e})=>{let t=ey?.username?`/${ey.username}/`:"";return(0,T.jsx)(I.Z,{handleHide:e,href:t,imageUrl:ey?.imageMediumUrl||"",text:(0,T.jsx)(i.xv,{lineClamp:4,children:$._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:A})}),a||q({event_type:o,view_type:V,view_parameter:K,object_id_str:A,aux_data:e,clientTrackingParams:W}));else{if((0,_.NC)(ed?"press_profile_unfollow":"press_profile_follow"),X({action:"click",item:ed?"unfollow-button":"follow-button"}),et("migration_upsell_manager_redux").anyEnabled||et("migration_upsell_manager_redux_dweb").anyEnabled||et("migration_upsell_manager_redux_mweb").anyEnabled||et("migration_upsell_manager_redux_dweb_global").anyEnabled||et("migration_upsell_manager_redux_mweb_global").anyEnabled)if(J){let e=et("pcons_dweb_contextual_follow_modal").anyEnabled;es((0,y.b9)(!!S,e))}else{let e=et("pcons_mweb_contextual_follow_modal").anyEnabled;es((0,y.Jw)(!!S,e))}else ee({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:S?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:J&&et("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!J&&et("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});J||ei(A??""),(0,_.NC)("clickthrough")}},modalHeader:(0,b.N4)({i18n:$,toFollow:!ed})}),ev=!ed&&!!M,eb=()=>{if(B)return $._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===G)return ed?$._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):$._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');let e="FollowUnfollow"===G?$._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):$._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return ed?e:$._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,T.jsx)(D,{pulsar:ev?{show:!0,onClick:ef}:{show:!1},testId:B||ed?"board-unfollow-button":"board-follow-button",children:(0,T.jsx)(i.zx,{accessibilityLabel:eb(),color:z||"AddRemove"===G||!Z&&R||F?"gray":"red",disabled:B||t,fullWidth:k,onClick:ev?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),a||q({event_type:101,component:13672,element:11951,object_id_str:A,view_type:V,view_parameter:K,aux_data:e,clientTrackingParams:W}),ef()},selected:ed||!1,size:N,text:eb()})})}},69841:function(e,t,a){a.d(t,{Cy:()=>d,HE:()=>c,JE:()=>_,Mv:()=>n,Y4:()=>u,dL:()=>l,fS:()=>p,fv:()=>r,qS:()=>s,u:()=>m,uc:()=>i});var o=a(79271);let l=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,duploShouldTrackPinEvents:e.duploShouldTrackPinEvents,loggingId:e.loggingId,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Pin",isPaused:e.isPaused,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},n=e=>{let t=(0,o.ZP)({impressionAuxFields:{newsType:e.newsType,displayMode:e.displayMode,newsIndex:e.newsIndex||0,tapItemIdStr:e.tapItemIdStr},contextLogData:e.auxData||{},impressionType:"Notification",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},i=e=>{let t=(0,o.ZP)({impressionAuxFields:{newsType:e.newsType},contextLogData:e.auxData||{},impressionType:"NotificationFeed",loggingId:e.notificationId,viewType:107,viewParameter:3082});return e.children({impressionTrackerRef:t})},r=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},contextLogData:e.auxData||{},componentType:e.component,isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter,clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,impressionType:"Article"});return e.children({impressionTrackerRef:t})},s=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Story",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},d=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"User",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},c=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex||0,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Interest",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},u=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"TodayArticle",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})},p=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"Board",loggingId:e.loggingId,viewType:e.viewType||1,viewParameter:e.viewParameter,viewData:e.viewData});return e.children({impressionTrackerRef:t})},_=e=>{let t=(0,o.ZP)({carouselData:e.carouselData,impressionType:"Pin",loggingId:e.loggingId,slotIndex:e.slotIndex??0,trackCarousel:!0,viewParameter:e.viewParameter||72,viewType:e.viewType||1,isPaused:e.isPaused,contextLogData:e.contextLogData,componentType:e.component,impressionAuxFields:e.impressionAuxFields});return e.children({impressionTrackerRef:t})},m=e=>{let t=(0,o.ZP)({impressionAuxFields:{...e.impressionData||{}},clientTrackingParams:e.trackingParams,slotIndex:e.slotIndex,contextLogData:e.auxData||{},componentType:e.component,impressionType:"EditorialBoard",isPaused:e.isPaused,loggingId:e.loggingId,objectIdStr:e.objectIdStr,viewData:e.viewData,viewType:e.viewType||1,viewParameter:e.viewParameter});return e.children({impressionTrackerRef:t})}},798385:function(e,t,a){a.d(t,{Z:()=>l});var o=a(157498);function l(){let e=(0,o.dM)();return Object.keys(e).reduce((t,a)=>{let o=e[a];return t[o.username]=o,t},{})}},120100:function(e,t,a){a.d(t,{Z:()=>r});var o=a(24246),l=a(739405),n=a(36776),i=a(229127);let r=()=>{let e=(0,o.Z)(),t=(0,l.HG)(),{viewer:a,loginForMore:r,limitedLoginModalSubheader:s,limitedLoginModalNextLocation:d}=(0,n.m)();return"LIMITED_LOGIN"===a.type?({modalHeader:a,nextLocation:o})=>l=>{let n=null;l&&(l.nativeEvent&&l.nativeEvent instanceof Event?n=l:l.event&&(n=l.event)),n&&(n.preventDefault&&n.preventDefault(),n.stopPropagation&&n.stopPropagation()),r?.setVisible(!0),s?.setText(a||(t?(0,i.hr)(e):(0,i.Wh)(e))),o&&d?.setRoute(o)}:({fn:e})=>e}},44849:function(e,t,a){a.d(t,{Z:()=>o});function o(e,t,a,l=!1,n){return{privacy_filter:t?"secret":"public",sort:a||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:l,filter_types:n}}},158502:function(e,t,a){a.d(t,{O:()=>r,Q:()=>s});var o=a(660322),l=a(830949),n=a(779686);let i=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],r={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:a,username:o,privacyFilter:l="all",filterAllPins:n=!1,includeArchived:i=!0},r)=>({privacy_filter:l,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:o,page_size:25,group_by:a?"mix_public_private":"visibility",include_archived:i,redux_normalize_feed:!0,filter_all_pins:n,...r?{orbac_subject_id:r}:Object.freeze({})})},s=e=>i.reduce((t,a)=>{let i=[(0,n.N8)("profileBoards",(0,l.Z)(e,a))];return[!0,!1].forEach(t=>{[!0,!1].forEach(l=>{i.push((0,o.jB)(r.name,r.options({username:e,boardOrder:a,mixPublicSecret:t,filterStories:l})))})}),t.concat(i)},[])},160587:function(e,t,a){a.d(t,{Br:()=>p,Cr:()=>v,K8:()=>w,L1:()=>T,YQ:()=>P,ZP:()=>b,aX:()=>x,eo:()=>m,md:()=>_,oG:()=>g,oL:()=>h,of:()=>y,xQ:()=>f,xR:()=>I,yT:()=>u});var o=a(27399),l=a(249459),n=a(681698),i=a(233597),r=a(660322),s=a(836447),d=a(44849),c=a(158502);function u(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function p(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function _(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function m({viewingUserId:e,viewingUsername:t,boardId:a,boardPinCount:o}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:a,boardPinCount:o}}}let g=(e,t)=>a=>a((0,i.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function w(e){return t=>{e&&(0,c.Q)(e).forEach(e=>{t(e)})}}let y=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),f=e=>g(e,"pin_count"),v=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),b=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function x(e,t,a){let n={name:e,privacy:l.Z.BoardPrivacy.PUBLIC,username:t,...a?{orbac_subject_id:a}:Object.freeze({})};return e=>o.Z.create("BoardResource",n).callCreate().then(a=>{let o=a.resource_response.data;return e(t&&(0,r.jB)("BoardsResource",(0,d.Z)(t,!1))),o})}function h(e={},t,a){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:a}}let I=(e,t,a)=>async l=>{l({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}});let n=await o.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return n.resource_response.error||a({event_type:29,object_id_str:e}),n},P=(e,t,a,l,i,r)=>async d=>{d({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:l?.id??"",viewingUser:a}});try{let a=l?.id??"";("accepted"===t?await (0,n.Z)({url:(0,s.Z)({boardId:e})?.concat(`collaborators/${a}/`)??"",method:"DELETE",data:{...r?{orbac_subject_id:r}:{}}}):await o.Z.create("BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:a,...r?{orbac_subject_id:r}:{}}).callDelete()).resource_response.error||i({event_type:"accepted"===t?25:29,object_id_str:e})}catch(o){d({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:a,status:t,collaboratingUsers:[l]}})}},T=(e,t,a,l)=>n=>{let i=o.Z.create("BoardResource",{board_id:a}).callDelete();return n(m({viewingUserId:e,viewingUsername:t,boardId:a,boardPinCount:l})),i}},779686:function(e,t,a){function o(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function l(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}a.d(t,{EX:()=>i,N8:()=>l,Qv:()=>n,_f:()=>o,vX:()=>r});let n=(e,t,a=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:a,items:t}});function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function r(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},512324:function(e,t,a){a.d(t,{Z:()=>p});var o=a(686659),l=a(667294),n=a(20256),i=a(924591),r=a(24246),s=a(661376),d=a(739405),c=a(785893);function u({ideaPinImages:e}){(0,l.useEffect)(()=>{(0,o.Z)("FollowingToastThumbnail","/app/www/toasts/FollowingToastThumbnail.tsx")},[]);let t=e.map((e,t)=>(0,c.jsx)(n.xu,{borderStyle:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},height:48,overflow:"hidden",rounding:2,width:28,children:e?.url&&(0,c.jsx)(n.Ee,{alt:"",color:"#696969",fit:"cover",naturalHeight:e?.height??1,naturalWidth:e?.width??1,src:e.url})},t));return(0,c.jsx)(n.kC,{justifyContent:"center",children:(0,c.jsx)(n.kC,{justifyContent:"start",width:{1:28,2:40,3:48}[e.length],children:t})})}function p({handleHide:e,text:t,userId:a,href:p,imageUrl:_}){(0,l.useEffect)(()=>{(0,o.Z)("UserFollowingToast","/app/www/toasts/UserFollowingToast.tsx")},[]);let m=(0,r.Z)(),g=(0,d.HG)(),w=(0,s.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:a}}),y=Array.isArray(t)?t.join(" "):t;if(0===(w.data||[]).length)return(0,c.jsx)(i.Z,{duration:5e3,href:p,onHide:e,text:y,thumbnail:_?{image:(0,c.jsx)(n.Ee,{alt:m._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}:void 0});let f=(w.data||[]).slice(0,3).map(e=>e.images?.[g?"236x":"170x"]),v=(0,c.jsx)(u,{ideaPinImages:f});return(0,c.jsx)(i.Z,{_dangerouslySetThumbnail:v,duration:5e3,href:p,onHide:e,text:y})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/47609-698185d69f2e7ce1.mjs.map