(self.modernJsonp=self.modernJsonp||[]).push([["44800"],{115366:function(e,t,r){r.d(t,{Z:()=>s});var o=r(686659),n=r(667294),a=r(20256),i=r(785893);let l={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}};function s({fanOut:e,card:t,index:r,size:s,rounding:d}){let u;(0,n.useEffect)(()=>{(0,o.Z)("PinCard","/app/packages/StructuredFeed/ItemReps/MoreIdeasRep/PinCard.tsx")},[]);let c=l[s],{height:p=c.HEIGHT_PX,url:h,width:x=c.WIDTH_PX,colorRGB:f,opacity:g}=t;return h?u=(0,i.jsx)(a.Ee,{alt:h,fit:"cover",naturalHeight:p,naturalWidth:x,src:h}):f&&g&&(u=(0,i.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${f.join(", ")}, ${g})`}},height:c.HEIGHT_PX,width:c.WIDTH_PX})),(0,i.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:((e,t,r)=>{let o;switch(r){case"MOBILE":o={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":o={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":o={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:o={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}let n=o[e];return n.border="1px solid #FFFFFF",n.transition="all 150ms ease-out",n})(r,e,s)},position:"absolute",rounding:d??5,children:(0,i.jsx)(a.zd,{height:c.HEIGHT_PX,rounding:5,wash:!0,width:c.WIDTH_PX,children:u})})}},514837:function(e,t,r){r.d(t,{Z:()=>s});var o=r(686659),n=r(667294),a=r(20256),i=r(69841),l=r(785893);function s({carouselData:e,contextLogData:t,height:r,id:s,index:d,slideWidth:u,view:c,impressionType:p,viewParameter:h}){(0,n.useEffect)(()=>{(0,o.Z)("CarouselImpressionItem","/app/packages/gestaltExtensions/Carousel/CarouselImpressionItem.tsx")},[]);let[x,f]=(0,n.useState)(null),[g,m]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{x!==d?(f(d),m(!1)):m(!0)},[d,x]),e)?(0,l.jsx)(i.JE,{carouselData:{...e,type:"canonical"},contextLogData:t,impressionType:p??"Pin",isPaused:!g,loggingId:s,slotIndex:d,viewParameter:h,viewType:c,children:({impressionTrackerRef:e})=>(0,l.jsx)(a.xu,{ref:e,"data-test-id":`carousel-impression-ref-${s}-${d}`,height:r,overflow:"hidden",position:"absolute",width:u})},`carousel-impression-key-${d}`):null}},902123:function(e,t,r){r.d(t,{Z:()=>i,q:()=>a});var o=r(667294);let n=()=>{let[e,t]=(0,o.useState)(!1),[r,n]=(0,o.useState)(!1),[a,i]=(0,o.useState)(!1);return{active:e,focused:r,hovered:a,onBlur:()=>{n(!1),t(!1)},onFocus:()=>n(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>i(!0),onMouseLeave:()=>{i(!1),t(!1)},onMouseUp:()=>t(!1)}};function a({children:e}){return e(n())}let i=n},501755:function(e,t,r){r.d(t,{Z:()=>P});var o=r(686659),n=r(667294),a=r(20256),i=r(788730),l=r(352015),s=r(230201),d=r(342462),u=r(514837),c=r(806513),p=r(24246),h=r(79271),x=r(59111),f=r(216975),g=r(774838),m=r(893957),v=r(113759),_=r(785893);function y({index:e,length:t,showBadge:r}){return(0,n.useEffect)(()=>{(0,o.Z)("CarouselBadge","/app/www/common/Carousel/CarouselBadge.tsx")},[]),(0,_.jsx)(a.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:.8*!!r,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new a.Ry(1),children:(0,_.jsx)(a.xv,{color:"inverse",children:`${(e??0)+1}/${t}`})})}var w=r(834182),I=r(228612),b=r(74195);let S=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function P(e){let t;(0,n.useEffect)(()=>{(0,o.Z)("Carousel","/app/www/common/Carousel/Carousel.tsx")},[]);let{backgroundColor:r="transparent",children:P,componentType:C,containerRef:E,contextLogData:j,disableTransition:T,gap:$=0,height:H,id:M,impressionType:R,index:L,responsiveSizing:A=!1,shouldBeDragCarousel:B,showCarouselBadge:D,styleOverrides:W,innerCarouselWidthRef:Z,slideWidth:z,surface:F,paddingX:X,view:G,viewParameter:k,widthRatio:N=1,setSlideIndex:U,sliderRef:O,showCarouselOverflow:J,isHorizontalScrollable:V}=e,{showBadge:q}=(({index:e})=>{let[t,r]=(0,n.useState)(!0),o=(0,n.useRef)(void 0),a=(0,n.useRef)(void 0);return(0,n.useEffect)(()=>(o.current=setTimeout(()=>{r(!1)},3e3),()=>{clearTimeout(o.current)}),[]),(0,n.useEffect)(()=>{if(!a.current){a.current=e;return}clearTimeout(o.current),r(!0)},[e]),{showBadge:t}})({index:L}),{logContextEvent:K}=(0,s.u)(),Q=(0,I.S6)()(M),Y=(0,p.Z)(),{isRTL:ee}=(0,g.B)(),et=(0,n.useRef)(void 0),er=(0,n.useRef)(null),eo=(0,n.useRef)(0),en=(0,n.useRef)(void 0),ea=(0,b.Z)(),{peekCloseupEnabled:ei,viewportSize:el}=(0,v.x4)();if((0,m.Z)(()=>{let e=er.current;if(!e)return;O&&e&&(O.current=e);let t=()=>{let e=eo.current;if(V){let t=new IntersectionObserver(([r])=>{let o=-(r.boundingClientRect.x??0),a=n.Children.toArray(P),i=O?(0,w.yR)(O.current,o+ea,z,N,$,a.length):0;U?.(i),Math.abs(e-o)>=10&&K({aux_data:{...j},component:C,event_type:"right"==(e<o?"right":"left")?9315:9316,view_type:G,view_parameter:k}),eo.current=o,en.current&&t.unobserve(en.current)});en.current&&t.observe(en.current)}else{let t=-(en.current?.getBoundingClientRect().x??0);Math.abs(e-t)>=10&&K({aux_data:{...j},component:C,event_type:"right"==(e<t?"right":"left")?9315:9316,view_type:G,view_parameter:k}),eo.current=t}};return B&&(V&&e?.addEventListener("scroll",t),e?.addEventListener("touchend",t)),()=>{B&&(V&&e?.removeEventListener("scroll",t),e?.removeEventListener("touchend",t))}}),N>1||N<0)throw Error("widthRatio should be between 0 and 1 inclusive");let es=Math.floor(z*N),ed=n.Children.toArray(P),eu=ed.length*es,ec=E?.clientWidth||eu,{maxHeight:ep,fiftyPercentHeight:eh,fiftyPercentWidth:ex}=(0,i.Re)(),ef=ei&&"lg"===el&&"ShoppingGridSmallCarousel"===F;ei&&(t="sm"===el?eh:ep);let eg=W?.justifyContent??(ec>eu?"center":"start"),em=e=>void 0!==e?`${e}px`:B?`${c.yt}px`:void 0,ev=em(W?.horizontalScrollContainerPaddingLeft),e_=em(W?.horizontalScrollContainerPaddingRight);Z&&(Z.current="center"===eg?er.current:null);let ey=A||B?void 0:(0,w.CU)({slotWidth:es,gap:$,numberOfSlides:ed.length,index:L,containerWidth:ec,paddingX:X});return(0,_.jsxs)("div",{className:"BoardMoreIdeasRep"===R?"moreIdeasBoardRepCarousel":"",style:A?{height:"inherit"}:{},children:[(0,_.jsxs)(a.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:A?"inherit":void 0,justifyContent:eg,overflow:ef||J?void 0:"hidden",children:[D&&(0,_.jsx)(y,{index:L,length:ed.length,showBadge:q}),"BoardMoreIdeasRep"!==R&&(0,_.jsx)(l.P,{pinKey:null!=Q?{type:"Legacy",data:Q}:null,children:e=>(0,_.jsx)(u.Z,{carouselData:{...e,type:"canonical"},contextLogData:j,height:H??et.current?.clientHeight??1,id:M,impressionType:"Pin",index:L,slideWidth:z,view:G??1,viewParameter:k??72},`carousel-impression-key-${L}`)}),B&&(0,_.jsx)(x.Z,{unsafeCSS:S}),(0,_.jsx)("div",{ref:er,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:r,overflowX:B?"scroll":"visible",paddingLeft:ev,paddingRight:e_,display:"flex",flexDirection:W?.flexDirection??"row",height:A?"inherit":void 0,marginLeft:X?`${X}px`:void 0,marginRight:X?`${X}px`:void 0,position:"relative",scrollbarWidth:0,transition:B||T?void 0:ee?"right .5s":"left .5s",right:ee?ey:void 0,left:ee?void 0:ey,width:A?"100%":void 0},children:ed.map((e,r)=>{let o=r===ed.length-1,n=Math.ceil($/4),l=0;n>=-12&&n<=12&&(l=n);let s=(0,_.jsx)(a.xu,{ref:e=>{et.current=e,0===r&&(en.current=e)},"aria-label":(0,f.Wc)(Y._('Slide {{ currentSlide }} of {{ totalSlides }}', 'CloseupCarousel.Carousel.labelSlide', 'Accessibility label that defines a carousel slide. currentSlide: current slide number. totalSlides: total number of slides in carousel.'),{currentSlide:`${r+1}`,totalSlides:`${ed.length}`}),"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${r}`,display:r!==L&&A?"none":"block",height:A?"100%":H??void 0,marginEnd:o?0:l,maxHeight:t,maxWidth:ef?`calc(${i.LV}px - ${i.Gd}px * 2)`:ex,role:"group",width:A?"100%":es,children:e},`carousel-slot-${M}-${r}`);if("BoardMoreIdeasRep"===R){let t=e.props,o={total_object_count:t?.story.objects.length,storyType:t?.story.story_type,boardIdStr:t?.item.board_id,slotIndex:t?.slotIndex,story_id:t?.story.id};return(0,_.jsx)(h.Fw,{componentType:C,contextLogData:o,impressionAuxFields:o,impressionType:"BoardMoreIdeasRep",loggingId:M,slotIndex:r,viewParameter:k??72,viewType:G??1,children:({impressionTrackerRef:e})=>(0,_.jsx)(a.xu,{ref:e,children:s})},`carousel-slot-${M}-${r}`)}return s})})]}),14114===C&&(0,_.jsx)(d.Qp,{anchor:en.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},206928:function(e,t,r){r.d(t,{Z:()=>s});var o=r(686659),n=r(667294),a=r(20256),i=r(24246),l=r(785893);let s=({iconType:e,showFab:t,moduleHovered:r,opacity:s=.8})=>{(0,n.useEffect)(()=>{(0,o.Z)("NavigationFab","/app/www/common/Carousel/NavigationFab.tsx")},[]);let d=(0,i.Z)(),[u,c]=(0,n.useState)(!1),p=r??u;return(0,l.jsx)(a.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),opacity:p?1:p===r?0:s,children:(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:+!!t,children:(0,l.jsx)(a.hU,{accessibilityLabel:"forward"===e?d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'):d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),bgColor:"white",dataTestId:"navigation-fab",icon:"forward"===e?"arrow-forward":"arrow-back",size:"md"})})})}},834182:function(e,t,r){r.d(t,{CU:()=>n,GH:()=>l,Iw:()=>i,c3:()=>c,gA:()=>s,tD:()=>a,vF:()=>d,yR:()=>u});let o=({containerWidth:e,contentWidth:t,index:r,slotAndGapWidth:n})=>{let a=r-1,i=a*n;return t-i>=e?i:o({index:a,slotAndGapWidth:n,containerWidth:e,contentWidth:t})},n=({containerWidth:e,gap:t,index:r,numberOfSlides:n,slotWidth:a,paddingX:i})=>{let l=a+t,s=l*n,d=i?e-i:e;if(s<=d)return 0;let u=d/l,c=(({index:e,numberOfSlides:t,slidesShownPerPosition:r})=>t-e-Math.floor(r)<1)({index:r,numberOfSlides:n,slidesShownPerPosition:u})?(({containerWidth:e,contentWidth:t,gap:r,index:n,slidesShownPerPosition:a,slotAndGapWidth:i,paddingX:l=0})=>o({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:i})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:a,slotAndGapWidth:i})-r+l)({containerWidth:d,contentWidth:s,gap:t,index:r,slidesShownPerPosition:u,slotAndGapWidth:l,paddingX:i}):r*l;return c?Math.round(-c):0},a=({containerWidth:e,gap:t,index:r,numberOfSlides:o,slotWidth:a,isHorizontalScrollable:i,paddingX:l,rows:s=1})=>{let d=o/s*a+t*(o-1),u=l?e-l:e;return 0!==e&&(d<=u||(i?d<=u:Math.abs(n({containerWidth:e,gap:t,index:r,numberOfSlides:o,slotWidth:a,paddingX:l}))+t>=d-u))},i=({containerWidth:e,currentIndex:t,gap:r,index:o,numberOfSlides:a,slotWidth:i,paddingX:l})=>{let s=i+r,d=l?e-l:e;if(s*a<=d||0===e)return!0;let u=n({containerWidth:e,gap:r,index:t,numberOfSlides:a,slotWidth:i,paddingX:l}),c=l?d+s+l:e+s;return u+s*o<c},l=(e,t,r)=>e||`${t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${r}`;function s({highResOnly:e,slot:t}){let{images:r}=t;return e?`${r?.["564x"]?.url??""} 1x`:[r?.["474x"]&&`${r["474x"].url??""} 2x`,r?.["736x"]&&`${r["736x"].url??""} 3x`,r?.orig&&`${r.orig.url??""} 4x`].filter(Boolean).join(", ")}let d=(e,t,r,o,n=0,a)=>{let i=a?r-a:r;if(i===t)return-(o*t*1)+(a||0);let l=Math.floor(i-t),s=t+n;return o===e-1?-1*o*s+l+(a||0):-1*o*s+(a||0)},u=(e,t,r,o,n,a,i)=>{if(!e||t<=0)return 0;let l=Math.floor(r*o),s=e?.clientWidth||a*l;return Math.round(((i?t-i:t)+(i?s-i:s)-l/2)/(l+n))-1},c=(e,t,r,o,n,a)=>{e.current&&t&&e.current.scrollBy({left:(r-o)*(n+a),behavior:"smooth"})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/44800-c0ca18b521e24b9b.mjs.map