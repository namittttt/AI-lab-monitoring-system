(self.modernJsonp=self.modernJsonp||[]).push([["78208"],{725775:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useHyperlinkExperiment_pin",selections:[{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"descriptionLinks",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};n.hash="bdd5959de70eab688d40f2293a76638c";let r=n},238896:function(e,t,i){i.d(t,{Z:()=>d}),i(167912);var n,r=i(183e3),a=i(501010),l=i(774838),o=i(739405);let s=(void 0!==n||(n=i(725775)).hash&&"bdd5959de70eab688d40f2293a76638c"!==n.hash&&console.error("The definition of 'useHyperlinkExperiment_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function d(e,t=!1){let i=(0,r.Z)(s,e),n=!!(i?.descriptionLinks&&i.descriptionLinks.length>0),c=t||!n,{isAuthenticated:u}=(0,l.B)(),p=(0,o.HG)(),h=(0,o.ml)(),{checkExperiment:m}=(0,a.Z)(),_=u&&p&&m("dweb_closeup_hyperlink_keywords",{dangerouslySkipActivation:c}).anyEnabled,g=u&&h&&m("mweb_closeup_hyperlink_keywords_auth",{dangerouslySkipActivation:c}).anyEnabled;return{hyperlinkKeywordsEnabled:_||g}}},462214:function(e,t,i){i.d(t,{Z:()=>a});var n=i(465989),r=i(767415);function a(e,t,i,a,l){let o=new URLSearchParams,s=t.reduce((e,t)=>{if(null!=t){let i=function(e){let t;try{t=decodeURIComponent(e)}catch(i){t=e}t.startsWith("http")?t.startsWith("http://")&&(t=t.replace("http://","https://")):t="https://"+t;try{return new URL(t).origin}catch(n){let i=t.match(/^(https?:\/\/[^\/]+)(\/|$)/);if(i&&i.length>1)return i[1];return e}}(t);return e.add(i)}return e},new Set);o.append(n.NR.SOURCE_EVENT_ID,e??"0"),o.append(n.NR.DESTINATION,JSON.stringify([...s])),o.append(n.NR.EXPIRY,i?n.uV:n.ug),o.append(n.NR.PRIORITY,i?n.NR.CLICK_PRIORITY:n.NR.VIEW_PRIORITY),l&&o.append(n.NR.ADVERTISER_ID,l),a&&o.append(n.NR.CAMPAIGN_ID,a),o.append(n.NR.SOURCE_EVENT_TYPE,i?n.bC:n.Cu);try{let{hostname:e}=new URL(window.location.href);"www.pinterest.com"!==e&&o.append(n.NR.HOSTNAME,e)}catch(e){(0,r.nP)("webapp.arapi.generateARASourceEventURL",{sampleRate:.1,tags:{status:"failed",href:window&&window.location&&window.location.href}})}return"https://www.pinterest.com/attribution_source/?"+o.toString()}},863357:function(e,t,i){i.d(t,{Z:()=>l});var n=i(966502),r=i(470967),a=i(900946);function l(e,t){let i=Math.round(1e3*Math.random())+"",l=Math.round(1e3*Math.random())+"";r.t8((0,n.GS)(i),l);let o={token:`${i}-${l}`,url:e,...t&&!t.params?t.queryParams:t?.params&&{pin:t.params.pinId??void 0,isThirdPartyAd:t.params.isThirdPartyAd??void 0,csr:t.params.csrId&&!t.params.pinId?t.params.csrId:void 0,client_tracking_params:t.params.clientTrackingParams,aux_data:t.params.auxData?JSON.stringify(t.params.auxData):void 0}};return`/offsite/?${(0,a.Z)(o)}`}},241649:function(e,t,i){i.d(t,{Z:()=>l});var n=i(681698),r=i(647908),a=i(487038);let l=async({clientTrackingParams:e,href:t,pinId:i,spamCheckCallback:l})=>{let o=await function(e){let t=(0,r.Z)(e),i=a.y8.get("ApiResource",t);if(i)return i;let l=(0,n.Z)(e);return a.y8.add("ApiResource",t,l),l}({url:"/v3/offsite/",data:{check_only:!0,client_tracking_params:e,pin_id:i,url:t}});if(!o.resource_response.error){let{message:e,redirect_status:t,url:i}=o.resource_response.data||{};l({blocked:["blocked","suspicious","porn"].includes(t),message:e,redirectStatus:t,sanitized_url:i})}}},369236:function(e,t,i){i.d(t,{Z:()=>n});function n({isOffsiteUrl:e,event:t}){return!e&&(t.metaKey||t.ctrlKey)}},327670:function(e,t,i){i.d(t,{Z:()=>s});var n=i(505633),r=i(327569),a=i(483635),l=i(49629),o=i(43861);let s=({event:e,onHistoryChange:t,href:i,location:s,navigate:d,target:c})=>{let u=(0,r.Z)(i),p=("string"!=typeof i&&i?i.state:null)??{},h=(0,a.Z)(u);h===o.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===c?(0,n.Z)(u,"blank"===c):d&&h===o.Z.SAME_ORIGIN&&(d((0,l.Z)({url:u}),{state:{from:s,...p}}),t&&t({event:e}))}},711846:function(e,t,i){i.d(t,{Z:()=>a});var n=i(505633),r=i(863357);function a(e,t){(0,n.Z)((0,r.Z)(e,t),!0,t?.features)}},460219:function(e,t,i){i.d(t,{Z:()=>r});var n=i(568710);function r({location:e,pinId:t,surface:i}){return!!i&&!n.ZF.includes(i)||e.pathname.includes(t)}},680391:function(e,t,i){i.d(t,{Z:()=>_});var n=i(667294),r=i(312048),a=i(238896),l=i(241649),o=i(369236),s=i(327670),d=i(460219),c=i(201466),u=i(327569),p=i(748336),h=i(862893),m=i(767415);function _(e){let{clientTrackingParams:t,externalData:i,href:_,onHistoryChange:g,target:f}=e,[k,y]=(0,n.useState)(null),b=(0,r.s0)(),w=(0,r.TH)(),P=(0,u.Z)(_),I=(0,p.Z)({url:P}),{showWarning:S}=(0,h.n)()??{},{pin:Z,surface:A}=i||{},{hyperlinkKeywordsEnabled:v}=(0,a.Z)(null,!0),R=t||Z?.trackingParams,x=(0,c.Z)();return(0,n.useEffect)(()=>{I&&Z&&null===k&&(!Z.promoter||Z.isDownstreamPromotion)&&(0,d.Z)({location:w,pinId:Z.entityId,surface:A})&&(0,l.Z)({clientTrackingParams:R,pinId:Z.entityId,spamCheckCallback:e=>y(e),href:P})},[R,Z,A,P,I,w,k]),({event:e})=>{if(!(0,o.Z)({isOffsiteUrl:I,event:e})){if(v&&"string"==typeof _&&_.startsWith("pinterest://")){let t=_.replace(/^pinterest:\/\//,"/");(0,s.Z)({event:e,href:t,location:w,navigate:b,onHistoryChange:g,target:"blank"===f?"blank":null});return}if(e.preventDefault(),!_||"string"==typeof _&&_.startsWith("#"))return void(0,m.nP)("link_navigation_empty_href",{sampleRate:1,tags:{route:w.pathname,href:_}});I||i?.dangerouslyForceOffsiteUrl?x({auxData:i?.auxData,clientTrackingParams:R,pin:i?.pin&&{attributionSourceId:i.pin.attributionSourceId,campaignId:i.pin.campaignId,isPromoted:i.pin.isPromoted,pinPromotionId:i.pin.pinPromotionId,isThirdPartyAd:i.pin.isThirdPartyAd,advertiserId:i.pin.advertiserId,destinationUrl:i.pin.destinationUrl,link:i.pin.link,domain:i.pin.domain},pinId:i?.pin?.entityId,queryParams:i?.queryParams,showWarning:S,spamCheck:k,url:P}):(0,s.Z)({event:e,href:_,location:w,navigate:b,onHistoryChange:g,target:"blank"===f?"blank":null})}}}},201466:function(e,t,i){i.d(t,{Z:()=>p});var n=i(430037),r=i(465989),a=i(462214),l=i(343669),o=i(505633),s=i(230201),d=i(863357),c=i(711846),u=i(594774);let p=e=>{let t=(()=>{let{logContextEvent:e}=(0,s.u)();return({attributionSourceId:t,auxData:i,campaignId:o,clientTrackingParams:s,href:c,isPromoted:u,pinId:p,pinPromotionId:h,isThirdPartyAd:m,advertiserId:_,destinationUrl:g,link:f,domain:k})=>{if(!u)return!1;let y=(0,n.Z)(),b={params:{pinId:p,csrId:null,clientTrackingParams:s,auxData:i,isThirdPartyAd:m}},w=(0,d.Z)(c,b);y?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&u&&c===g&&(fetch((0,d.Z)(g,b),{redirect:"manual"}),w=g);let P=y?.userAgent.browserName??"",I=y?.experimentsClient.checkExperiment("aid_exp_ara_shutdown_source_registration").anyEnabled;if((0,l.G6)(P)){let i=y?.userAgent.browserVersion?y.userAgent.browserVersion:"0.0",n=parseFloat(i.split(".")[0]+"."+i.split(".")[1]);if(t&&n>=14.1){var S=w;let i=document.createElement("a");return i.setAttribute("href",S),i.setAttribute("target","_blank"),i.setAttribute("rel","noopener nofollow noreferrer"),i.style.cursor="pointer",i.style.display="block",i.setAttribute(r.$N.ATTRIBUTION_SOURCE_ID,t),i.setAttribute(r.$N.ATTRIBUTE_DESTINATION,c),i.setAttribute(r.$N.ATTRIBUTE_ON,c),i.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:o||"",is_pcm:!0,attribution_source_id:t,page_url:c}}),!0}}else if((0,l.i7)(P)&&!I&&window.document.featurePolicy?.allowsFeature("attribution-reporting")){var Z=w;let i=(0,a.Z)(t,[g,f,k],!0,o,_),n=document.createElement("a");return n.setAttribute("href",Z),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(r.NR.SOURCE,i),n.click(),e({event_type:101,clientTrackingParams:s,object_id_str:p||"",aux_data:{pin_id:p||"",click_measurement_ppid:h||"",click_measurement_campaign_id:o||"",is_arapi:!0,attribution_source_id:t,page_url:c}}),!0}return!1}})();return({auxData:i,clientTrackingParams:r,pin:a,pinId:l,queryParams:s,showWarning:p,spamCheck:h,url:m})=>{if("undefined"!=typeof window&&window.Windows)return void(0,u.Z)(m,{clientTrackingParams:r,pinId:l,hasPin:!!a,auxData:i,isThirdPartyAd:a?.isThirdPartyAd});if(!a&&!e?.isFromClickthroughLink)return void(0,c.Z)(m,s?{queryParams:s}:{params:{pinId:l}});if(h?.blocked)return void p?.(h);if(a&&t({attributionSourceId:a.attributionSourceId,auxData:i,campaignId:a.campaignId?String(a.campaignId):null,clientTrackingParams:r,href:m,isPromoted:a.isPromoted,pinId:l,pinPromotionId:a.pinPromotionId?String(a.pinPromotionId):null,isThirdPartyAd:a.isThirdPartyAd,advertiserId:a.advertiserId?a.advertiserId:null,destinationUrl:a.destinationUrl,link:a.link,domain:a.domain}))return;let _={params:{clientTrackingParams:r,auxData:i,pinId:l,isThirdPartyAd:a?.isThirdPartyAd}},g=(0,n.Z)();if(g?.experimentsClient.checkExperiment("web_ad_destination_url").anyEnabled&&a?.isPromoted&&m===a?.destinationUrl){fetch((0,d.Z)(m,_),{redirect:"manual"}),(0,o.Z)(m,!0);return}(0,c.Z)(m,_)}}},594774:function(e,t,i){i.d(t,{Z:()=>a});var n=i(47755),r=i(711846);function a(e,t){let{auxData:i,clientTrackingParams:a,hasPin:l,pinId:o,isThirdPartyAd:s}=t||{},d={pin_id:o||void 0,check_only:!0,client_tracking_params:l&&a||void 0,url:e,aux_data:JSON.stringify(i)};s&&(d.third_party_ad=o||void 0,delete d.pin_id),(0,n.Z)({url:"/v3/offsite/",data:d}).then(t=>{if(t&&t.resource_response&&!t.resource_response.error){let{resource_response:e}=t,{redirect_status:i,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(i||"")){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){let e=new window.Windows.Foundation.Uri(n||"");window.Windows.System.Launcher.launchUriAsync(e)}return}}(0,r.Z)(e,{params:l?{pinId:o,clientTrackingParams:a,auxData:i,isThirdPartyAd:s}:{pinId:o}})})}},568710:function(e,t,i){i.d(t,{Wv:()=>r,ZF:()=>n,zI:()=>a,zl:()=>l});let n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],a=[...r,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ShoppingTool","ProductPinRetrieval"],l=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton"]},862893:function(e,t,i){i.d(t,{n:()=>g,Z:()=>f});var n=i(686659),r=i(667294),a=i(213491),l=i(608575),o=i(20256),s=i(465784),d=i(24246),c=i(216975),u=i(785893);let p=()=>{let e=(0,d.Z)(),{dismissWarning:t}=g()??{};return(0,u.jsx)(o.xu,{paddingX:3,children:(0,u.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:t,text:e._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},h=()=>{let e=(0,d.Z)();return(0,u.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,u.jsx)(o.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/community-guidelines#section-spam",target:"blank",underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},m=({message:e,sanitized_url:t})=>{(0,r.useEffect)(()=>{(0,n.Z)("SpammyClickthroughWarningModal","/app/www/SpammyClickthrough/SpammyClickthroughWarningModal.tsx")},[]);let i=(0,d.Z)(),{dismissWarning:a}=g()??{};return(0,u.jsx)(s.ZP,{accessibilityModalLabel:i._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),footer:(0,u.jsx)(p,{}),heading:i._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),onDismiss:a,children:(0,u.jsxs)(o.xu,{padding:6,children:[(0,u.jsx)(o.xv,{children:(0,c.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,u.jsx)(h,{},"learnMoreLink")})}),(0,u.jsxs)(o.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,u.jsx)(o.xu,{marginEnd:3,children:(0,u.jsx)(o.JO,{accessibilityLabel:i._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,u.jsx)(o.xv,{inline:!0,lineClamp:1,weight:"bold",children:l.parse(t).hostname})]})]})})},{Provider:_,getMaybe:g}=(0,a.Z)("SpammyClickthrough");function f({children:e}){(0,r.useEffect)(()=>{(0,n.Z)("SpammyClickthroughProvider","/app/www/SpammyClickthrough/SpammyClickthroughProvider.tsx")},[]);let[t,i]=(0,r.useState)(null),a=(0,r.useCallback)(()=>{i(null)},[i]),l=(0,r.useCallback)(e=>{i(e)},[i]),o=(0,r.useMemo)(()=>({dismissWarning:a,showWarning:l}),[a,l]);return(0,u.jsxs)(_,{value:o,children:[t&&(0,u.jsx)(m,{...t}),e]})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/78208-632be1b4740f7b78.mjs.map