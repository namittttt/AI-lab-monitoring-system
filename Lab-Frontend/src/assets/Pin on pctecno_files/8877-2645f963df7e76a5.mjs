(self.modernJsonp=self.modernJsonp||[]).push([["8877"],{53713:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};o.hash="0e2c441822700a6145ea7cd142c0425b";let a=o},943751:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};o.hash="35b139c2e951baaa6624b30e45f913ce";let a=o},413044:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};o.hash="8d95294efe15498023c69669c6a41e71";let a=o},954881:function(e,t,r){r.r(t),r.d(t,{default:()=>a});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};o.hash="f459445ee8d1ea0db022e490ef5a2e80";let a=o},832333:function(e,t,r){r.d(t,{Z:()=>u});var o=r(686659),a=r(667294),n=r(20256),i=r(785893);function l(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:t,imgUrl:r}){let[o,n]=(0,a.useState)({height:0,loaded:!1,width:0}),{height:i,loaded:s,width:d}=o;if((0,a.useEffect)(()=>{let e=new Image;e.onload=()=>{n({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=r},[r]),!e||!t||!i||!d)return{loaded:s,position:"center center"};let c=d-t.width,u=i-t.height,h=c>0?l(t.x/c):"center",p=u>0?l(t.y/u):"center";return{loaded:s,position:`${h} ${p}`}}function d(e){let{loaded:t,position:r}=s(e),{imgUrl:o}=e,a={backgroundImage:`url(${o})`,backgroundPosition:r,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,i.jsx)(n.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:t&&(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:a},"data-test-id":"cover-image",children:(0,i.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:t,position:r}=s(e),{alt:o,color:a,imgUrl:l}=e;return(0,i.jsx)(n.zd,{height:"100%",width:"100%",children:t&&(0,i.jsx)("img",{alt:o||"",src:l,style:{backgroundColor:a||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:r,width:"100%"}})})}function u(e){(0,a.useEffect)(()=>{(0,o.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:t}=e;return t?(0,i.jsx)(c,{...e}):(0,i.jsx)(d,{...e})}},748261:function(e,t,r){r.d(t,{Z:()=>j});var o,a,n=r(686659),i=r(667294);r(244311);var l=r(20256),s=r(183e3),d=r(24246),c=r(78835),u=r(501010),h=r(774838),p=r(739405),g=r(594502),f=r(464094),b=r(832333),y=r(785893);function m({backgroundColor:e="darkGray",iconColor:t="inverse",iconSize:r,privacy:o,size:a=20}){(0,i.useEffect)(()=>{(0,n.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.Z)();return(0,y.jsx)(l.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:a,justifyContent:"center",rounding:"circle",width:a,children:(0,y.jsx)(l.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:t,icon:"secret"===o?"lock":"security",size:r??a/2})})}var x=r(227866),_=r(235623);let v=(void 0!==o||(o=r(53713)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==o.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),w=(void 0!==a||(a=r(943751)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==a.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a),S="100%";function j(e){(0,i.useEffect)(()=>{(0,n.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let t=(0,d.Z)(),{boardKey:r,canEdit:o,containerBackgroundColor:a="white",coverPhoto:j,coverPinKey:B,fullSize:I,hideSecretBoardIcon:F,images:z,isActive:C,isHomePageBoards:P,isProtected:k,isSecret:Z,layout:A,onEditClick:E,renderAsImage:D,showSensitivityScreen:T}=e,R=(0,p.HG)(),{isRTL:K,isAuthenticated:G}=(0,h.B)(),O=(0,s.Z)(v,r),H=(0,s.Z)(w,B),W=(0,i.useRef)(null),U=R&&G,{checkExperiment:J}=(0,u.Z)(),[L,M]=(0,i.useState)(!1);(0,i.useEffect)(()=>{C&&U&&O&&!Z&&!L&&M(J("ce_dweb_board_preview_share_button").anyEnabled)},[C,U,O,Z,L,J]);let $=(0,i.useRef)(void 0);(0,i.useEffect)(()=>{C?$.current&&(clearTimeout($.current),$.current=void 0):$.current||($.current=window.setTimeout(()=>{$.current=void 0,C||M(!1)},200))},[C]),(0,i.useEffect)(()=>()=>{$.current&&clearTimeout($.current)},[]);let q=z[0],N=!j&&z[0]?.name||t._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),X=[,,].fill(0),Q=new l.Ry(1),V="square"===A?f.M0:f.z9,Y="square"===A?f.FP:f.FC,ee=q?.url?(0,y.jsx)(l.Ee,{alt:N,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:q.url}):(0,y.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"}),et=T?{filter:"blur(20px)"}:{};return(0,y.jsxs)(l.zd,{height:I?"100%":void 0,rounding:4,width:"100%",children:[(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,y.jsx)(l.sg,{span:8,children:(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:et},height:I?"100%":void 0,position:"relative",children:(0,y.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:S}},overflow:"hidden",width:"100%",children:(0,y.jsxs)(l.xu,{ref:W,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:P?"#FFDFE9":a,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(k||Z)&&!F&&(0,y.jsx)(l.xu,{left:!K,margin:2,position:"absolute",right:K,top:!0,zIndex:Q,children:(0,y.jsx)(m,{backgroundColor:"default",iconColor:"default",privacy:Z?"secret":"protected",size:U?32:24})}),j?.url?(0,y.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,y.jsx)(b.Z,{customCover:j.isCustom,height:Y,imgPos:H?function(e){let{crop:t,size:r}=e||{};if(Array.isArray(t)&&Array.isArray(r))return{x:t[0]||0,y:t[1]||0,width:r[0]||0,height:r[1]||0}}(H):j.position||{width:0,height:0,x:0,y:0},imgUrl:H?.imageUrl??(j.url||""),renderAsImage:D,width:Math.floor(V/3*2)})}):ee]})})})}),(0,y.jsx)(l.sg,{span:4,children:(0,y.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:et},height:"100%",children:[(o||L)&&(0,y.jsxs)(l.xu,{bottom:!0,display:L?"flex":void 0,left:K,margin:2,opacity:+!!C,position:"absolute",right:!K,zIndex:Q,children:[o&&(0,y.jsx)(l.iP,{onTap:({event:e})=>E?.(e),children:(0,y.jsx)(l.hU,{accessibilityLabel:t._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})}),L&&(0,y.jsx)(l.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,y.jsx)(l.xu,{marginStart:1,children:(0,y.jsx)(_.Z,{boardKey:O,disableSelectedStyle:!0,handleCreatePincode:()=>{},iconColor:"darkGray",isShowShareIcon:!0,size:"sm"})})})]}),X.map((e,t)=>{let r=j?z[t]:z[t+1];return(0,y.jsx)(l.xu,{height:I?"50%":void 0,position:"relative",children:(0,y.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:S}},overflow:"hidden",width:"100%",children:(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:P?"#FFDFE9":a,borderStyle:"solid",borderWidth:0===t?1:"0 1px 1px 1px",borderRadius:0===t?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:r?.url?(0,y.jsx)(l.zd,{height:"100%",wash:!0,width:"100%",children:(0,y.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:r.url})}):(0,y.jsx)(l.xu,{color:"secondary",height:"100%",width:"100%"})})})},t)})]})}),T&&(0,y.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,y.jsx)(l.X6,{align:"center",color:"light",size:"400",children:t._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,y.jsx)(g.Z,{visibility:C?"visible":"none",children:(0,y.jsx)(x.Z,{additionalStyles:{backgroundColor:c.Dv.LEGO_WASH}})})]})}},395878:function(e,t,r){r.d(t,{Z:()=>f});var o,a=r(686659),n=r(667294);r(167912);var i=r(20256),l=r(943152),s=r(183e3),d=r(24246),c=r(36351),u=r(500602),h=r(785893);let p=(void 0!==o||(o=r(954881)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==o.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);class g extends n.Component{constructor(...e){var t,r,o;super(...e),r={flyoutOpen:!1},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?o:o+"")in this?Object.defineProperty(this,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[t]=r}render(){let{board:e,bgColor:t="white",children:r,disableSelectedStyle:o,iconColor:a="subtle",onCreatePincode:l,showTooltip:s,size:d="lg"}=this.props,{flyoutOpen:p}=this.state,g={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},f=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},b=r&&r({active:p,onClick:()=>f()})||(0,h.jsx)(i.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:a,onClick:({event:e})=>f(e),selected:!o&&p,size:d,tooltip:s?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,h.jsxs)(n.Fragment,{children:[(0,h.jsx)(i.xu,{ref:e=>{this.anchor=e},children:b}),this.state.flyoutOpen&&(0,h.jsx)(i.mh,{zIndex:u.m6,children:(0,h.jsx)(i.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>f(),positionRelativeToAnchor:!1,size:"flexible",children:(0,h.jsx)(c.Z,{component:13216,onCreatePincodeClick:l?()=>{f(),l()}:void 0,onHide:()=>f(),sendType:"board",sharedObject:g,viewType:5})})})]})}componentDidMount(){(0,a.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let f=e=>{(0,n.useEffect)(()=>{(0,a.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let t=(0,d.Z)(),r=(0,l.Z)(),o=(0,s.Z)(p,e.boardKey);return(0,h.jsx)(g,{...e,board:o,i18n:t,requireAuth:r,sendBoardButtonRef:e.sendBoardButtonRef})}},235623:function(e,t,r){r.d(t,{Z:()=>b});var o,a=r(686659),n=r(667294);r(244311);var i=r(20256),l=r(230201),s=r(943152),d=r(342462),c=r(183e3),u=r(24246),h=r(395878),p=r(554365),g=r(785893);let f=(void 0!==o||(o=r(413044)).hash&&"8d95294efe15498023c69669c6a41e71"!==o.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function b({boardKey:e,handleCreatePincode:t,iconColor:r,isShowShareIcon:o,showTooltip:b,disableSelectedStyle:y,size:m="lg"}){(0,n.useEffect)(()=>{(0,a.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:x}=(0,l.u)(),_=(0,u.Z)(),v=(0,s.Z)(),w=(0,n.useRef)(null),S=(0,c.Z)(f,e),j=_._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board');return(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(h.Z,{boardKey:S,disableSelectedStyle:y,iconColor:r,onCreatePincode:t,onOpen:()=>{if(v)return void v();(0,p.Z)(x)},sendBoardButtonRef:w,showTooltip:b,size:m,children:o?void 0:({onClick:e})=>(0,g.jsx)(i.xu,{"data-test-id":"board-share-button-auth",children:(0,g.jsx)(i.zx,{ref:w,color:"gray",fullWidth:!0,onClick:e,size:m,text:j})})}),(0,g.jsx)(d.N,{anchors:{3018:w.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},554365:function(e,t,r){r.d(t,{Z:()=>o});function o(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/8877-2645f963df7e76a5.mjs.map