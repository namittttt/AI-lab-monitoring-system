(self.modernJsonp=self.modernJsonp||[]).push([["24801"],{17314:function(e,t,s){s.d(t,{Z:()=>c});var n,i,o=s(813653),a=s(831423),l=0,r=0;let c=function(e,t,s){var c=t&&s||0,u=t||Array(16),d=(e=e||{}).node||n,_=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==_){var p=e.random||(e.rng||o.Z)();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==_&&(_=i=(p[6]<<8|p[7])&16383)}var h=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:r+1,g=h-l+(m-r)/1e4;if(g<0&&void 0===e.clockseq&&(_=_+1&16383),(g<0||h>l)&&void 0===e.nsecs&&(m=0),m>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=h,r=m,i=_;var f=((0xfffffff&(h+=122192928e5))*1e4+m)%0x100000000;u[c++]=f>>>24&255,u[c++]=f>>>16&255,u[c++]=f>>>8&255,u[c++]=255&f;var b=h/0x100000000*1e4&0xfffffff;u[c++]=b>>>8&255,u[c++]=255&b,u[c++]=b>>>24&15|16,u[c++]=b>>>16&255,u[c++]=_>>>8|128,u[c++]=255&_;for(var y=0;y<6;++y)u[c+y]=d[y];return t||(0,a.Z)(u)}},822794:function(e,t,s){s.d(t,{Z:()=>i});var n=s(994193);async function i(e,t){let{api:s}=(0,n.t)(),i=(0,n.u)();try{i.attempt("setMultipleBizEntityPropertiesFullUpdate",t);let n=new Date().getTime(),o=await s.put("/ads/v4/business_entities",e,!1);return i.success("setMultipleBizEntityPropertiesFullUpdate",t),i.latency("setMultipleBizEntityPropertiesFullUpdate",new Date().getTime()-n,t),o}catch(e){throw i.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}}(0,n.u)()},71697:function(e,t,s){var n,i;s.r(t),s.d(t,{default:()=>a});let o={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};o.hash="d6f840c748407c7aa62123d5beac3239";let a=o},99643:function(e,t,s){s.d(t,{b:()=>r,m:()=>l});var n=s(667294),i=s(213491),o=s(785893);let{Provider:a,get:l}=(0,i.Z)("LensContext");function r({children:e}){let[t,s]=(0,n.useState)(),[i,l]=(0,n.useState)([]),[r,c]=(0,n.useState)(),[u,d]=(0,n.useState)(),[_,p]=(0,n.useState)(!1);return(0,o.jsx)(a,{value:{heroImageUrl:t,historyData:i,image:r,imageData:u,isLensModalOpen:_,setHeroImageUrl:s,setHistoryData:l,setImage:c,setImageData:d,setIsLensModalOpen:p},children:e})}},537391:function(e,t,s){s.d(t,{H:()=>b,g:()=>f});var n=s(667294),i=s(65711),o=s(69406),a=s(684645),l=s(505633),r=s(719301),c=s(457223),u=s(213491),d=s(47755),_=s(935059),p=s(721703),h=s(647587),m=s(785893);let{Provider:g,get:f}=(0,u.Z)("BusinessHierarchyContext"),b=({children:e})=>{let[t,s]=(0,n.useState)([]),[u,f]=(0,n.useState)([]),[b,y]=(0,n.useState)(!1),[v,x]=(0,n.useState)(!1),[w,P]=(0,n.useState)(null),[A,C]=(0,n.useState)(null),[k,S]=(0,n.useState)([]),[Z,E]=(0,n.useState)({}),j=(0,h.Z)(),T=(0,n.useRef)(j),I=(0,_.Z)(),z=(0,i.Z)(),L=(0,n.useRef)({}),B=(0,n.useCallback)((e,t)=>{let s;t===o.Oz.BUSINESS_HIERARCHY?s=(0,c.Z)(r.Q6.DASHBOARD,"","",e):t===o.Oz.BUSINESS_ACCOUNT&&(s=(0,c.Z)(r.Q6.DASHBOARD,e));let n=(0,p.Z)({site:"www",path:s});(0,l.Z)(n)},[]),R=I.isAuth,{id:M="",username:N="",email:D="",fullName:O="",imageSmallUrl:U="",imageMediumUrl:H="",isAuth:F}=I.isAuth?I:{id:"",username:"",email:"",fullName:"",imageSmallUrl:"",imageMediumUrl:""},V=(0,n.useCallback)(async e=>{if(!z)return[];if(x(!0),L.current[e])return x(!1),L.current[e];{let{data:t}=(await (0,d.Z)({url:"/ads/v4/business_access/business_hierarchies",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:e}})).resource_response,s=t&&t.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=o.Oz.USER_ACCOUNT),e))),e))||[],n=/^\d+$/.test(e),i=RegExp(e.toLowerCase(),"g"),l=[];A||C(l=await T.current());let r=(A??l).filter(t=>n?t.id.includes(e):t.user.full_name.toLowerCase().match(i)).map(a.IT),c=[...s.map(e=>e.id??""),...r.map(e=>e.id)];return R&&(n?(M||"").includes(e):(O||"").toLowerCase().match(i))&&c.push(M),L.current[e]=c,x(!1),c}},[z,T,R,M,O,A]),G=async(e,t)=>{if((!F||!z||A)&&!e)return;y(!0);let n=[];try{let{data:e}=(await (0,d.Z)({url:"/ads/v4/business_access/business_hierarchies"})).resource_response;n=e&&e.map(e=>(e.children&&(e.children=e.children.map(e=>(e.user&&"entity_type"in e.user&&(e.user.entity_type=o.Oz.USER_ACCOUNT),e))),e))||[],s(n)}catch{s([])}try{let s=[];(!A||e)&&(s=await T.current(),f(s.filter(e=>t&&A&&!A.some(({id:t})=>t===e.id)).map(e=>e.user.full_name)),C(s));let i=e?s:A??s;S(i.map(a.IT)),E(i.reduce((e,t)=>(e[t.id]=t.business_roles||[],e),{})),P((0,a.WP)({id:M,username:N,email:D,fullName:O,imageSmallUrl:U,imageMediumUrl:H})),L.current[""]=[...n.map(e=>e.id),...i.map(a.IT).map(e=>e.id),M],y(!1)}catch{y(!1)}},$=(0,n.useCallback)(G,[M,N,D,O,U,H,F,z,A]),W=(0,n.useCallback)(e=>t.some(t=>t.id===e||"children"in t&&t.children.some(t=>t.id===e||t.user.id===e)),[t]),q=(0,n.useCallback)(e=>t.map(e=>"BUSINESS_HIERARCHY"===e.entity_type?e:null).find(t=>!!t&&t.children.some(t=>t.user.id===e)),[t]),X=(0,n.useCallback)(()=>{f([])},[f]),Y=(0,n.useMemo)(()=>({businessHierarchies:[...w?.id&&!W(w.id)?[w]:[],...t,...k.filter(e=>!W(e.id))],switchAccount:B,searchAccounts:V,loadingAccounts:b,isSearchingAccounts:v,fetchData:$,getParentHierarchyForIdIfExists:q,viewerRolesOfEachEmployer:Z,tooltipEmployers:u,hideTooltip:X}),[t,B,V,k,b,v,w,$,W,q,Z,u,X]);return(0,m.jsx)(g,{value:Y,children:e})}},310008:function(e,t,s){s.d(t,{r:()=>b,Z:()=>f});var n=s(667294),i=s(731517),o=s(822794),a=s(47755),l=s(994193);let r=async(e,t)=>{let{statsLog:s}=(0,l.t)();try{let n=new Date,i=await (0,a.Z)({url:"/ads/v4/business_entities",data:e,method:"POST"}),o=new Date;return s&&(s.success("getMultipleBizEntityProperties",t),s.latency("getMultipleBizEntityProperties",o.getTime()-n.getTime(),t)),i.resource_response.data}catch(e){throw s&&s.failure("getMultipleBizEntityProperties",t),e}},c=async(e,t,s="PUT")=>{let{statsLog:n}=(0,l.t)();try{let i=new Date,o=await (0,a.Z)({url:"/ads/v4/business_entities",data:e,method:s}),l=new Date;return n&&(n.success("setMultipleBizEntityPropertiesFullUpdate",t),n.latency("setMultipleBizEntityPropertiesFullUpdate",l.getTime()-i.getTime(),t)),o.resource_response.data}catch(e){throw n&&n.failure("setMultipleBizEntityPropertiesFullUpdate",t),e}};var u=s(213491),d=s(236269),_=s(935059),p=s(501010),h=s(767415),m=s(785893);let{Provider:g,get:f}=(0,u.Z)("CustomShortcutsContext"),b=({children:e})=>{let t=(0,_.Z)(),s=t.isAuth?t.id:void 0,a=t.isAuth&&t.isPartner,l=t.isAuth&&t.isLimitedLogin,u=(0,p.Z)(),[f,b]=(0,n.useState)({}),y=(0,n.useCallback)(async()=>{let{anyEnabled:e}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context"),t=Object.freeze(["business.pinterest.com","create.pinterest.com","about.pinterest.com","support.pinterest.com","developers.pinterest.com","newsroom.pinterest.com"]).every(e=>!window.location.href?.includes(e));if(s&&a&&!l&&t)try{let t;t=e?r:i.Z;let n=(await t([{entity_id:s,entity_type:"BIZ_USER",property_keys:["NAVBAR_CONFIG"]}]))[0];if(!(n&&n.properties))return;let o=n.properties.NAVBAR_CONFIG;b(o?.customShortcuts||{})}catch(e){(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.get_error",{sampleRate:1,tags:{entity_id:s,error:(0,d.Z)(e,"message")}})}},[s,a,l,u]),v=(0,n.useCallback)(async e=>{let{anyEnabled:t}=u.checkExperiment("aid_exp_use_fetch_api_in_custom_shortcut_context");if(!s)return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:s,error:"Auth_Error"}}),{error:"Auth_Error"};try{let n;n=t?c:o.Z;return await n([{entity_id:s,entity_type:"BIZ_USER",properties:{NAVBAR_CONFIG:{customShortcuts:e}}}]),y(),{error:null}}catch(e){return(0,h.nP)("pro_partner_header.dynamic_menu.shortcuts.upsert_error",{sampleRate:1,tags:{entity_id:s,error:(0,d.Z)(e,"message")}}),{error:"Upsert_Error"}}},[s,u,y]);(0,n.useEffect)(()=>{y()},[y]);let x=(0,n.useMemo)(()=>({shortcuts:f,upsertShortcuts:v}),[f,v]);return(0,m.jsx)(g,{value:x,children:e})}},363061:function(e,t,s){s.d(t,{Z:()=>n});function n(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}},967574:function(e,t,s){s.d(t,{Z:()=>I});var n=s(686659),i=s(667294),o=s(20256),a=s(230201),l=s(943152),r=s(935059),c=s(67077),u=s(565758),d=s(108930),_=s(104999),p=s(660613),h=s(478559),m=s(281183),g=s(114870),f=s(24246),b=s(236906),y=s(968960),v=s(661376),x=s(247387),w=s(145626),P=s(402191),A=s(505633),C=s(504644),k=s(792559),S=s(696749),Z=s(484125);let E=["chrome","windows"];var j=s(841353),T=s(785893);function I({onDismiss:e,handleFocus:t,advertiser:s,showAdsSupportOption:I,isWwwSite:z,isImportContentEnabled:L}){(0,i.useEffect)(()=>{(0,n.Z)("HeaderAccountsOptionsDropdown","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsDropdown.tsx")},[]);let B=(0,r.Z)(),R=(0,f.Z)(),{logContextEvent:M}=(0,a.u)(),{isLoaded:N,data:D}=(0,v.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),{isLoaded:O,data:U}=(0,v.Z)({name:"ApiResource",options:{url:"/v3/users/settings/"}}),{content_claiming_access:H=!1}=D||{},{handleShowReportBugModal:F}=(0,j.P)(),V=function(){let e=(0,r.Z)(),t=(0,_.Z)(),s=(0,h.aU)();return function(){t({event_type:101,component:8,element:8005}),(0,m.lv)()>1?(e.isAuth&&((0,p.RD)(e.id),(0,p.CV)("utils.user_deleted",{deleted_user:e.id})),s({redirectUrl:"/",source:"user_header",localStorageItems:(0,m.Q)()})):((0,p.CV)("utils.group_deleted"),s({redirectUrl:"/",source:"user_header"}))}}(),G=function(){let e=(0,f.Z)(),t=(0,i.useContext)(Z.Z),s=(0,C.kM)(window,t),n=(0,_.Z)(),o=e=>{n({component:247,element:e,event_type:101})},a=(0,S.Z)(e._('Install the {{appName}} app', 'header.accountsOptionsMenu.installApp', 'menu item linking app that can be installed'),{appName:(0,k.Z)(s)});return E.includes(s)?{onClick:()=>{if("windows"===s)o(11409),(0,A.Z)(`${x.TMP}&cid=flyout_cta`,!0);else if("chrome"===s&&t){let e=t();e&&(o(11410),e.prompt())}},text:a}:null}(),$=B.isAuth&&!!B.isEmployee,W=!!B.isAuth&&B.isPartner,q=B.isAuth&&!!B.teenSafetyOptionsUrl,X=!!B.isAuth&&!B.isLimitedLogin,Y=B.isAuth?B.id:void 0,K=(0,l.Z)(),{fetchedUserAccounts:J,handleAccountRepClick:Q,handleAddSecondaryAccount:ee,handleClick:et,handleLinkedAccountSwitch:es,handleUnlockBusinessTools:en,isLoading:ei,showUnlockBusinessTools:eo}=(0,g.Z)(e,z),ea=(0,d.Z)(),el=J.filter(e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness),er=J.find(e=>e.id===(B.isAuth&&B.id)),ec=B.isAuth&&B.partner?.is_linked_business;ec&&(el=el.sort(e=>er?.owners?.some(t=>t.id===e.id)?-1:1));let eu=ei&&(0,T.jsx)(b.Z,{}),ed=er?.businesses?.length?er.businesses.map(e=>Y!==e.id&&(0,T.jsx)(o.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>es(e,er.id),option:ea.lbaAccountSwitch(e),children:(0,T.jsx)(u.Z,{user:e},e.id)},e.id)):null,e_=el.map(e=>e.id!==Y?[(0,T.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>Q(e),option:ea.parentAccount(e),children:(0,T.jsx)(u.Z,{isCurrentAccount:Y===e.id,user:e})},e.id),...e?.businesses?.length?e.businesses.map(t=>Y!==t.id&&(0,T.jsx)(o.Lt.Item,{accessibilityRole:"unset",dataTestId:"lba-account-switch-option",onSelect:()=>es(t,e.id),option:ea.businessAccount(t),children:(0,T.jsx)(u.Z,{user:t},t.id)},t.id)):[]]:null),ep=z&&(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:ee,option:ea.addAccount}),eh=(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-add-account",href:"/add-account",onClick:ee,option:ea.addAccount}),em=eo&&(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-business-account",href:B.isAuth?"https://www.pinterest.com/convert-business":`${x.KDH}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`,onClick:en,option:ea.convertToBusiness}),eg=(0,T.jsx)(o.Lt.Link,{href:x.zXf,onClick:({event:e})=>{e.preventDefault(),et(15983),t()},option:ea.accountClaiming}),ef=L?(0,T.jsx)(o.Lt.Link,{href:x.RMT,onClick:({event:e})=>{e.preventDefault(),et(18167),t()},option:ea.importContent}):null,eb=N&&H&&(0,T.jsx)(o.Lt.Link,{href:"/content-claiming",onClick:()=>{et(13606),t()},option:ea.contentClaiming}),ey=$&&(0,T.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{F(),et(13607),e()},option:ea.reportBug}),ev=(0,T.jsx)(o.Lt.Link,{accessibilityRole:"unset",dataTestId:"header-menu-options-settings",href:X?`https://${(0,c.Z)()}/settings`:"",onClick:({event:e})=>{if(K){e.stopPropagation(),K();return}et(247),t()},option:ea.settings}),ex=(0,T.jsx)(o.Lt.Link,{href:X?"/edit":"",onClick:({event:e})=>{if(K){e.stopPropagation(),K();return}et(11345),t()},option:ea.homefeedTuner},"header-menu-options-homefeed-tuner"),ew=!W&&G?(0,T.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>{G.onClick(),e()},option:ea.installApp(G.text)}):null,eP=(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-privacy",href:X?`https://${(0,c.Z)()}/settings/privacy`:"",onClick:({event:e})=>{if(K){e.stopPropagation(),K();return}et(13334),t()},option:ea.settingsPrivacy}),eA=(0,T.jsx)(o.Lt.Link,{href:X?"/reports-and-violations":"",onClick:({event:e})=>{if(K){e.stopPropagation(),K();return}et(14618),t()},option:ea.reportsAndViolationsCenter}),eC=q?(0,T.jsx)(o.Lt.Link,{href:B.teenSafetyOptionsUrl??"",iconEnd:"visit",onClick:()=>{M({event_type:101,element:14321}),et(14321),t()},option:ea.teenSafetyResources}):null,ek=W&&I&&(!s||(0,y.Z)((s||{}).actions||[],7))&&(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-ads-support",href:x.JbB,iconEnd:"visit",onClick:()=>{et(10106),t()},option:ea.adsSupport}),eS=W?(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",href:x.W32+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",iconEnd:"visit",onClick:()=>{et(11345),t()},option:ea.requestFeature}):null,eZ=(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-help",href:`${x.gOE}?source=gear_menu_web`,iconEnd:"visit",onClick:()=>{et(8002),t()},option:ea.getHelp}),eE=(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-tos",href:x.U5h,iconEnd:"visit",onClick:()=>{et(61),t()},option:ea.termsOfService}),ej=(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-policy",href:x.R_9,iconEnd:"visit",onClick:()=>{et(8004),t()},option:ea.privacyPolicy}),eT=(0,T.jsx)(o.Lt.Link,{dataTestId:"header-menu-options-beta-tester",href:"https://www.pinterest.com/public-beta/",iconEnd:"visit",onClick:()=>{et(13613),t()},option:ea.betaTester},"header-menu-options-beta-tester"),eI=(0,T.jsx)(o.Lt.Item,{accessibilityRole:"unset",dataTestId:"header-menu-options-logout",onSelect:V,option:ea.logOut}),ez=(0,T.jsxs)(o.Lt.Section,{label:R._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[eu,ed,e_,O&&!U?.opt_in_private_account&&ep,eI]},"your-accounts"),eL=(0,T.jsxs)(o.Lt.Section,{label:R._('Your accounts', 'SwitchAccountsList.YourAccountsTitle', 'Title for the list of user\'s accounts available for switching on Switch Account Page'),children:[eu,ed,e_,O&&!U?.opt_in_private_account&&eh,ev]},"your-accounts"),eB=(0,T.jsxs)(o.Lt.Section,{label:R._('Content', 'header.accountsOptionsMenu.contentHeader', 'header for content section of menu'),children:[ef,eb,eg,eA,ew]}),eR=(0,T.jsxs)(o.Lt.Section,{label:R._('Help', 'header.accountsOptionsMenu.helpHeader', 'header for help section of menu'),children:[eC,eZ,ek,eS,ey]}),eM=(0,T.jsxs)(o.Lt.Section,{label:R._('Privacy', 'header.accountsOptionsMenu.privacyHeader', 'header for privacy section of menu'),children:[ej,eP]}),eN=(0,T.jsxs)(o.Lt.Section,{label:"",children:[eE,eI]});return{currentlyIn:(0,T.jsxs)(o.Lt.Section,{label:R._('Currently in', 'SwitchAccountsList.CurrentlyInTitle', 'Title for currently logged in account on Switch Account Page'),children:[!!er&&(0,T.jsx)(o.Lt.Item,{accessibilityRole:"unset",onSelect:()=>ec?es(er,void 0):Q(er),option:ea.currentAccount,selected:ea.currentAccount,children:(0,T.jsx)(o.rU,{href:z?`/${er.username}/`:`${w.C0}/${er.username}/`,underline:"none",children:(0,T.jsx)(u.Z,{isCurrentAccount:!0,user:er})})}),!U?.opt_in_private_account&&em]},"currently-in"),yourAccount:W?eL:ez,moreOptions:[eB,eR,eM,eN],settingsAndSupport:[ey,ev,ex,eg,eA,ew,eT,(0,T.jsxs)(o.Lt.Section,{label:R._('Support', 'SettingsMenu.SupportOptions', 'Menu section with support options'),children:[eZ,(0,T.jsx)(o.Lt.Link,{href:`${x.iYv}/tools/widget-builder/?type=profile&url=${encodeURIComponent(`https://${window.location.hostname}/${er?.username||""}/`)}`,iconEnd:"visit",onClick:()=>{M({event_type:101,component:218,element:8001})},option:{label:R._('Create widget', 'A link to create an embeddable widget', 'A link to create an embeddable widget'),value:"make-widget-link"}},"make-widget-link"),(0,T.jsx)(o.Lt.Link,{href:x.hwP,iconEnd:"visit",onClick:()=>{M({event_type:101,component:218,element:8011})},option:{label:R._('Removals', 'menu item that takes user to the Pinterest copyright page', 'menu item that takes user to the Pinterest copyright page'),value:"removals"}},"removals"),(0,T.jsx)(o.Lt.Link,{href:"https://help.pinterest.com/en/article/personalized-ads-on-pinterest",onClick:()=>{M({event_type:101,component:218,element:10406})},option:{label:R._('Personalized Ads', 'menu item that takes user to the Pinterest personalized ads page', 'menu item that takes user to the Pinterest personalized ads page'),value:"personalized-ads"}},"personalized-ads"),eP,ej,eE]},"support"),(0,T.jsx)(o.Lt.Section,{label:R._('Resources', 'SettingsMenu.Resources', 'Menu section with resource links'),children:(0,T.jsxs)(o.xu,{direction:"row",display:"flex",paddingX:2,width:240,wrap:!0,children:[(0,T.jsx)(P.O,{onClick:()=>{M({event_type:101,component:218,element:8006})},text:R._('About', 'menu item that takes user to the Pinterest about page', 'menu item that takes user to the Pinterest about page'),url:x.wUZ}),(0,T.jsx)(P.O,{onClick:()=>{M({event_type:101,component:218,element:8007})},text:R._('Blog', 'menu item that takes user to the Pinterest blog', 'menu item that takes user to the Pinterest blog'),url:"https://www.pinterest.com/_/_/blog/"}),(0,T.jsx)(P.O,{onClick:()=>{M({event_type:101,component:218,element:8008})},text:R._('Businesses', 'menu item that takes user to the Pinterest for business page', 'menu item that takes user to the Pinterest for business page'),url:x.NWh}),(0,T.jsx)(P.O,{onClick:()=>{M({event_type:101,component:218,element:8009})},text:R._('Careers', 'menu item that takes user to the Pinterest careers page', 'menu item that takes user to the Pinterest careers page'),url:x.t_w}),(0,T.jsx)(P.O,{onClick:()=>{M({event_type:101,component:218,element:8010})},text:R._('Developers', 'menu item that takes user to the Pinterest developers page', 'menu item that takes user to the Pinterest developers page'),url:x.iYv})]})},"resources")]}}},565758:function(e,t,s){s.d(t,{Z:()=>d});var n=s(686659),i=s(667294),o=s(20256),a=s(319226),l=s(301737),r=s(24246),c=s(157498),u=s(785893);function d({user:e,isCurrentAccount:t}){(0,i.useEffect)(()=>{(0,n.Z)("HeaderAccountsOptionsMenuAccountRep","/app/packages/HeaderAccountsOptionsMenu/HeaderAccountsOptionsMenuAccountRep.tsx")},[]);let s=(0,r.Z)(),d=e.partner,_=(0,c.mN)()(e.id??""),p=_?.avatar_color_index;return(0,u.jsxs)(o.xu,{alignItems:"center","data-test-id":"HeaderAccountsOptionsMenuAccountRep",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,children:[(0,u.jsx)(o.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,u.jsx)(a.qE,{accessibilityLabel:"",color:p,name:(0,l.G)(e),src:(0,l.k)(e)})}),(0,u.jsxs)(o.xu,{maxWidth:176,children:[(0,u.jsx)(o.xv,{lineClamp:1,weight:"bold",children:(0,l.G)(e)}),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},"data-test-id":"header-account-type-display",children:(0,u.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",children:d?s._('Business', 'SwitchAccountsListItem.BusinessAccount.label', 'Label shown for business account in the Account Switcher'):s._('Personal', 'SwitchAccountsListItem.PersonalAccount.label', 'Label shown for personal account in the Account Switcher')})}),t&&(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,u.jsx)(o.xv,{color:"subtle",lineClamp:1,size:"200",children:d?e.partner?.bizContactEmail:e.email})})]})]})}},108930:function(e,t,s){s.d(t,{Z:()=>i});var n=s(24246);function i(){let e=(0,n.Z)();return{addAccount:{value:"add-account",label:e._('Add Pinterest account', 'header.accountsOptionsMenu.addSecondaryAccountButton', 'Short text on the button that allows a user to add a new account or log in to another Pinterest account')},businessAccess:{value:"business-access",label:e._('Business Access', 'Link to business Access Landing Page', 'A button that links to business access')},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),accountClaiming:{value:"account-claiming",label:e._('Link to Pinterest', 'header.accountsOptionsMenu.contentClaimingLink', 'menu item linking to the account claiming section in the settings')},contentClaiming:{value:"content-claiming",label:e._('Content claiming portal', 'header.accountsOptionsMenu.contentManagementPortal', 'menu item linking to the content management portal')},convertToBusiness:{value:"convert-to-business",label:e._('Convert to business', 'header.accountsOptionsMenu.addAccountButton', 'Short upsell text on the button that allows a user to convert to a Pinterest business account')},currentAccount:{value:"current-account",label:e._('Current account', 'SwitchAccountsList.CurrentlyInItem', 'The account the user is currently logged into')},failedAccount:{value:"failed-account",label:e._('Failed to log into this account', 'header.accountsOptionsMenu.failedAccountItem', 'Explanation for which account the user could not log into')},getHelp:{value:"get-help",label:e._('Help center', 'header.accountsOptionsMenu.helpCenter.label', 'menu item linking to the help center')},homefeedTuner:{value:"homefeed-tuner",label:e._('Refine your recommendations', 'header.accountsOptionsMenu.refineRecommendations.label', 'menu item linking to recommendations editor')},importContent:{value:"import-content",label:e._('Import content', 'header.accountsOptionsMenu.importContentLink', 'menu item linking to the import content section in the settings')},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e._('Log out', 'header.accountsOptionsMenu.logout', 'menu item that logs you out of your Pinterest account')},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e._('Terms of service', 'header.accountsOptionsMenu.termsOfService.label', 'menu item linking to our terms of service')},privacyPolicy:{value:"privacy-policy",label:e._('Privacy policy', 'header.accountsOptionsMenu.privacyPolicy.label', 'menu item linking to our privacy policy')},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e._('Reports and violations center', 'header.accountsOptionsMenu.reportsAndViolationsCenter', 'menu item linked to the reports and violations center')},reportBug:{value:"report-bug",label:e._('Report a bug', 'header.accountsOptionsMenu.reportBug', 'menu item to show employee-only report bug modal')},settings:{value:"settings",label:e._('Settings', 'header.accountsOptionsMenu.settings', 'menu item linking to your settings')},settingsPrivacy:{value:"settingsPrivacy",label:e._('Your privacy rights', 'header.accountsOptionsMenu.settingsPrivacy.label', 'menu item linking to privacy settings')},adsSupport:{value:"ads-support",label:e._('Ads support', 'header.accountsOptionsMenu.adsSupport', 'menu item linking to ads support')},requestFeature:{value:"request-a-feature",label:e._('Request a feature', 'header.accountsOptionsMenu.requestAFeature', 'menu item linking to request a feature page in help center')},pinterestTvStudio:{value:"pinterest-tv-studio",label:e._('Pinterest TV Studio', 'Link to Pinterest Tv Creator Studio', 'a link menu item that links to creator stuido')},betaTester:{value:"be-a-beta-tester",label:e._('Be a beta tester', 'header.accountsOptionsMenu.beBetaTesterProgram', 'A link to Pinterest Beta Tester program')},teenSafetyResources:{value:"teen-safety-resources",label:e._('Teen safety resources', 'header.accountsOptionsMenu.teenSafetyResources', 'Menu item linkin the user to the help center for teen resources page')}}}},114870:function(e,t,s){s.d(t,{Z:()=>m});var n=s(667294),i=s(27399),o=s(935059),a=s(661376),l=s(230201),r=s(483359),c=s(609252),u=s(936367),d=s(660613),_=s(179),p=s(420711),h=s(767415);function m(e,t){let{flushContextEvents:s,logContextEvent:m}=(0,l.u)(),[g,f]=(0,n.useState)(!1),[b,y]=(0,n.useState)(null),v=(0,o.Z)(),{showAccountSwitcherLoginModal:x}=(0,_.X)(),{userAccounts:w}=(0,p.N)(),{data:P}=function(){let e=(0,o.Z)();return(0,a.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}(),A=(0,r.Z)(),C=!!(v.isAuth&&!v.partner&&P?.businesses)&&0===P.businesses.length;(0,n.useEffect)(()=>(v.isAuth&&(0,d.Mt)(v,P),()=>{(0,d.CV)("flyout.dismiss")}),[]),(0,n.useEffect)(()=>((0,d.CV)("modal.shown"),()=>{(0,d.CV)("modal.dismiss")}),[]),(0,n.useEffect)(()=>{w.length>1&&m({event_type:13,view_type:234,component:13369,element:12722})},[m,w]);let k=(e,t)=>{throw(0,d.z3)(e,"account_switcher_flyout"),f(!1),t};return{failedAccount:b,fetchedUserAccounts:w,handleAccountRepClick:e=>{v.isAuth&&e.id!==v.id&&(e=>{let{id:t}=e;f(!0),m({event_type:101,component:13369,element:11196}),(0,d.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout"),c.Z.pause(u.LU),s(),A({creds:{get_user:!0,switch_account:t},loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369,aux_data:{upsell_reason:"account_switcher"}}},isAccountSwitch:!0}).then((s={})=>{s?.resource_response.data?.user?(0,d.iS)("/",t,"account_switcher_flyout"):((0,d.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,d.z3)(t,"account_switcher_flyout"),y(e),f(!1))},e=>{k(t,e)})})(e)},handleAddSecondaryAccount:()=>{(0,d.CV)("add_account_click",null,"account_switcher_flyout"),m({event_type:101,component:8,element:12756}),e()},handleClick:t=>{13290!==t&&m({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,n)=>{let{partner:o}=e;if(f(!0),m({event_type:101,component:13369,element:o?.isLinkedBusiness?11195:11194}),c.Z.pause(u.LU),s(),o?.isLinkedBusiness){let t={business_id:e.id,get_user:!0,owner_id:n};(0,h.nP)("web.partner.linked_business_account.switch_account_attempt",{sampleRate:1}),A({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(()=>{(0,h.nP)("web.partner.linked_business_account.switch_account_success",{sampleRate:1}),(0,d.iS)("/",e.id,"account_switcher_flyout")},t=>{k(e.id,t)})}else i.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then(()=>{v.isAuth&&((0,d.RD)(v.id),(0,d.iS)(t?`/${e.username}`:"/",v.id,"account_switcher_flyout"))},e=>{v.isAuth&&k(v.id,e)})},handleReauthAccount:()=>{(0,d.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),y(null),x("account_switcher_flyout",b?.email)},handleRemoveUnauthAccount:e=>{(0,d.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,d.RD)(e),y(null)},handleUnlockBusinessTools:()=>{e(),m({event_type:101,component:8,element:10299})},isLoading:g,showUnlockBusinessTools:C}}},236906:function(e,t,s){s.d(t,{Z:()=>r});var n=s(686659),i=s(667294),o=s(20256),a=s(24246),l=s(785893);function r({accessibilityLabel:e,fixedPosition:t,rounding:s}){(0,i.useEffect)(()=>{(0,n.Z)("LoadingMask","/app/packages/LoadingMask.tsx")},[]);let r=(0,a.Z)();return(0,l.jsxs)(o.xu,{children:[(0,l.jsx)(o.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new o.Ry(101),children:(0,l.jsx)(o.xH,{accessibilityLabel:e||r._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,l.jsx)(o.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,rounding:s,top:!0,zIndex:new o.Ry(100)})]})}},968960:function(e,t,s){s.d(t,{Z:()=>n});function n(e,t){return e.includes(t)||e.includes(80)}},698330:function(e,t,s){s.d(t,{Z:()=>i});var n=s(774838);let i=function(){let{country:e,isBot:t,isAuthenticated:s,locale:i}=(0,n.B)(),o="en"===i.slice(0,2);return t||!s&&o&&"US"===e}},209404:function(e,t,s){s.d(t,{Z:()=>i});var n=s(667294);let i=function(e,t){let[s,i]=(0,n.useState)(e);return(0,n.useEffect)(()=>{let s=setTimeout(()=>{i(e)},t);return()=>{clearTimeout(s)}},[e,t]),s}},232178:function(e,t,s){s.d(t,{Z:()=>r});var n=s(686659),i=s(667294),o=s(20256),a=s(24246),l=s(785893);function r(){(0,i.useEffect)(()=>{(0,n.Z)("FullPageSignupLoadingFallback","/app/packages/desktopLoginModal/FullPageSignupLoadingFallback.tsx")},[]);let e=(0,a.Z)();return(0,l.jsx)(o.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(o.xH,{accessibilityLabel:e._('Loading signup form', ' - ', ' -- '),show:!0})})}},180999:function(e,t,s){s.d(t,{Z:()=>n});let n="M11 23H5a4 4 0 0 1-4-4V5a4 4 0 0 1 4-4h6zm12-4a4 4 0 0 1-4 4h-6V13h10zM19 1a4 4 0 0 1 4 4v6H13V1z"},67077:function(e,t,s){s.d(t,{Z:()=>i});var n=s(145626);let i=()=>{let{hostname:e}=window.location,t=e.includes("pinterdev")&&!e.includes("ads.pinterdev"),s=e.includes("pinterest")&&(e.startsWith("www")||e.startsWith("latest")||e.startsWith("testing"));return t||s?e:e.includes("ads-latest")?"latest.pinterest.com":n.Vi}},80769:function(e,t,s){s.d(t,{ak:()=>l,j3:()=>a,yv:()=>o});var n=s(24246),i=s(774838);function o(e){return e&&["DE","AT","CH"].includes(e.toUpperCase())}function a(){let{country:e=""}=(0,i.B)();return o(e)}function l(){return (0, n.Z)()._('Imprint', 'impressumText', 'Text for link to impressum for Germany, Austra, or Switzerland')}},171556:function(e,t,s){s.d(t,{Z:()=>a});var n=s(667294);function i(e,t,s){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class o extends n.Component{constructor(...e){super(...e),i(this,"ref",(0,n.createRef)()),i(this,"observer",null),i(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){this.ref&&this.ref.current&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.ref.current))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.ref.current),delete this.observer)}render(){return this.props.children(this.ref)}}let a=o},875417:function(e,t,s){s.d(t,{Z:()=>i});var n=s(667294);function i(e){let{animationData:t,autoplay:i,initialSegment:o,loop:a,onComplete:l,onConfigReady:r,onDataFailed:c,onDataReady:u,onDestroy:d,onDOMLoaded:_,onEnterFrame:p,onLoadedImages:h,onLoopComplete:m,onSegmentStart:g}=e,[f,b]=(0,n.useState)(null),[y,v]=(0,n.useState)(!1),x=(0,n.useRef)(null),w=(0,n.useRef)(null),P=async()=>{b(await s.e("13000").then(s.t.bind(s,98234,23)))};return(0,n.useEffect)(()=>{P()},[]),(0,n.useEffect)(()=>{if(!w.current||!f||!t||!t.w||!t.h)return;x.current?.destroy();let s={...e,container:w.current};x.current=f.loadAnimation(s),v(!!x.current)},[w,x,t,f,e]),(0,n.useEffect)(()=>{x.current&&(x.current.loop=!!a,a&&x.current.isPaused&&x.current.play())},[a]),(0,n.useEffect)(()=>{x.current&&(x.current.autoplay=!!i)},[i]),(0,n.useEffect)(()=>{if(x.current){if(!o)return void x.current.resetSegments(!1);Array.isArray(o)&&o.length&&((x.current.currentRawFrame<o[0]||x.current.currentRawFrame>o[1])&&(x.current.currentRawFrame=o[0]),x.current.setSegment(o[0],o[1]))}},[o]),(0,n.useEffect)(()=>{if(!x.current||!y)return()=>{};let e=[{name:"complete",handler:l},{name:"loopComplete",handler:m},{name:"enterFrame",handler:p},{name:"segmentStart",handler:g},{name:"config_ready",handler:r},{name:"data_ready",handler:u},{name:"data_failed",handler:c},{name:"loaded_images",handler:h},{name:"DOMLoaded",handler:_},{name:"destroy",handler:d}].filter(e=>null!=e.handler).map(e=>(x.current?.addEventListener(e.name,e.handler),()=>{x.current?.removeEventListener(e.name,e.handler)}));return()=>{e.forEach(e=>e())}},[y,l,m,p,g,r,u,c,h,_,d]),{animationContainerRef:w,play:()=>{x.current?.play()},stop:()=>{x.current?.stop()},pause:()=>{x.current?.pause()},setSpeed:e=>{x.current?.setSpeed(e)},goToAndStop:(e,t)=>{x.current?.goToAndStop(e,t)},goToAndPlay:(e,t)=>{x.current?.goToAndPlay(e,t)},setDirection:e=>{x.current?.setDirection(e)},playSegments:(e,t)=>{x.current?.playSegments(e,t)},setSubframe:e=>{x.current?.setSubframe(e)},getDuration:e=>x.current?.getDuration(e),destroy:()=>{x.current?.destroy()},animationLoaded:y,animationItem:x.current}}},169166:function(e,t,s){s.d(t,{Z:()=>n});let n=(0,s(667294).createContext)(null)},506807:function(e,t,s){s.d(t,{Z:()=>n});let n=(0,s(667294).createContext)(null)},792559:function(e,t,s){s.d(t,{Z:()=>n});let n=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},112658:function(e,t,s){s.d(t,{Z:()=>b});var n=s(686659),i=s(667294),o=s(20256),a=s(400962),l=s(171556),r=s(774838),c=s(907049),u=s(49932),d=s(141483),_=s(623222),p=s(228612),h=s(785893);function m(e,t,s){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class g extends i.Component{constructor(e){super(e),m(this,"componentWillUnmount",()=>{this.unregisterComponent()}),m(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:s,objectId:n,timeSpentContext:i,view:o,viewParameter:a}=this.props;return{view:o||i?.view,viewParameter:a||i?.viewParameter,component:t||i?.component,element:s,objectId:n||i?.objectId,clientTrackingParams:e||i?.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),m(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),m(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e?.getParentUuid?.()}),m(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),m(this,"getTimedPair",()=>this.state.timedPair),m(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),m(this,"isRegistered",!1),m(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),m(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),m(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:s,left:n,right:i,top:o}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===s&&0===n&&0===i&&0===o?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new d.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,c.Z)(e.auxData,this.props.auxData)&&(0,c.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e,intersectionObserverBoxHeight:t}=this.props;return(0,h.jsx)(_.$,{value:this.getContext(),children:(0,h.jsx)(l.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:s=>(0,h.jsx)(o.xu,{ref:s,height:t??"100%",children:i.Children.only(e)})})})}componentDidMount(){(0,n.Z)("DeprecatedTimeSpent","/app/packages/time-spent/DeprecatedTimeSpent.tsx")}}function f(e){let t=(0,a.ou)(),s=(0,_.a)(),n=(0,u.Z)(),o=(0,p.EQ)(),{requestIdentifier:l=""}=(0,r.B)(),c={app_instance_id:l.slice(0,8),...e.auxData??{}};return(0,i.useEffect)(()=>{n?.setHistoryStackContext(t)},[t,n]),(0,i.useEffect)(()=>{n?.setPins(o??{})},[o,n]),n?(0,h.jsx)(g,{...e,auxData:c,timeSpentContext:s,timeSpentManager:n,children:e.children}):e.children}f.displayName="DeprecatedTimeSpent";let b=f},623222:function(e,t,s){s.d(t,{$:()=>n,a:()=>i});let{Provider:n,getMaybe:i}=(0,s(213491).Z)("timeSpentContext")},141483:function(e,t,s){s.d(t,{Z:()=>l,h:()=>a});var n=s(172045),i=s(17314);function o(e,t,s){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}let a="undefined"!=typeof window&&window.performance&&window.performance.now?()=>Math.floor((window.performance.timeOrigin+window.performance.now())*1e6):()=>1e6*Date.now(),l=class{constructor(e){o(this,"start",()=>(this.startTime=a(),this.startTime)),o(this,"end",()=>(this.endTime=a(),this.duration=this.startTime?this.endTime-this.startTime:null,this.duration));try{this.uuid=(0,n.Z)()}catch(e){this.uuid=(0,i.Z)()}e&&Object.assign(this,e)}}},544957:function(e,t,s){s.d(t,{Z:()=>c});var n=s(686659),i=s(667294),o=s(20256),a=s(24246),l=s(216975),r=s(785893);function c({itemLabel:e="",count:t,iconSlot:s}){(0,i.useEffect)(()=>{(0,n.Z)("BadgedIcon","/app/packages/ui/experimental/BadgedIcon.tsx")},[]);let c=t<100?`${t}`:"99+",u=(0,a.Z)(),d=u._('notifications', 'notifications.BadgedIcon.defaultItemLabel', 'Default label for notifications button with unread content.'),_=(0,l.Wc)(u._('You have new {{contentType}}', 'notifications.BadgedIcon.accessibilityIndicatorLabel', 'Accessibility label for notifications button with unread content. contentType: type of content received recently, for example "Messages", "updates" or "notifications".'),{contentType:e||d});return(0,r.jsxs)(o.xu,{position:"relative",children:[s,t>0&&(0,r.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{right:-6-2*c.length,top:-8,padding:`0 ${3===c.length?"2px":"3px"} 0 2px`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,r.jsx)(o.z$,{accessibilityLabel:_,count:t})})]})}},632264:function(e,t,s){s.d(t,{Z:()=>o});var n=s(893957),i=s(74972);function o({children:e}){let{setAppFocusState:t}=(0,i.G)();return(0,n.Z)(()=>(t(!1),()=>{t(!0)})),e}},647587:function(e,t,s){s.d(t,{Z:()=>i});var n=s(681698);function i(){return async()=>{let e=await (0,n.Z)({url:"/ads/v4/business_access/businesses/me/employers/"}),t=e.resource_response?e.resource_response.data:{data:[]};return await Promise.all(t&&t.data||[])}}},396083:function(e,t,s){s.d(t,{A6:()=>a,A9:()=>S,AJ:()=>x,B3:()=>b,BO:()=>M,Eb:()=>Y,Eq:()=>N,F$:()=>i,GF:()=>K,G_:()=>R,H:()=>e_,HJ:()=>f,Ht:()=>E,Hv:()=>d,Io:()=>g,Iu:()=>W,Iv:()=>ep,Ix:()=>es,KW:()=>ei,LN:()=>j,LZ:()=>T,Mj:()=>c,Mr:()=>l,NM:()=>n,Nf:()=>v,Pc:()=>et,RX:()=>h,TL:()=>C,Tw:()=>F,Uf:()=>m,VI:()=>el,XY:()=>y,ZA:()=>ea,ZH:()=>U,Zg:()=>G,_7:()=>P,bH:()=>D,bQ:()=>L,bn:()=>O,c:()=>u,dt:()=>z,eE:()=>r,eZ:()=>H,g:()=>q,gN:()=>er,he:()=>Z,iE:()=>A,iQ:()=>V,jP:()=>X,kG:()=>w,kR:()=>_,kS:()=>eo,kr:()=>I,lT:()=>ec,nM:()=>B,oq:()=>p,oz:()=>$,qt:()=>Q,rl:()=>en,s5:()=>J,sC:()=>k,vC:()=>ee,wt:()=>ed,xA:()=>o,y6:()=>eu});let n="/product-catalogs/",i="/business/catalogs/",o="/business/catalogs/overview/",a="/business/catalogs/data-sources/",l="/business/catalogs/product-groups/",r="/business/catalogs/diagnostics/",c="/business/catalogs/diagnosticsv2",u="/business/catalogs/trends",d="/business/catalogs/listings/",_="/business/catalogs/products/",p="/business/catalogs/pins/",h="/business/catalogs/bulk/",m="/business/catalogs/add-items/",g="/business/catalogs/promotions/",f="/business/catalogs/promotions/history",b="/business/catalogs/media-network-catalogs/",y="/business/catalogs/creative-overlays/",v="/business/catalogs/enhancements/",x="/business/catalogs/:catalog_id/data-sources/feed-debugger/",w="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",P="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/detail",A="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/",C="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/detail",k="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",S="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/",Z="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",E="/business/catalogs/:catalog_id/data-sources/supplemental/:supplemental_feed_profile_id/workflows/:workflow_id/alert/:event_type_id",j="/business/catalogs/:catalog_id/data-sources/",T="/business/catalogs/:catalog_id/data-sources/?tab=SUPPLEMENTAL_DATASOURCE",I="/business/catalogs/:catalog_id/data-sources/supplemental/choose",z="/business/catalogs/:catalog_id/data-sources/api/detail",L="/business/catalogs/:catalog_id/data-sources/gmc/detail",B="/business/catalogs/:catalog_id/data-sources/regions/",R="/business/catalogs/:catalog_id/data-sources/stores/",M="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/",N="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",D="/business/catalogs/:catalog_id/product-groups/create/",O="/business/catalogs/:catalog_id/product-groups/:product_group_id/",U="/business/catalogs/:catalog_id/product-groups/bulk/",H="/business/catalogs/:catalog_id/product-groups/",F="/business/website-content-manager/",V="/business/catalogs/:catalog_id/listings/",G="/business/catalogs/:catalog_id/products/",$="/business/catalogs/:catalog_id/diagnostics/",W="/business/catalogs/:catalog_id/diagnosticsv2/",q="/business/catalogs/:catalog_id/trends/",X="/business/catalogs/:catalog_id/pins/",Y="/business/catalogs/:catalog_id/bulk/",K="/business/catalogs/:catalog_id/add-items/",J="/business/catalogs/media-network-catalogs/:mn_catalog_id/detail",Q="/business/catalogs/media-network-catalogs/:mn_catalog_id/product-groups/:mn_product_group_id/",ee="/business/catalogs/enhancements/previews/",et=[a,j],es=[l,H],en=[r,$],ei=[c,W],eo=[u,M],ea=[u,q],el=[d,V],er=[_,G],ec=[p,X],eu=[h,Y],ed=[m,K],e_="/business/catalogs/product-listings/",ep=[e_,"/business/catalogs/:catalog_id/product-listings/"]},131990:function(e,t,s){s.d(t,{Z:()=>i});var n=s(305375);function i(){let{catalog_id:e,feed_profile_id:t,workflow_id:s,product_group_id:i,event_type_id:o,supplemental_feed_profile_id:a,mn_catalog_id:l,mn_product_group_id:r}=(0,n.Z)();return{catalogId:e,feedProfileId:t,workflowId:s,productGroupId:i,eventTypeId:o,supplementalFeedProfileId:a,mnCatalogId:l,mnProductGroupId:r}}},8933:function(e,t,s){s.d(t,{q:()=>p,y:()=>h});var n=s(686659),i=s(667294),o=s(501010),a=s(774838),l=s(681698),r=s(918985);function c(e,t){(0,r.T)(t)&&(0,l.Z)({method:"PUT",url:`/ads/v4/preferences/${e}/`,data:{level:"ADVERTISER",key:"CAMPAIGN_TOOL_PREFERENCE",preferences:t}})}var u=s(711089),d=s(785893);let _=(0,i.createContext)({campaignToolPreference:null,updateCampaignToolPreference:c}),p=({children:e})=>{(0,i.useEffect)(()=>{(0,n.Z)("CampaignToolPreferenceContext","/app/sterling/CreateFlow/CampaignToolPreferenceContext.tsx")},[]);let[t,s]=(0,i.useState)(null),l=(0,o.Z)(),{advertiser:r}=(0,a.B)(),p=async(e,t)=>{c(e,t),s(t)};(0,i.useEffect)(()=>{(async()=>{r&&s(await (0,u.f)(r.id))})()},[r,l]);let h=(0,i.useMemo)(()=>({campaignToolPreference:t,updateCampaignToolPreference:p}),[t]);return(0,d.jsx)(_,{value:h,children:e})},h=()=>(0,i.useContext)(_)},711089:function(e,t,s){s.d(t,{Z:()=>u,f:()=>c});var n=s(667294),i=s(681698),o=s(501010),a=s(774838),l=s(918985);let r="ADVERTISER",c=async e=>{let t;try{let s;t=(s=(await (0,i.Z)({method:"GET",url:`/ads/v4/preferences/${e}/`,data:{level:r,key:"CAMPAIGN_TOOL_PREFERENCE"}})).resource_response.data)&&s[r]&&s[r][0]&&s[r][0].preferences}catch{return null}return t&&(0,l.T)(t)?t:null},u=()=>{let[e,t]=(0,n.useState)(null),s=(0,o.Z)(),{advertiser:i}=(0,a.B)();return(0,n.useEffect)(()=>{(async()=>{i&&t(await c(i.id))})()},[i,s]),e}},695371:function(e,t,s){s.d(t,{Z:()=>_});var n=s(686659),i=s(667294),o=s(20256),a=s(232178),l=s(24246),r=s(70906),c=s(9065),u=s(785893);let d=(0,c.Z)(()=>Promise.all([s.e("25418"),s.e("91062"),s.e("29983"),s.e("38456"),s.e("76767")]).then(s.bind(s,818254)),void 0,e=>818254,"FullPageSignup",e=>["25418","91062","29983","38456","76767"]);function _(e){(0,i.useEffect)(()=>{(0,n.Z)("AccountSwitcherLoginModal","/app/www/AccountSwitcherLoginModal/AccountSwitcherLoginModal.tsx")},[]);let t=(0,l.Z)();return(0,u.jsx)(r.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,u.jsx)(o.xu,{"data-test-id":"account-switcher-modal",display:"flex",flex:"grow",justifyContent:"center",children:(0,u.jsx)(d,{attributionLabel:e.attributionLabel,container:e.container,customLoginTagline:e.customTaglineText||t._('Add account', 'Short text on the button that allows a user to log in to another Pinterest account', 'Short text on the button that allows a user to log in to another Pinterest account'),fallback:(0,u.jsx)(a.Z,{}),hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,isAccountSwitch:!0,signupFlow:{type:"login",email:e.email},signupSource:"login"})})})}},179:function(e,t,s){s.d(t,{T:()=>c,X:()=>r});var n=s(667294),i=s(213491),o=s(695371),a=s(785893);let{Provider:l,get:r}=(0,i.Z)("AccountSwitcherLoginModal");function c({children:e}){let[t,s]=(0,n.useState)(!1),[i,r]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),d=(0,n.useCallback)((e,t)=>{u(e),t&&r(t),s(!0)},[]),_=(0,n.useMemo)(()=>({showAccountSwitcherLoginModal:d}),[d]);return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l,{value:_,children:e}),t&&(0,a.jsx)(o.Z,{container:c,email:i??"",onClose:()=>s(!1)})]})}},70906:function(e,t,s){s.d(t,{Z:()=>g});var n=s(686659),i=s(667294),o=s(20256),a=s(24246),l=s(59111),r=s(774838),c=s(736328),u=s(785893);let d=`
.AccountSwitcherModal {
  display: -webkit-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: flex;
}
`,_={backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},p={WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},h={display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},m={overflow:"hidden",position:"fixed",top:"24px"};function g(e){(0,i.useEffect)(()=>{(0,n.Z)("Modal","/app/www/AccountSwitcherLoginModal/Modal.tsx")},[]);let t=(0,a.Z)(),s=(0,c.Z)(),{isRTL:g}=(0,r.B)(),{renderContent:f}=e;return(0,u.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:_},children:[(0,u.jsx)(l.Z,{unsafeCSS:d}),(0,u.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{s({action:"click",item:"wash-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()},role:"dialog",style:p,children:(0,u.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:h,children:[f(),(0,u.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{...m,[g?"left":"right"]:"24px"}},children:(0,u.jsx)(o.hU,{accessibilityLabel:t._('close', 'accessible label for close button', 'accessible label for close button'),bgColor:"transparent",icon:"cancel",iconColor:"white",onClick:()=>{s({action:"dismiss",item:"close-button",within:"account-switcher-modal"});let{onCloseClick:t}=e;t()}})})]})})]})}},420711:function(e,t,s){s.d(t,{N:()=>l,t:()=>r});var n=s(667294),i=s(213491),o=s(785893);let{Provider:a,get:l}=(0,i.Z)("LinkedAccount");function r({children:e}){let[t,s]=(0,n.useState)([]),i=(0,n.useMemo)(()=>({userAccounts:t,userAccountsRetrieved:s}),[s,t]);return(0,o.jsx)(a,{value:i,children:e})}},484125:function(e,t,s){s.d(t,{Z:()=>n});let n=(0,s(667294).createContext)(()=>null)},271875:function(e,t,s){s.d(t,{Z:()=>o,k:()=>n});let{Provider:n,get:i}=(0,s(213491).Z)("Conversations"),o=i},1690:function(e,t,s){s.d(t,{Z:()=>i});var n=s(271875);function i(){let{conversations:{data:e}}=(0,n.Z)();return Array.from(Object.keys(e).map(t=>e[t]).filter(e=>e.users&&e.last_message)).sort((e,t)=>new Date((t.last_message||t).created_at).getTime()-new Date((e.last_message||e).created_at).getTime())}},402191:function(e,t,s){s.d(t,{O:()=>d,Z:()=>_});var n=s(686659),i=s(667294),o=s(20256),a=s(104999),l=s(24246),r=s(80769),c=s(247387),u=s(785893);let d=({onClick:e,text:t,url:s})=>((0,i.useEffect)(()=>{(0,n.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]),(0,u.jsx)(o.xu,{role:"listitem",children:(0,u.jsx)(o.xv,{color:"subtle",size:"200",weight:"bold",children:(0,u.jsx)(o.rU,{href:s,onClick:e,target:"blank",children:(0,u.jsx)(o.xu,{padding:1,children:t})})})}));function _(){(0,i.useEffect)(()=>{(0,n.Z)("AdditionalLinks","/app/www/Footer/AdditionalLinks.tsx")},[]);let e=(0,l.Z)(),t=(0,a.Z)(),s=e=>()=>t({event_type:101,component:218,element:e}),_=(0,r.j3)(),p=(0,r.ak)();return(0,u.jsxs)(o.xu,{direction:"column",display:"flex",paddingX:3,paddingY:2,role:"list",width:"100%",wrap:!0,children:[(0,u.jsx)(d,{onClick:s(8006),text:e._('About', 'menu item that takes user to the Pinterest about page', 'menu item that takes user to the Pinterest about page'),url:c.wUZ}),(0,u.jsx)(d,{onClick:s(8007),text:e._('Blog', 'menu item that takes user to the Pinterest blog', 'menu item that takes user to the Pinterest blog'),url:"https://www.pinterest.com/_/_/blog/"}),(0,u.jsx)(d,{onClick:s(8008),text:e._('Businesses', 'menu item that takes user to the Pinterest for business page', 'menu item that takes user to the Pinterest for business page'),url:c.NWh}),(0,u.jsx)(d,{onClick:s(8009),text:e._('Careers', 'menu item that takes user to the Pinterest careers page', 'menu item that takes user to the Pinterest careers page'),url:c.t_w}),(0,u.jsx)(d,{onClick:s(8010),text:e._('Developers', 'menu item that takes user to the Pinterest developers page', 'menu item that takes user to the Pinterest developers page'),url:c.iYv}),(0,u.jsx)(d,{onClick:s(8011),text:e._('Removals', 'menu item that takes user to the Pinterest copyright page', 'menu item that takes user to the Pinterest copyright page'),url:c.hwP}),(0,u.jsx)(d,{onClick:s(8004),text:e._('Privacy Policy', 'additionalLinks.privacyPolicy', 'menu item that takes user to the Pinterest privacy policy page'),url:c.R_9}),(0,u.jsx)(d,{onClick:s(10406),text:e._('Personalized Ads', 'menu item that takes user to the Pinterest personalized ads page', 'menu item that takes user to the Pinterest personalized ads page'),url:"https://www.pinterest.com/_/_/help/articles/personalized-ads-pinterest"}),(0,u.jsx)(d,{onClick:s(13335),text:e._('Your Privacy Rights', 'additionalLinks.yourPrivacyRights', 'menu item that takes user to the Privacy Settings page'),url:"https://www.pinterest.com/settings/privacy/"}),(0,u.jsx)(d,{onClick:s(8012),text:e._('Terms', 'menu item that takes user to the Pinterest terms page', 'menu item that takes user to the Pinterest terms page'),url:c.U5h}),_&&(0,u.jsx)(d,{onClick:s(8013),text:p,url:c.$BF})]})}},525030:function(e,t,s){s.d(t,{Z:()=>d});var n=s(686659),i=s(667294),o=s(20256),a=s(230201),l=s(342462),r=s(440077),c=s(785893);let u=({anchorElementRef:e,children:t,experienceAnchor:s})=>s?(0,c.jsx)(l._7,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,d=({accessibilityLabel:e,compactMode:t,icon:s,rightIcon:l,selected:d,text:_,type:p="link",url:h,contextData:m,onClick:g})=>{(0,i.useEffect)(()=>{(0,n.Z)("HeaderSection","/app/www/Header/HeaderSection.tsx")},[]);let{logContextEvent:f}=(0,a.u)(),[b,y]=(0,i.useState)(r.Wyp),v=(0,i.useRef)(null),x=()=>{y(r.KtD)},w=()=>{y(r.Wyp)},P=()=>{y(r.Wyp)},A=()=>{y(r.KtD)},C=e=>{if(m){let{event:e,component:t,element:s}=m;f({event_type:e,component:t,element:s})}g&&g(e)},k=(0,c.jsx)(o.Tg,{accessibilityLabel:e,href:h||"",onBlur:P,onFocus:A,onMouseEnter:x,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:4,children:(0,c.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:b}},display:"flex",height:48,justifyContent:"center",rounding:4,width:48,children:s})});if(l||"link"!==p||!h||t){if("link"===p&&(t&&s||l)){let n,i,a="pill";a=s||l?_&&!t?"pill":"circle":"pill",s&&(n=s),l&&(i=l);let r=_ instanceof Object?_:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",size:"200",weight:"bold",children:_});k=(0,c.jsx)(o.Tg,{accessibilityLabel:e,href:h||"",onBlur:P,onFocus:A,onMouseEnter:x,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:a,children:(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[n,!!_&&!t&&(0,c.jsx)(o.xu,{paddingX:2,children:r}),i]})})}}else k=(0,c.jsx)(u,{anchorElementRef:v,experienceAnchor:"/"===h?".HomeButton2":"",children:(0,c.jsx)(o.Tg,{ref:v,accessibilityLabel:e,href:h,onBlur:P,onFocus:A,onMouseEnter:x,onMouseLeave:w,onTap:({event:e})=>C(e),rounding:"pill",children:(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:b}},paddingX:4,paddingY:4,rounding:"pill",children:(0,c.jsx)(o.xv,{color:d?"default":"subtle",overflow:"normal",weight:"bold",children:_})})})});return(0,c.jsx)(o.xu,{position:"relative",children:k})}},534222:function(e,t,s){s.d(t,{F:()=>n,I:()=>i});let{Provider:n,get:i}=(0,s(213491).Z)("SiteParametersContextType")},577564:function(e,t,s){s.d(t,{Jo:()=>u,mv:()=>_,nJ:()=>d});var n=s(667294),i=s(213491);let o={hiddenNews:{}};function a(e,t){if(e=e||o,"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"!==t.type)return e;{let{payload:{id:s,isHidden:n}}=t;return{hiddenNews:{...e?.hiddenNews,[s]:n}}}}var l=s(785893);let{Provider:r,get:c}=(0,i.Z)("HiddenNews");function u({children:e}){let[t,s]=(0,n.useReducer)(a,o),i=(0,n.useMemo)(()=>({dispatch:s,hiddenNews:t}),[s,t]);return(0,l.jsx)(r,{value:i,children:e})}function d(){let{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,n.useMemo)(()=>({updateNewsIdToHiddenNews:(t,s)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:s}})},getShownNewsCount:e=>e.filter(e=>e&&e.id&&!(e.id in t&&t[e.id])).length}),[e,t])}function _(){let{hiddenNews:e}=c();return e}},430583:function(e,t,s){s.d(t,{Z:()=>a,b:()=>o});var n=s(173874);let i=[n.Gl,n.PY,n.jC,n.Xn,n.b_,n.oF,n.dt,n.x7,n.cY,n.bb];function o(e,t){return(t?i:[...i,n.Ig]).every(t=>!t(e))}function a(e){return i.every(t=>!t(e))}},841353:function(e,t,s){s.d(t,{P:()=>p,j:()=>h});var n=s(667294),i=s(213491),o=s(470205),a=s(465784),l=s(935059),r=s(24246),c=s(9065),u=s(785893);let d=(0,c.Z)(()=>s.e("53732").then(s.bind(s,402113)),void 0,e=>402113,"app-www-ReportBug-ReportBug",e=>["53732"]),{Provider:_,get:p}=(0,i.Z)("reportBugModalContext");function h({children:e}){let t=(0,r.Z)(),[s,i]=(0,n.useState)(!1),c=(0,l.Z)(),p=(0,n.useCallback)(()=>{i(!0)},[]),h=(0,n.useMemo)(()=>({handleShowReportBugModal:p}),[p]);return(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(_,{value:h,children:e}),s&&c.isAuth&&(0,u.jsx)(a.ZP,{accessibilityModalLabel:t._('Report bug', 'header.accountsOptionsMenu.logout', 'Modal accessibility label for reporting a bug'),onDismiss:()=>{i(!1)},children:(0,u.jsx)(o.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,u.jsx)(d,{onDismiss:()=>{i(!1)},username:c.username})})})]})}},217616:function(e,t,s){s.d(t,{Z:()=>l});var n=s(312048),i=s(935059),o=s(173874),a=s(430583);function l(){let e=(0,i.Z)(),t=(0,n.TH)();return{enabled:(0,a.Z)(t)&&e.isAuth&&!e.isPartner&&!(0,o.OK)(t)}}},336486:function(e,t,s){s.d(t,{Z:()=>o});var n=s(501010),i=s(217616);function o(){let{enabled:e}=(0,i.Z)();if(!e)return!1;let{checkExperiment:t}=(0,n.Z)();return t("web_nav_sidebar").anyEnabled}},593302:function(e,t,s){s.d(t,{QV:()=>f,Qj:()=>v,Td:()=>y});var n=s(686659),i=s(667294),o=s(20256),a=s(104999),l=s(180999),r=s(839603),c=s(24246),u=s(216975),d=s(500602);let _={home:{default:"home",selected:"home-fill"},create:{default:"square-plus",selected:"square-plus-fill"},today:{default:"compass",selected:"compass-fill"},notifications:{default:"bell",selected:"bell-fill"},messages:{default:"speech-ellipsis",selected:"speech-ellipsis-fill"},moreOptions:{default:"cog",selected:"cog-fill"},shopping:{default:"shopping-bag",selected:"shopping-bag-fill"},categories:{default:"view-type-default",selected:"view-type-default-fill"},board:{default:"board",selected:void 0}};var p=s(682004),h=s(362777),m=s(785893);function g(e){(0,i.useEffect)(()=>{(0,n.Z)("EntrypointLink","/pws/entrypoint-router/navigation-buttons/EntrypointLink.tsx")},[]);let{preload:t}=(0,p.G)(),{onClick:s,_onMouseEnter:a,preloadExtent:l="Both",route:r,...c}=e;return(0,m.jsx)(o.rU,{_onMouseEnter:e=>{try{a?.(e)}catch{}"None"!==l&&t(r,l)},href:(0,h.w)(r),onClick:e=>{try{s?.(e)}catch{}t(r,"Both")},...c})}let f=({iconName:e,selected:t})=>((0,i.useEffect)(()=>{(0,n.Z)("VerticalNavIconButton","/app/www/VerticalNav/shared/VerticalNavIconButton.tsx")},[]),(0,m.jsx)(o.JO,{accessibilityLabel:"",color:"default",icon:t?_[e].selected:_[e].default,size:d.nQ})),b=({count:e})=>{if(!e||e<=0)return null;let t=e<100?`${e}`:"99+";return(0,m.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:6,left:`calc(50% + ${4-t.length}px)`}},display:"flex",justifyContent:"center",position:"absolute",children:(0,m.jsx)(o.z$,{accessibilityLabel:"",count:e})})},y=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityPopupRole:t,accessibilityControls:s,badgeCount:n,tooltipText:i,href:a,iconName:r,selected:p,onClick:h,onMouseDown:g,onMouseEnter:f,dataTestId:y},v)=>{let x=(0,c.Z)(),w=i||e,P=!!t,A="number"!=typeof n||0===n?e:(0,u.Wc)(x.ngettext('{{buttonLabel}}: {{notificationCount}} notification', '{{buttonLabel}}: {{notificationCount}} notifications', n, 'VerticalNavIconButton.Button.accessibilityLabel', 'Accessibility label for a button with a badge count. buttonLabel: This is the label of the button. notificationCount: This is the number of notifications.'),{buttonLabel:e,notificationCount:n.toString()}),C=p?_[r].selected:_[r].default,k="board"===r&&p,S={text:w,idealDirection:d.Mh,zIndex:d.BO},Z=d.yg,E=a?(0,m.jsx)(o.I_,{accessibilityLabel:A,dangerouslySetSvgPath:k?{__path:l.Z}:void 0,dataTestId:y,href:a,icon:k?void 0:C,onClick:h,size:Z,tooltip:S}):(0,m.jsx)(o.hU,{accessibilityControls:s,accessibilityExpanded:P?p:void 0,accessibilityHaspopup:P,accessibilityLabel:A,accessibilityPopupRole:t,dataTestId:y,icon:C,onClick:h,size:Z,tooltip:S});return(0,m.jsxs)(o.xu,{ref:v,onMouseDown:g,onMouseEnter:f,position:"relative",children:[E,(0,m.jsx)(o.xu,{"aria-hidden":"true",children:(0,m.jsx)(b,{count:n})})]})}),v=(0,i.forwardRef)(({accessibilityLabel:e,accessibilityControls:t,iconName:s,selected:n,onClick:l,onMouseDown:u,onMouseEnter:_,route:p,preloadExtent:h,dataTestId:b,variant:y="short"},v)=>{let x=(0,a.Z)(),w=(0,c.Z)(),[P,A]=(0,i.useState)("transparent"),[C,k]=(0,i.useState)(!1),S=()=>{_?.(),A(r.ZG),k(!0)},Z=(0,i.useRef)(null),E=(0,d.vg)(w,y);return(0,m.jsx)(o.xu,{onMouseEnter:S,onMouseLeave:()=>{A("transparent"),k(!1)},overflow:"hidden",paddingX:4,position:"relative",children:(0,m.jsx)(o.iP,{ref:v,accessibilityControls:t,accessibilityExpanded:C,accessibilityHaspopup:!0,accessibilityLabel:e,dataTestId:b,onTap:S,rounding:d.dv,tapStyle:d.xp,children:(0,m.jsxs)(o.xu,{ref:Z,alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:P}},display:"flex",height:48,id:t,justifyContent:"center",onMouseDown:u,rounding:d.dv,width:48,children:[C&&(0,m.jsx)(o.Lt,{anchor:Z.current,disableMobileUI:!0,id:"ideas-dropdown",idealDirection:"right",isWithinFixedContainer:!1,onDismiss:()=>k(!1),zIndex:d.m6,children:E.map(e=>(0,m.jsx)(o.Lt.Link,{href:`/ideas/${e.slug}/${e.value}/`,onClick:()=>{x({object_id_str:e.value,component:8,event_type:101,element:216,aux_data:{interest_id:e.value,interest:e.label}})},option:e},`cat-${e.value}`))}),(0,m.jsx)(g,{onClick:l,preloadExtent:h,route:p,children:(0,m.jsx)(f,{iconName:s,selected:n})})]})})})})},832698:function(e,t,s){s.d(t,{E:()=>n,Z:()=>o});let{Provider:n,get:i}=(0,s(213491).Z)("VerticalNav",{width:0,sideBarWidth:0,selectedNav:void 0,isPanelOpen:()=>!1,sideBarOpen:!1,updatePanelState:()=>{},togglePanelState:()=>{},isBoardCreateModalOpen:!1,setIsBoardCreateModalOpen:()=>{},handleSideBarLinkClick:()=>{}}),o=i},973625:function(e,t,s){s.d(t,{Z:()=>o});var n=s(217616),i=s(889162);function o(){let{enabled:e}=(0,n.Z)(),{enabled:t}=(0,i.Z)();return{enabled:e||t}}},74195:function(e,t,s){s.d(t,{Z:()=>i});var n=s(832698);function i(){let{width:e}=(0,n.Z)();return e}},889162:function(e,t,s){s.d(t,{Z:()=>c});var n=s(312048),i=s(935059),o=s(173874),a=s(774838),l=s(698330),r=s(739405);let c=function(){let e=(0,i.Z)(),{isRTL:t}=(0,a.B)(),s=(0,n.TH)(),c=(0,r.ZP)();return{enabled:(0,l.Z)()&&"desktop"===c&&!(0,o.nU)(s)&&!(0,o.Xn)(s)&&!(0,o.C$)(s)&&!(0,o.Ni)(s)&&!(0,o.XQ)(s)&&!t&&!e.isAuth}}},943893:function(e,t,s){s.d(t,{$o:()=>a,GW:()=>n,Jo:()=>o,MS:()=>f,Q8:()=>m,VX:()=>p,Zo:()=>r,aD:()=>c,b2:()=>d,g2:()=>_,s4:()=>l,tK:()=>g,ym:()=>u,zQ:()=>h});let n="/business/hub/?show_vmp=true",i=["FR"],o=["US","GB","CA","AU","DE","FR"].concat(["ES","IT","AT","CH","NL","BR","MX"]).filter(e=>!i.includes(e)),a={APPROVED:"approved",PENDING:"pending",DISAPPROVED:"declined",APPEAL_PENDING:"appeal_pending"},l=Object.freeze({APPLIED:"APPLIED",ACCEPTED:"ACCEPTED",NON_COMPLIANT:"NON_COMPLIANT",SUSPENDED:"SUSPENDED",CANCELLED:"CANCELLED"}),r=Object.freeze({UNSTARTED:"workflow-status-unstarted",IN_PROGRESS:"workflow-status-in-progress",ACCEPTED:"check-circle",ATTENTION:"workflow-status-warning",REJECTED:"workflow-status-problem",RECOMMENDED:"info-circle"}),c=Object.freeze({UNSTARTED:"dark",IN_PROGRESS:"success",ACCEPTED:"success",ATTENTION:"warning",REJECTED:"error",RECOMMENDED:"subtle"}),u="Verified merchant program not yet available in this country",d=2e3,_={can_appeal:!0,is_appeal:!1,appeal_count:0,appeal_comment:"",shipping_policy_url:"",return_policy_url:"",review_status:2,review_reasons:[]},p=Object.freeze({ACCOUNT_AGE:"ACCOUNT_AGE",DOMAIN_AGE:"DOMAIN_AGE",PROFILE_IMAGE:"PROFILE_IMAGE",PROFILE_COVER_IMAGE:"PROFILE_COVER_IMAGE",BIO:"BIO",SHOP_TAB:"SHOP_TAB",PINNER_FEEDBACK:"PINNER_FEEDBACK"}),h=[p.ACCOUNT_AGE,p.DOMAIN_AGE,p.PROFILE_IMAGE,p.PROFILE_COVER_IMAGE,p.BIO,p.SHOP_TAB,p.PINNER_FEEDBACK],m=Object.freeze({PASS:"PASS",FAIL:"FAIL"}),g=30,f=.5},793160:function(e,t,s){s.d(t,{Z:()=>n});let n=(0,s(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},32602:function(e,t,s){s.d(t,{Z:()=>o});var n=s(667294),i=s(793160);function o(){let e=(0,n.useContext)(i.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},113116:function(e,t,s){s.d(t,{Z:()=>S});var n=s(686659),i=s(667294),o=s(312048),a=s(20256),l=s(470205),r=s(24246),c=s(173874),u=s(825605),d=s(575820),_=s(271875),p=s(92700),h=s(107416),m=s(802559),g=s(996590),f=s(510755),b=s(577564),y=s(217616),v=s(336486),x=s(832698),w=s(785893);let P=()=>Promise.all([s.e("37409"),s.e("84404")]).then(s.bind(s,263579)),A=(0,i.lazy)(P);function C({onClearBadges:e,onClick:t,onPanelChange:s,tooltipText:C}){(0,i.useEffect)(()=>{(0,n.Z)("AuthNewsButton","/app/www/growth/news/NewsConversationsButton/AuthNewsButton.tsx")},[]);let k=(0,r.Z)(),S=(0,o.TH)(),Z=(0,i.useRef)(null),[E,j]=(0,i.useState)(!1),[T,I]=(0,i.useState)(!1),[z,L]=(0,i.useState)(!1),[B,R]=(0,i.useState)(!1),{tab:M,news_hub_id:N}=(0,d.mB)(S.search),{conversations:{conversationsUnseenCount:D,newsHubCount:O}}=(0,_.Z)(),{enabled:U}=(0,y.Z)(),{isPanelOpen:H,togglePanelState:F}=(0,x.Z)(),V=(0,v.Z)(),G=e=>{if((0,c.L6)(S))return;let t=Math.max(e,0),s=k._('Pinterest', ' - ', ' -- ');window.document.title=t?`(${t}) ${s}`:s};(0,i.useEffect)(()=>{G(D+O),S.pathname.startsWith("/notifications")&&"inbox"!==M&&!V?j(!0):S.pathname.startsWith("/notifications")&&"inbox"===M&&V&&s?.(!0)},[D,O,V]);let $=()=>{t?.(),V?F("news"):j(!E),e(p.S.NEWS_HUB),G(0)};(0,i.useEffect)(()=>{let e=setTimeout(()=>{I(E),L(E),s?.(E)},100);return()=>clearTimeout(e)},[E]),(0,i.useEffect)(()=>{E&&s?.(E)},[E]);let W=k._('Updates', 'updates.button', 'Accessibility label for updates button.'),q=k._('Notifications', 'notifications.button', 'Accessibility label for notifications button.'),X=C||k._('Notifications', 'navbar.newsButton.tooltip', 'Tooltip text for icon button to show recent notifications');return(0,w.jsxs)(i.Fragment,{children:[(0,w.jsx)(a.xu,{ref:Z,"data-test-id":"bell-icon",onMouseEnter:P,position:"relative",children:U?(0,w.jsx)(m.Z,{accessibilityControls:g.o9,accessibilityLabel:W,badgeCount:O,onClick:$,selected:H("news"),tooltipText:X,verticalNavIconName:"notifications"}):(0,w.jsx)(a.u,{accessibilityLabel:"",text:X,zIndex:new a.H3([new a.Ry(f.fe)]),children:(0,w.jsx)(h.Z,{accessibilityLabel:q,badgeCount:O,icon:"bell",onClick:$,selected:E})})}),(0,w.jsx)(b.Jo,{children:(0,w.jsx)("div",{className:"newsHubSidebarWrapper",style:E?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:T&&!V&&(0,w.jsx)(l.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,w.jsx)(u.Z,{children:(0,w.jsx)(A,{handleDismissPanel:()=>{j(!1),R(!1)},highlightScrollSidebar:B,newsButton:Z.current,show:z,utmNewsHubId:N||null})})})})})]})}var k=s(721030);function S({onClick:e,onPanelChange:t,tooltipText:s}){return(0,i.useEffect)(()=>{(0,n.Z)("NewsButton","/app/www/growth/news/NewsConversationsButton/NewsButton.tsx")},[]),(0,w.jsx)(k.Z,{icon:"bell",children:({onClearBadges:n})=>(0,w.jsx)(C,{onClearBadges:n,onClick:e,onPanelChange:t,tooltipText:s})})}},107416:function(e,t,s){s.d(t,{Z:()=>c});var n=s(686659),i=s(667294),o=s(20256),a=s(544957),l=s(525030),r=s(785893);function c({accessibilityLabel:e,badgeCount:t=0,icon:s="speech-ellipsis",onClick:c,selected:u=!1}){return(0,i.useEffect)(()=>{(0,n.Z)("NotificationsButton","/app/www/growth/news/NewsConversationsButton/NotificationsButton.tsx")},[]),(0,r.jsx)(l.Z,{accessibilityLabel:e,contextData:{event:101,component:8,element:1187},icon:(0,r.jsx)(a.Z,{count:t,iconSlot:(0,r.jsx)(o.JO,{accessibilityLabel:"",color:u?"default":"subtle",icon:s,size:24}),itemLabel:e}),onClick:c,text:e,type:"button"},"NotificationsButton")}},802559:function(e,t,s){s.d(t,{Z:()=>r});var n=s(686659),i=s(667294),o=s(104999),a=s(593302),l=s(785893);function r({dataTestId:e,accessibilityLabel:t,accessibilityControls:s,tooltipText:r,badgeCount:c,onClick:u,selected:d,verticalNavIconName:_}){(0,i.useEffect)(()=>{(0,n.Z)("VerticalNavNotificationsButton","/app/www/growth/news/NewsConversationsButton/VerticalNavNotificationsButton.tsx")},[]);let p=(0,o.Z)();return(0,l.jsx)(a.Td,{accessibilityControls:s,accessibilityLabel:t,accessibilityPopupRole:"dialog",badgeCount:c,dataTestId:e,iconName:_,onClick:({event:e})=>{p({event_type:101,component:8,element:1187}),u&&u(e)},selected:d,tooltipText:r})}},996590:function(e,t,s){s.d(t,{AI:()=>O,AM:()=>w,AY:()=>J,Ay:()=>l,C:()=>et,Cc:()=>u,DX:()=>I,GO:()=>N,HJ:()=>r,I2:()=>F,IO:()=>ea,IV:()=>i,J0:()=>b,LL:()=>ee,Ng:()=>n,P:()=>k,P3:()=>f,QE:()=>ei,QX:()=>es,Rd:()=>C,So:()=>v,V$:()=>p,Vp:()=>W,WC:()=>E,Z1:()=>d,ZH:()=>B,aE:()=>g,c4:()=>S,cU:()=>Z,ci:()=>j,d1:()=>h,di:()=>H,gb:()=>Q,gs:()=>M,hD:()=>G,hf:()=>U,hp:()=>D,hy:()=>a,ie:()=>y,kJ:()=>K,kc:()=>A,mD:()=>$,mM:()=>T,o9:()=>o,pv:()=>_,qZ:()=>P,qb:()=>x,uW:()=>R,uZ:()=>c,uy:()=>q,vG:()=>X,wA:()=>m,wl:()=>V,yS:()=>en,yc:()=>L,yf:()=>el,ys:()=>Y,zM:()=>z});let n={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",JOURNEY:"journey",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},i=3,o="news-feed-sidebar",a=360,l=15,r=375,c=64,u=36,d=78,_=44,p=344,h=376,m=164,g=328,f=164,b=108.7,y=3,v=82,x=82,w=164,P=164,A=4,C=164,k=164,S=2,Z=82,E=164,j=2,T=2,I=4,z=328,L="290x",B="170x",R={backgroundColor:"rgba(0, 0, 0, 0.4)"},M=4,N="1px",D=48,O=32,U=36,H="136x136",F=2,V=24,G=20,$=72,W=48,q=54,X=54,Y=4,K=118,J=236,Q={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18,HIGHLIGHT_NOTIFICATION:23},ee="recommendation",et="dropdown_item_settings_id",es=10,en=20,ei=5e3,eo="#E9E4FF",ea={backgroundColor:eo,borderColor:eo,paddingLeft:"16px",paddingTop:"16px",paddingBottom:"16px",paddingRight:"12px"},el={...ea,paddingRight:"10px"}},92700:function(e,t,s){s.d(t,{S:()=>n});let n={NEWS_HUB:1,INBOX:2}},66110:function(e,t,s){s.d(t,{Z:()=>o});var n=s(935059),i=s(501010);function o(){let{checkExperiment:e}=(0,i.Z)(),t=(0,n.Z)();return t.isAuth&&t.isPartner&&e("aid_exp_ia_update_engagement").anyEnabled}},959646:function(e,t,s){s.d(t,{Z:()=>M});var n=s(686659),i=s(667294),o=s(312048),a=s(20256),l=s(27399),r=s(4533),c=s(943152),u=s(935059),d=s(24246),_=s(173874),p=s(501010),h=s(34550),m=s(893957),g=s(271875),f=s(1690),b=s(92700),y=s(492601),v=s(32602),x=s(107416),w=s(802559),P=s(510755),A=s(230201),C=s(319226),k=s(774838),S=s(810717),Z=s(217616),E=s(785893);function j({conversation:e,anchor:t}){(0,i.useEffect)(()=>{(0,n.Z)("MessageNotification","/app/www/messages/MessageNotification.tsx")},[]);let[s,o]=(0,i.useState)(!1),{dropdownOpen:l,conversationOpen:c}=(0,g.Z)(),u=(0,d.Z)(),{isRTL:_}=(0,k.B)(),{logContextEvent:p}=(0,A.u)(),{enabled:f}=(0,Z.Z)();if((0,m.Z)(()=>{let t=e.last_message,s=h.ZP.getItem(r.Td);t&&t.id!==s&&setTimeout(()=>{o(!0),p({event_type:13,component:14993}),h.ZP.setItem(r.Td,t.id),h.ZP.setItem(r.eQ,Date.now()),window.addEventListener("click",e=>{document.getElementById("message-notif-toast")?.contains(e.target)||o(!1)}),setTimeout(()=>{o(!1)},5e3)},S.XZ)}),!e.last_message||!s)return null;let{sender:b}=e.last_message,y=b.first_name||b.username||"",v=e.last_message.pin?u._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):u._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),x=(0,E.jsxs)(a.xv,{color:"light",inline:!0,children:[(0,E.jsxs)(a.xv,{color:"light",inline:!0,weight:"bold",children:[y," "]}),v]}),w=(0,E.jsxs)(a.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"start",paddingX:4,paddingY:2,children:[(0,E.jsx)(a.xu,{marginEnd:3,children:(0,E.jsx)(C.qE,{name:y,size:"sm",src:b.image_large_url??void 0})}),x]}),j="down";return f&&(j=_?"left":"right"),(0,E.jsx)(a.mh,{zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,E.jsx)(a.iP,{onTap:()=>{l(),c(e.id),o(!1),p({event_type:101,component:14993})},children:(0,E.jsx)(a.xu,{id:"message-notif-toast",children:(0,E.jsx)(a.pl,{anchor:t,idealDirection:j,onDismiss:()=>{},role:"dialog",size:"flexible",type:"notification",children:w})})})})}var T=s(336486),I=s(832698);function z(e,t,s){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class L extends i.Component{constructor(...e){super(...e),z(this,"setButtonRef",e=>{let{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))}),z(this,"clearBadges",()=>{let{onClearBadges:e}=this.props;e(b.S.INBOX),this.updateBrowserTabTitleCount(0)}),z(this,"handleButtonClick",e=>{let{requireAuth:t,showPanel:s,closeConversationsDropdown:n,openConversationsDropdown:i,onClick:o}=this.props;if(o?.(),t){e&&e.stopPropagation(),t();return}s?n():i(),this.clearBadges()})}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(){this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){let{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){if((0,_.L6)(this.props.location))return;let{i18n:t}=this.props,s=Math.max(e,0),n=t._('Pinterest', ' - ', ' -- ');window.document.title=s?`(${s}) ${n}`:n}render(){let{conversationsUnseenCount:e,i18n:t,showPanel:s,conversationWithUnreadMessage:n,isVerticalNavEnabled:i}=this.props,o=t._('Messages', 'messages.button', 'Accessibility label for messages button with no pending unread messages.'),l=t._('Messages', 'navbar.conversationsButton.tooltip', 'Tooltip text for icon button to show conversations inbox'),r="notifications-button";return(0,E.jsxs)(a.xu,{ref:this.setButtonRef,position:"relative",children:[i?(0,E.jsx)(w.Z,{accessibilityControls:y.rC,accessibilityLabel:o,badgeCount:e,dataTestId:r,onClick:this.handleButtonClick,selected:s,tooltipText:l,verticalNavIconName:"messages"}):(0,E.jsx)(a.u,{accessibilityLabel:"",text:l,zIndex:new a.H3([new a.Ry(P.fe)]),children:(0,E.jsx)(a.xu,{"data-test-id":r,children:(0,E.jsx)(x.Z,{accessibilityLabel:o,badgeCount:e,icon:"speech-ellipsis",onClick:this.handleButtonClick,selected:s})})}),n&&(0,E.jsx)(j,{anchor:this.anchor,conversation:n})]})}}function B(e){(0,i.useEffect)(()=>{(0,n.Z)("AuthConversationsButton","/app/www/messages/AuthConversationsButton.tsx")},[]);let t=(0,d.Z)(),s=(0,c.Z)(),a=(0,o.TH)(),{isAuth:b,isLimitedLogin:y}=(0,u.Z)(),{enabled:x}=(0,Z.Z)(),{isPanelOpen:w}=(0,I.Z)();(0,m.Z)(()=>{b&&!y&&l.Z.create("ConversationsResource",{field_set_key:"default"}).callGet()});let{conversations:{conversationsUnseenCount:P,newsHubCount:A,showConversationsDropdown:C},dropdownClose:k,dropdownOpen:j}=(0,g.Z)(),{checkExperiment:z}=(0,p.Z)(),{setInboxButton:B}=(0,v.Z)(),R=(0,f.Z)().find(e=>e.unread>0),M=(0,_.C$)(a),N=h.ZP.getItem(r.eQ),D=N&&Date.now()-Number(N)<S.VC,O=M&&!C&&!D&&R&&z("sg_dweb_app_start_msg_notif").anyEnabled,U=(0,i.useRef)(!0),{togglePanelState:H}=(0,I.Z)(),F=(0,T.Z)();return(0,i.useEffect)(()=>{U.current||e.onPanelChange?.(C),U.current=!1},[C]),(0,E.jsx)(L,{...e,closeConversationsDropdown:F?()=>H("conversations"):k,conversationsUnseenCount:P,conversationWithUnreadMessage:O?R:null,i18n:t,isVerticalNavEnabled:x,location:a,newsHubCount:A,openConversationsDropdown:F?()=>H("conversations"):j,requireAuth:s,setInboxButton:B,showPanel:F?w("conversations"):C})}var R=s(721030);function M({onClick:e,onPanelChange:t}){return(0,i.useEffect)(()=>{(0,n.Z)("ConversationsButton","/app/www/messages/ConversationsButton.tsx")},[]),(0,E.jsx)(R.Z,{icon:"speech-ellipsis",children:({onClearBadges:s})=>(0,E.jsx)(B,{onClearBadges:s,onClick:e,onPanelChange:t})})}},721030:function(e,t,s){s.d(t,{Z:()=>x});var n,i=s(686659),o=s(667294),a=s(20256),l=s(167912),r=s(27399),c=s(986475),u=s(661376),d=s(640200),_=s(271875),p=s(92700),h=s(785893);let m=(0,c.Z)(d.Z);class g extends o.Component{constructor(...e){var t,s,n;super(...e),t="handleClearBadges",s=e=>{e===p.S.NEWS_HUB?(r.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var n=s.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):this[t]=s}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;let t=this.props.badgeResource.data,s=e.badgeResource.data;return t&&s?!!["conversations_unseen_count","news_hub_count"].map(e=>t[e]!==s[e]).filter(Boolean).length:!t&&!!s}componentDidUpdate(){let{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:s}=this.props;if(!(e&&e.data))return;let n=m(e.data);s(n.conversationsUnseenCount),t(n.newsHubCount)}render(){let{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function f({conversationBadgeCall:e,children:t}){let s=(0,u.Z)({name:"NewsHubBadgeResource",noCache:!0}),{updateNewsHubCount:n,updateUnreadCount:i}=(0,_.Z)();return(0,h.jsx)(g,{badgeResource:s,conversationBadgeCall:e,updateNewsHubCount:n,updateUnreadCount:i,children:t})}function b({children:e}){return(0,o.useEffect)(()=>{(0,i.Z)("BadgeManager","/app/www/messages/BadgeManager.tsx")},[]),(0,h.jsx)(f,{conversationBadgeCall:(()=>{let e=(void 0!==n||(n=s(71697)).hash&&"d6f840c748407c7aa62123d5beac3239"!==n.hash&&console.error("The definition of 'BadgeManagerMutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[t]=(0,l.useMutation)(e);return async()=>await new Promise((e,s)=>{t({variables:{},onCompleted:(t,n)=>{n&&s(n[0]),e(t)},onError:e=>s(e)})})})(),children:e})}var y=s(217616),v=s(593302);function x({icon:e,children:t}){(0,o.useEffect)(()=>{(0,i.Z)("DeferredMessagesButton","/app/www/messages/DeferredMessagesButton.tsx")},[]);let[s,n]=(0,o.useState)(!1),{enabled:l}=(0,y.Z)();return((0,o.useEffect)(()=>{n(!0)},[]),s)?(0,h.jsx)(b,{children:t}):(0,h.jsx)(a.xu,{paddingX:1,children:(0,h.jsx)(a.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:l?(0,h.jsx)(v.QV,{iconName:"speech-ellipsis"===e?"messages":"notifications",selected:!1}):(0,h.jsx)(a.JO,{accessibilityLabel:"",color:"subtle",icon:e,size:24})})})}},810717:function(e,t,s){s.d(t,{VC:()=>v,XZ:()=>y,ZP:()=>x});var n=s(686659),i=s(667294),o=s(312048),a=s(20256),l=s(27399),r=s(4533),c=s(319226),u=s(924591),d=s(935059),_=s(24246),p=s(173874),h=s(34550),m=s(577356),g=s(739405),f=s(893957),b=s(785893);let y=2e3,v=864e5;function x(){(0,i.useEffect)(()=>{(0,n.Z)("NotifcationToastForUnreadMessage","/app/www/notifications/NotifcationToastForUnreadMessage.tsx")},[]);let e=(0,_.Z)(),t=(0,d.Z)(),{isAuth:s,isLimitedLogin:x}=t,w=t.isAuth?t?.avatar_color_index:void 0,{showToast:P}=(0,m.dI)(),A=(0,o.s0)(),C=(0,o.TH)(),k=(0,p.C$)(C),S=(0,g.HG)();return(0,f.Z)(()=>{let t=async()=>{let t=l.Z.create("ConversationsResource",{field_set_key:"default"}),s=(await t.callGet()).resource_response.data.find(e=>e.unread>0),n=h.ZP.getItem(r.eQ),i=n&&Date.now()-Number(n)<v,o=s&&k&&!i&&s.last_message,d=h.ZP.getItem(r.Td);if(o&&o.id!==d){h.ZP.setItem(r.Td,o.id),h.ZP.setItem(r.eQ,Date.now());let{sender:t}=o,n=t.first_name||t.username||"",i=o.pin?e._('sent you a Pin', 'navbar.messageNotifications.text', 'Message notification text'):e._('sent you a message', 'navbar.messageNotifications.text', 'Message notification text'),l=(0,b.jsxs)(a.xv,{inline:!0,children:[(0,b.jsxs)(a.xv,{inline:!0,weight:"bold",children:[n," "]}),i]});setTimeout(()=>{P(({hideToast:i})=>(0,b.jsx)(u.Z,{duration:5e3,onHide:i,primaryAction:{accessibilityLabel:e._('Reply to the message', 'NotificationToast.replyButton.accessibilityLabel', 'Button on notification toast for users to reply to the message'),label:e._('Reply', 'NotificationToast.replyButton.buttonText', 'Button on notification toast for users to reply to the message'),onClick:()=>{A(`/conversation/${s.id}`),i()}},text:l,thumbnail:{avatar:(0,b.jsx)(c.qE,{color:w,name:n,size:"sm",src:t.image_large_url||""})}}))},y)}};!s||x||S||t()}),null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/24801-9efab0209a89d566.mjs.map